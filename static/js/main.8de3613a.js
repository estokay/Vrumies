/*! For license information please see main.8de3613a.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),s=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,D=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function V(e){0>F||(e.current=M[F],M[F]=null,F--)}function z(e,t){F++,M[F]=e.current,e.current=t}var B=U(null),$=U(null),q=U(null),H=U(null);function W(e,t){switch(z(q,t),z($,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),z(B,e)}function G(){V(B),V($),V(q)}function K(e){null!==e.memoizedState&&z(H,e);var t=B.current,n=id(t,e.type);t!==n&&(z($,e),z(B,n))}function J(e){$.current===e&&(V(B),V($)),H.current===e&&(V(H),Kd._currentValue=L)}var Y=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=ye(r):0!==(a&=o)?s=ye(a):n||0!==(n=o&~e)&&(s=ye(n)):0!==(o=r&~i)?s=ye(o):0!==a?s=ye(a):n||0!==(n=r&~e)&&(s=ye(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:s}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function je(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,Re="__reactProps$"+Ae,De="__reactContainer$"+Ae,Oe="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,Me="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,Ue="__reactMarker$"+Ae;function Ve(e){delete e[Pe],delete e[Re],delete e[Oe],delete e[Le],delete e[Me]}function ze(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ue]=!0}var We=new Set,Ge={};function Ke(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ge[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,Y.call(et,s)||!Y.call(Ze,s)&&(Xe.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Nt(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Re]||null;if(!s)throw Error(a(90));gt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Lt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Pt||null!==Rt)&&(zc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Rh){Ut=!1}var zt=null,Bt=null,$t=null;function qt(){if($t)return $t;var e,t,n=Bt,r=n.length,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Wt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Jt,Yt,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Kt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Jt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Jt=0,Qt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Kt(nn),sn=Kt(h({},nn,{dataTransfer:0})),an=Kt(h({},en,{relatedTarget:0})),on=Kt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Kt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Kt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Kt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(h({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,jn=null;Ft&&"documentMode"in document&&(jn=document.documentMode);var Nn=Ft&&"TextEvent"in window&&!jn,Sn=Ft&&(!kn||jn&&8<jn&&11>=jn),En=String.fromCharCode(32),Cn=!1;function _n(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,On=null;function Ln(e){Lu(e,0)}function Mn(e){if(ht($e(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var Vn;if(Ft){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}Vn=zn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function $n(){Dn&&(Dn.detachEvent("onpropertychange",qn),On=Dn=null)}function qn(e){if("value"===e.propertyName&&Mn(On)){var t=[];Rn(t,On,e,At(e)),Lt(Ln,t)}}function Hn(e,t,n){"focusin"===e?($n(),On=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&$n()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(On)}function Gn(e,t){if("click"===e)return Mn(t)}function Kn(e,t){if("input"===e||"change"===e)return Mn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Y.call(t,s)||!Jn(e[s],t[s]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,ir=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=qu(sr,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Ke(t,[e])}wr.push("scrollEnd");var jr=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},jr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sr=[],Er=0,Cr=0;function _r(){for(var e=Er,t=Cr=Er=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var s=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Pr(n,s,i)}}function Tr(e,t,n,r){Sr[Er++]=e,Sr[Er++]=t,Sr[Er++]=n,Sr[Er++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Tr(e,t,n,r),Rr(e)}function Ar(e,t){return Tr(e,null,null,t),Rr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-pe(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Rr(e){if(50<Pc)throw Pc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Or(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,s,i){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Lr(31,n,t,s)).elementType=C,e.lanes=i,e;case g:return zr(n.children,s,i,t);case v:o=8,s|=24;break;case y:return(e=Lr(12,n,t,2|s)).elementType=y,e.lanes=i,e;case j:return(e=Lr(13,n,t,s)).elementType=j,e.lanes=i,e;case N:return(e=Lr(19,n,t,s)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case k:o=11;break e;case S:o=14;break e;case E:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Wr=null,Gr=0,Kr=[],Jr=0,Yr=null,Qr=1,Xr="";function Zr(e,t){qr[Hr++]=Gr,qr[Hr++]=Wr,Wr=e,Gr=t}function es(e,t,n){Kr[Jr++]=Qr,Kr[Jr++]=Xr,Kr[Jr++]=Yr,Yr=e;var r=Qr;e=Xr;var s=32-pe(r)-1;r&=~(1<<s),n+=1;var i=32-pe(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Qr=1<<32-pe(t)+s|n<<s|r,Xr=i+e}else Qr=1<<i|n<<s|r,Xr=e}function ts(e){null!==e.return&&(Zr(e,1),es(e,1,0))}function ns(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Gr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Kr[--Jr],Kr[Jr]=null,Xr=Kr[--Jr],Kr[Jr]=null,Qr=Kr[--Jr],Kr[Jr]=null}var rs=null,ss=null,is=!1,as=null,os=!1,ls=Error(a(519));function cs(e){throw ms(Nr(Error(a(418,"")),e)),ls}function us(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Re]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Mu(Du[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=Qu),t=!0):t=!1,t||cs(e)}function ds(e){for(rs=e.return;rs;)switch(rs.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:rs=rs.return}}function hs(e){if(e!==rs)return!1;if(!is)return ds(e),is=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,pd(e.type)?(e=yd,yd=null,ss=e):ss=n):ss=rs?vd(e.stateNode.nextSibling):null;return!0}function ps(){ss=rs=null,is=!1}function fs(){var e=as;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),as=null),e}function ms(e){null===as?as=[e]:as.push(e)}var gs=U(null),vs=null,ys=null;function bs(e,t,n){z(gs,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=gs.current,V(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),ws(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function js(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(0!==(524288&s.flags))i=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Jn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===H.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}s=s.return}null!==e&&ks(t,e,n,r),t.flags|=262144}function Ns(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){vs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Es(e){return _s(vs,e)}function Cs(e,t){return null===vs&&Ss(e),_s(e,t)}function _s(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(a(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var Ts="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Is=r.unstable_scheduleCallback,As=r.unstable_NormalPriority,Ps={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rs(){return{controller:new Ts,data:new Map,refCount:0}}function Ds(e){e.refCount--,0===e.refCount&&Is(As,function(){e.controller.abort()})}var Os=null,Ls=0,Ms=0,Fs=null;function Us(){if(0===--Ls&&null!==Os){null!==Fs&&(Fs.status="fulfilled");var e=Os;Os=null,Ms=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vs=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Os){var n=Os=[];Ls=0,Ms=Tu(),Fs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ls++,t.then(Us,Us)}(0,t),null!==Vs&&Vs(e,t)};var zs=U(null);function Bs(){var e=zs.current;return null!==e?e:rc.pooledCache}function $s(e,t){z(zs,null===t?zs.current:t.pool)}function qs(){var e=Bs();return null===e?null:{parent:Ps._currentValue,pool:e}}var Hs=Error(a(460)),Ws=Error(a(474)),Gs=Error(a(542)),Ks={then:function(){}};function Js(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ys(){}function Qs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ys,Ys),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ys,Ys);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Xs=t,Hs}}var Xs=null;function Zs(){if(null===Xs)throw Error(a(459));var e=Xs;return Xs=null,e}function ei(e){if(e===Hs||e===Gs)throw Error(a(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Rr(e),Pr(e,null,n),t}return Tr(e,r,t,n),Rr(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fs)throw Fs}}function ui(e,t,n,r){li=!1;var s=e.updateQueue;ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(ic&p)===p:(r&p)===p){0!==p&&p===Ms&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:ti=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=s.callbacks)?s.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=p;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(f=o).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===i&&(s.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var pi=U(null),fi=U(0);function mi(e,t){z(fi,e=dc),z(pi,t),dc=e|t.baseLanes}function gi(){z(fi,dc),z(pi,pi.current)}function vi(){dc=fi.current,V(pi),V(fi)}var yi=0,bi=null,xi=null,wi=null,ki=!1,ji=!1,Ni=!1,Si=0,Ei=0,Ci=null,_i=0;function Ti(){throw Error(a(321))}function Ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Ai(e,t,n,r,s,i){return yi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ha:Wa,Ni=!1,i=n(r,s),Ni=!1,ji&&(i=Ri(t,n,r,s)),Pi(e),i}function Pi(e){D.H=qa;var t=null!==xi&&null!==xi.next;if(yi=0,wi=xi=bi=null,ki=!1,Ei=0,Ci=null,t)throw Error(a(300));null===e||Co||null!==(e=e.dependencies)&&Ns(e)&&(Co=!0)}function Ri(e,t,n,r){bi=e;var s=0;do{if(ji&&(Ci=null),Ei=0,ji=!1,25<=s)throw Error(a(301));if(s+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Ga,i=t(n,r)}while(ji);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Oi(){var e=0!==Si;return Si=0,e}function Li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}yi=0,wi=xi=bi=null,ji=!1,Ei=Si=0,Ci=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function Ui(){if(null===xi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===bi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function Vi(e){var t=Ei;return Ei+=1,null===Ci&&(Ci=[]),e=Qs(Ci,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ha:Wa),e}function zi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===w)return Es(e)}throw Error(a(438,String(e)))}function Bi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function $i(e,t){return"function"===typeof t?t(e):t}function qi(e){return Hi(Ui(),xi,e)}function Hi(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(yi&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ms&&(d=!0);else{if((yi&p)===p){u=u.next,p===Ms&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,bi.lanes|=p,pc|=p}h=u.action,Ni&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,bi.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Jn(i,e.memoizedState)&&(Co=!0,d&&null!==(n=Fs)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wi(e){var t=Ui(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Jn(i,t.memoizedState)||(Co=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,s=Ui(),i=is;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Jn((xi||s).memoizedState,n);if(o&&(s.memoizedState=n,Co=!0),s=s.queue,ga(2048,8,Yi.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Ji.bind(null,r,s,n,t),null),null===rc)throw Error(a(349));i||0!==(124&yi)||Ki(r,t,n)}return n}function Ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ji(e,t,n,r){t.value=n,t.getSnapshot=r,Qi(t)&&Xi(e)}function Yi(e,t,n){return n(function(){Qi(t)&&Xi(e)})}function Qi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Xi(e){var t=Ar(e,2);null!==t&&Lc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Hi(e,xi,"function"===typeof r?r:$i)}function ta(e,t,n,r,s){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,na(t,i)):(i.next=n.next,t.pending=n.next=i)}}function na(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=D.T,a={};D.T=a;try{var o=n(s,r),l=D.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){ia(e,t,c)}finally{D.T=i}}else try{ra(e,t,i=n(s,r))}catch(u){ia(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){sa(e,t,n)},function(n){return ia(e,t,n)}):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(is){var n=rc.formState;if(null!==n){e:{var r=bi;if(is){if(ss){t:{for(var s=ss,i=os;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=vd(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){ss=vd(s.nextSibling),r="F!"===s.data;break e}}cs(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=Va.bind(null,bi,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=s,n=ta.bind(null,bi,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Ui(),xi,e)}function ua(e,t,n){if(t=Hi(e,t,oa)[0],e=qi($i)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vi(t)}catch(a){if(a===Hs)throw Gs;throw a}else r=t;var s=(t=Ui()).queue,i=s.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,pa(9,{destroy:void 0,resource:void 0},da.bind(null,s,n),null)),[r,i,e]}function da(e,t){e.action=t}function ha(e){var t=Ui(),n=xi;if(null!==n)return ua(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fa(){return Ui().memoizedState}function ma(e,t,n,r){var s=Fi();r=void 0===r?null:r,bi.flags|=e,s.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var s=Ui();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==xi&&null!==r&&Ii(r,xi.memoizedState.deps)?s.memoizedState=pa(t,i,n,r):(bi.flags|=e,s.memoizedState=pa(1|t,i,n,r))}function va(e,t){ma(8390656,8,e,t)}function ya(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function xa(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function ja(){}function Na(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ii(t,r[1]))return r[0];if(r=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ea(e,t,n){return void 0===n||0!==(1073741824&yi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bi.lanes|=e,pc|=e,n)}function Ca(e,t,n,r){return Jn(n,t)?n:null!==pi.current?(e=Ea(e,n,r),Jn(e,t)||(Co=!0),e):0===(42&yi)?(Co=!0,e.memoizedState=n):(e=Oc(),bi.lanes|=e,pc|=e,t)}function _a(e,t,n,r,s){var i=O.p;O.p=0!==i&&8>i?i:8;var a=D.T,o={};D.T=o,Va(e,!1,t,n);try{var l=s(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Ua(e,t,r,Dc())}catch(u){Ua(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{O.p=i,D.T=a}}function Ta(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=Aa(e).queue;_a(e,s,t,L,null===n?Ta:function(){return Pa(e),n(r)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){Ua(e,Aa(e).next.queue,{},Dc())}function Ra(){return Es(Kd)}function Da(){return Ui().memoizedState}function Oa(){return Ui().memoizedState}function La(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ii(t,e=si(n),n);return null!==r&&(Lc(r,t,n),ai(r,t,n)),t={cache:Rs()},void(e.payload=t)}t=t.return}}function Ma(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},za(e)?Ba(t,n):null!==(n=Ir(e,t,n,r))&&(Lc(n,e,r),$a(n,t,r))}function Fa(e,t,n){Ua(e,t,n,Dc())}function Ua(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(za(e))Ba(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Jn(o,a))return Tr(e,t,s,0),null===rc&&_r(),!1}catch(l){}if(null!==(n=Ir(e,t,s,r)))return Lc(n,e,r),$a(n,t,r),!0}return!1}function Va(e,t,n,r){if(r={lane:2,revertLane:Tu(),action:r,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Lc(t,e,2)}function za(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function Ba(e,t){ji=ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qa={readContext:Es,use:zi,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useLayoutEffect:Ti,useInsertionEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useSyncExternalStore:Ti,useId:Ti,useHostTransitionStatus:Ti,useFormState:Ti,useActionState:Ti,useOptimistic:Ti,useMemoCache:Ti,useCacheRefresh:Ti},Ha={readContext:Es,use:zi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var s=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Ma.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Fa.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ja,useDeferredValue:function(e,t){return Ea(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=_a.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,s=Fi();if(is){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&ic)||Ki(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,va(Yi.bind(null,r,i,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Ji.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(is){var n=Xr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-pe(Qr)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=_i++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Fi().memoizedState=La.bind(null,bi)}},Wa={readContext:Es,use:zi,useCallback:Na,useContext:Es,useEffect:ya,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Sa,useReducer:qi,useRef:fa,useState:function(){return qi($i)},useDebugValue:ja,useDeferredValue:function(e,t){return Ca(Ui(),xi.memoizedState,e,t)},useTransition:function(){var e=qi($i)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Da,useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Ui(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Oa},Ga={readContext:Es,use:zi,useCallback:Na,useContext:Es,useEffect:ya,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Sa,useReducer:Wi,useRef:fa,useState:function(){return Wi($i)},useDebugValue:ja,useDeferredValue:function(e,t){var n=Ui();return null===xi?Ea(n,e,t):Ca(n,xi.memoizedState,e,t)},useTransition:function(){var e=Wi($i)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Da,useHostTransitionStatus:Ra,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Ui();return null!==xi?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Oa},Ka=null,Ja=0;function Ya(e){var t=Ja;return Ja+=1,null===Ka&&(Ka=[]),Qs(Ka,e,t)}function Qa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xa(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===E&&Za(i)===t.type)?(Qa(t=s(t,n.props),n),t.return=e,t):(Qa(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Qa(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||I(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ya(t),n);if(t.$$typeof===w)return h(e,Cs(e,t),n);Xa(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===s?c(e,t,n,r):null;case m:return n.key===s?u(e,t,n,r):null;case E:return p(e,t,n=(s=n._init)(n._payload),r)}if(R(n)||I(n))return null!==s?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Ya(n),r);if(n.$$typeof===w)return p(e,t,Cs(e,n),r);Xa(e,n)}return null}function v(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case E:return v(e,t,n,r=(0,r._init)(r._payload),s)}if(R(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return v(e,t,n,Ya(r),s);if(r.$$typeof===w)return v(e,t,n,Cs(t,r),s);Xa(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&Za(b)===c.type){n(l,c.sibling),Qa(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Qa(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return o(l);case E:return y(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(s,a,o,l){for(var c=null,u=null,d=a,f=a=0,m=null;null!==d&&f<o.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(s,d,o[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(s,d),a=i(g,a,f),null===u?c=g:u.sibling=g,u=g,d=m}if(f===o.length)return n(s,d),is&&Zr(s,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(s,o[f],l))&&(a=i(d,a,f),null===u?c=d:u.sibling=d,u=d);return is&&Zr(s,f),c}for(d=r(d);f<o.length;f++)null!==(m=v(d,s,f,o[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),a=i(m,a,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(s,e)}),is&&Zr(s,f),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,f=o,m=o=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(s,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(s,f),o=i(b,o,m),null===d?u=b:d.sibling=b,d=b,f=g}if(y.done)return n(s,f),is&&Zr(s,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,m),null===d?u=y:d.sibling=y,d=y);return is&&Zr(s,m),u}for(f=r(f);!y.done;m++,y=l.next())null!==(y=v(f,s,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),o=i(y,o,m),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),is&&Zr(s,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Ya(u),d);if(u.$$typeof===w)return y(l,c,Cs(l,u),d);Xa(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ja=0;var s=y(e,t,n,r);return Ka=null,s}catch(a){if(a===Hs||a===Gs)throw a;var i=Lr(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=U(null),so=null;function io(e){var t=e.alternate;z(co,1&co.current),z(ro,e),null===so&&(null===t||null!==pi.current||null!==t.memoizedState)&&(so=e)}function ao(e){if(22===e.tag){if(z(co,co.current),z(ro,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){z(co,co.current),z(ro,ro.current)}function lo(e){V(ro),so===e&&(so=null),V(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),s=si(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Lc(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),s=si(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Lc(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=si(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Lc(t,e,n),ai(t,e,n))}};function fo(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(s,i))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function bo(e){console.error(e)}function xo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function jo(e,t,n){return(n=si(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=si(e)).tag=3,e}function So(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){ko(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof s&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Eo=Error(a(461)),Co=!1;function _o(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function To(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ss(t),r=Ai(e,t,n,a,i,s),o=Oi(),null===e||Co?(is&&o&&ts(t),t.flags|=1,_o(e,t,r,s),t.child):(Li(e,t,s),Jo(e,t,s))}function Io(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Mr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ao(e,t,i,r,s))}if(i=e.child,!Yo(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Jo(e,t,s)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=i,!Yo(e,s))return t.lanes=e.lanes,Jo(e,t,s);0!==(131072&e.flags)&&(Co=!0)}}return Oo(e,t,n,r,s)}function Po(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,i=0;null!==s;)i=i|s.lanes|s.childLanes,s=s.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$s(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),ao(t)}else null!==i?($s(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&$s(0,null),gi(),oo());return _o(e,t,s,n),t.child}function Ro(e,t,n,r){var s=Bs();return s=null===s?null:{parent:Ps._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&$s(0,null),gi(),ao(t),null!==e&&js(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,s){return Ss(t),n=Ai(e,t,n,r,void 0,s),r=Oi(),null===e||Co?(is&&r&&ts(t),t.flags|=1,_o(e,t,n,s),t.child):(Li(e,t,s),Jo(e,t,s))}function Lo(e,t,n,r,s,i){return Ss(t),t.updateQueue=null,n=Ri(t,r,n,s),Pi(e),r=Oi(),null===e||Co?(is&&r&&ts(t),t.flags|=1,_o(e,t,n,i),t.child):(Li(e,t,i),Jo(e,t,i))}function Mo(e,t,n,r,s){if(Ss(t),null===t.stateNode){var i=Dr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Es(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=po,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Es(a):Dr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&po.enqueueReplaceState(i,i.state,null),ui(t,r,i,s),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;a=Dr,"object"===typeof u&&null!==u&&(a=Es(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==a)&&mo(t,i,r,a),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,s),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||fo(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Es(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&mo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,s),ci();var p=t.memoizedState;a!==d||h!==p||ti||null!==e&&null!==e.dependencies&&Ns(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),p=t.memoizedState),(u=ti||fo(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ns(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Do(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):_o(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Jo(e,t,s),e}function Fo(e,t,n,r){return ps(),t.flags|=256,_o(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:qs()}}function zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bo(e,t,n){var r,s=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(is){if(i?io(t):oo(),is){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Qr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rs=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,i?(oo(),c=qo({mode:"hidden",children:c},i=t.mode),s=zr(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=Vo(n),i.childLanes=zo(e,r,n),t.memoizedState=Uo,s):(io(t),$o(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=s.fallback,c=t.mode,s=qo({mode:"visible",children:s.children},c),(i=zr(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=Vo(n),s.childLanes=zo(e,r,n),t.memoizedState=Uo,t=i);else if(io(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(a(419))).stack="",s.digest=r,ms({value:s,source:null,stack:null}),t=Ho(e,t,n)}else if(Co||js(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=rc)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:_e(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Ar(e,s),Lc(r,e,s),Eo;"$?"===c.data||Gc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=vd(c.nextSibling),rs=t,is=!0,as=null,os=!1,null!==e&&(Kr[Jr++]=Qr,Kr[Jr++]=Xr,Kr[Jr++]=Yr,Qr=e.id,Xr=e.overflow,Yr=t),(t=$o(t,s.children)).flags|=4096);return t}return i?(oo(),i=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=Fr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=zr(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Ps._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qs(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=zo(e,r,n),t.memoizedState=Uo,s):(io(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $o(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function Go(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ko(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(co,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(js(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ns(e))}function Qo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),bs(0,Ps,e.memoizedState.cache),ps();break;case 27:case 5:K(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(io(t),null!==(e=Jo(e,t,n))?e.sibling:null);io(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(js(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:bs(0,Ps,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,is&&0!==(1048576&t.flags)&&es(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===k){t.tag=11,t=To(null,t,r,e,n);break e}if(s===S){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=P(r)||r,Error(a(306,t,""))}Mr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,s=go(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bs(0,Ps,r),r!==i.cache&&ks(t,[Ps],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==s){ms(s=Nr(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=vd(e.firstChild),rs=t,is=!0,as=null,os=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===s){t=Jo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=_d(t.type,null,t.pendingProps,null))?t.memoizedState=n:is||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Pe]=t,r[Re]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&is&&(r=t.stateNode=xd(t.type,t.pendingProps,q.current),rs=t,os=!0,s=ss,pd(t.type)?(yd=s,ss=vd(r.firstChild)):ss=s),_o(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&is&&((s=r=ss)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,os))?(t.stateNode=r,rs=t,ss=vd(r.firstChild),os=!1,s=!0):s=!1),s||cs(t)),K(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,ad(s,i)?r=null:null!==o&&ad(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ai(e,t,Di,null,null,n),Kd._currentValue=s),Do(e,t),_o(e,t,r,n),t.child;case 6:return null===e&&is&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,rs=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Bo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):_o(e,t,r,n),t.child;case 11:return To(e,t,t.type,t.pendingProps,n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bs(0,t.type,r.value),_o(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ss(t),r=r(s=Es(s)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Ko(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Ss(t),r=Es(Ps),null===e?(null===(s=Bs())&&(s=rc,i=Rs(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},ni(t),bs(0,Ps,s)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Ps,r)):(r=i.cache,bs(0,Ps,r),r!==s.cache&&ks(t,[Ps],n,!0))),_o(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==so:(62914560&ic)!==ic&&0===(536870912&ic)||t!==so))throw Xs=Ks,Ws;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xs(Ps),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fs())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=q.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=B.current,hs(t)?us(t):(e=xd(s,r,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=B.current,hs(t))us(t);else{switch(s=rd(q.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Pe]=t,e[Re]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=rs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||cs(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Pe]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=fs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return xs(t.type),nl(t),null;case 19:if(V(co),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=s.rendering))if(r)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(s,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return z(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>kc&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!is)return nl(t),null}else 2*te()-s.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,z(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(zs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Ps),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Ps),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return xs(t.type),null;case 22:case 23:return lo(t),vi(),null!==e&&V(zs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Ps),null;default:return null}}function il(e,t){switch(ns(t),t.tag){case 3:xs(Ps),G();break;case 26:case 27:case 5:J(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:xs(t.type);break;case 22:case 23:lo(t),vi(),null!==e&&V(zs);break;case 24:xs(Ps)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){uu(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){uu(e,t,s)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){uu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){uu(e,e.return,s)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Xu(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":s=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==h&&Xu(e,t,p,f,r,h)}}return void gt(e,o,l,c,u,d,i,s);case"select":for(i in f=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||Xu(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Xu(e,t,s,i,r,c)}return t=l,n=o,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":p=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&Xu(e,t,o,s,r,i)}return void xt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Xu(e,t,u,p,r,f)}return;default:if(Et(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Zu(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Xu(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Xu(e,t,h,p,r,f)}(r,e.type,n,t),r[Re]=t}catch(s){uu(e,e.return,s)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ed(t,r,n),t[Pe]=e,t[Re]=n}catch(i){uu(e,e.return,i)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,jl=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&al(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var s=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,s=bl;var i=xl;bl=r,(xl=t)&&!i?Ul(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=s,xl=i}break;case 30:break;default:Ml(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Cl=!1;function _l(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:xl||dl(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=El,s=Cl;pd(n.type)&&(El=n.stateNode,Cl=!1),_l(e,t,n),wd(n.stateNode),El=r,Cl=s;break;case 5:xl||dl(n,t);case 6:if(r=El,s=Cl,El=null,_l(e,t,n),Cl=s,null!==(El=r))if(Cl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{El.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==El&&(Cl?(fd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):fd(El,n.stateNode));break;case 4:r=El,s=Cl,El=n.stateNode.containerInfo,Cl=!0,_l(e,t,n),El=r,Cl=s;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),_l(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,_l(e,t,n),xl=r;break;default:_l(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){El=l.stateNode,Cl=!1;break e}break;case 5:El=l.stateNode,Cl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===El)throw Error(a(160));Tl(i,o,s),El=null,Cl=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ol(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Rl;if(Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Ue]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),ed(i,r,n),i[Pe]=e,He(i),r=i;break e;case"link":var o=Ud("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(o=Ud("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[Pe]=e,He(i),r=i}e.stateNode=r}else Vd(s,e.type,e.stateNode);else e.stateNode=Dd(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Vd(s,e.type,e.stateNode):Dd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){s=e.stateNode;try{kt(s,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(wl=!0);break;case 6:if(Pl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(Fd=null,s=Rl,Rl=Nd(t.containerInfo),Pl(t,e),Rl=s,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(f){uu(e,e.return,f)}wl&&(wl=!1,Ll(e));break;case 4:r=Rl,Rl=Nd(e.stateNode.containerInfo),Pl(t,e),Ol(e),Rl=r;break;case 12:default:Pl(t,e),Ol(e);break;case 13:Pl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||s,xl=d||c,Pl(t,e),xl=d,bl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bl||xl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;vl(e,ml(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),vl(e,ml(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Ul(s,i,n),al(4,i);break;case 1:if(Ul(s,i,n),"function"===typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)di(l[s],o)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:Ul(s,i,n),n&&null===r&&4&a&&hl(i),ul(i,i.return);break;case 12:Ul(s,i,n);break;case 13:Ul(s,i,n),n&&4&a&&Il(s,i);break;case 22:null===i.memoizedState&&Ul(s,i,n),ul(i,i.return);break;case 30:break;default:Ul(s,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ds(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ds(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&s&&al(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ds(e)));break;case 12:if(2048&s){Bl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,n,r):Hl(e,t):2&i._visibility?Bl(e,t,n,r):(i._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&Vl(a,t);break;case 24:Bl(e,t,n,r),2048&s&&zl(t.alternate,t)}}function ql(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(i,a,o,l,s),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(i,a,o,l,s):Hl(i,a):(u._visibility|=2,ql(i,a,o,l,s)),s&&2048&c&&Vl(a.alternate,a);break;case 24:ql(i,a,o,l,s),s&&2048&c&&zl(a.alternate,a);break;default:ql(i,a,o,l,s)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Hl(n,r),2048&s&&Vl(r.alternate,r);break;case 24:Hl(n,r),2048&s&&zl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Wl=8192;function Gl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Gl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(a(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Td(n.href),i=e.querySelector(Id(s));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Ad(n),(s=kd.get(s))&&Ld(n,s),He(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Nd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Gl(e),Wl=t):Gl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];jl=r,Zl(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];jl=r,Zl(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==jl;){var n=jl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ds(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,jl=r;else e:for(n=e;null!==jl;){var s=(r=jl).sibling,i=r.return;if(Sl(r),r===n){jl=null;break e}if(null!==s){s.return=i,jl=s;break e}jl=i}}}var ec={getCacheForType:function(e){var t=Es(Ps),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,sc=null,ic=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,mc=0,gc=0,vc=0,yc=null,bc=null,xc=!1,wc=0,kc=1/0,jc=null,Nc=null,Sc=0,Ec=null,Cc=null,_c=0,Tc=0,Ic=null,Ac=null,Pc=0,Rc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==Ms?Ms:Tu()}return Ie()}function Oc(){0===gc&&(gc=0===(536870912&ic)||is?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||($c(e,0),Vc(e,ic,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Vc(e,ic,gc,!1)),ku(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),s=r?function(e,t){var n=nc;nc|=2;var r=Hc(),s=Wc();rc!==e||ic!==t?(jc=null,kc=te()+500,$c(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var i=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Js(i)){ac=0,oc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),ku(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Js(i)?(ac=0,oc=null,Xc(t)):(ac=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||zd(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,eu(u)):sc=null}break t}}ac=0,oc=null,Zc(e,t,i,5);break;case 6:ac=0,oc=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){qc(e,d)}return ys=vs=null,D.H=r,D.A=s,nc=n,null!==sc?0:(rc=null,ic=0,_r(),hc)}(e,t):Kc(e,t,!0),i=r;;){if(0===s){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!i||Uc(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=yc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,s=4;break e}i=bc,bc=s,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){$c(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(Vc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,jc,xc,t,gc,fc,vc,lc,i,2,-0,0),s)}else Fc(r,n,bc,jc,xc,t,gc,fc,vc,lc,i,0,-0,0)}break}s=Kc(e,t,!1),i=!1}ku(e)}function Fc(e,t,n,r,s,i,o,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:$d},Kl(t),null!==(h=function(){if(null===Bd)throw Error(a(475));var e=Bd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,s,o,l,c,d,1,p,f)),void Vc(e,i,o,!u);nu(e,t,i,n,r,s,o,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jn(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-pe(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&Ee(e,n,t)}function zc(){return 0!==(6&nc)||(ju(0,!1),!1)}function Bc(){if(null!==sc){if(0===ac)var e=sc.return;else ys=vs=null,Mi(e=sc),Ka=null,Ja=0,e=sc;for(;null!==e;)il(e.alternate,e),e=e.return;sc=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,sc=n=Fr(e.current,null),ic=t,ac=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,vc=gc=mc=fc=pc=hc=0,bc=yc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-pe(r),i=1<<s;t|=e[s],r&=~i}return dc=t,_r(),n}function qc(e,t){bi=null,D.H=qa,t===Hs||t===Gs?(t=Zs(),ac=3):t===Ws?(t=Zs(),ac=4):ac=t===Eo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(hc=1,wo(e,Nr(t,e.current)))}function Hc(){var e=D.H;return D.H=qa,null===e?qa:e}function Wc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Vc(rc,ic,gc,!1)}function Kc(e,t,n){var r=nc;nc|=2;var s=Hc(),i=Wc();rc===e&&ic===t||(jc=null,$c(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==sc){var o=sc,l=oc;switch(ac){case 8:Bc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Jc(),a=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,ys=vs=null,nc=r,D.H=s,D.A=i,null===sc&&(rc=null,ic=0,_r()),a}function Jc(){for(;null!==sc;)Qc(sc)}function Yc(){for(;null!==sc&&!Z();)Qc(sc)}function Qc(e){var t=Qo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(n,t),t=Qo(n,t=sc=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Zc(e,t,n,r){ys=vs=null,Mi(t),Ka=null,Ja=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&js(t,n,s,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===so?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Ks?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,s)),!1;case 22:return n.flags|=65536,r===Ks?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,s)),!1}throw Error(a(435,n.tag))}return du(e,r,s),Gc(),!1}if(is)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ls&&ms(Nr(e=Error(a(422),{cause:r}),n))):(r!==ls&&ms(Nr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Nr(r,n),oi(e,s=jo(e.stateNode,r,s)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:r});if(i=Nr(i,n),null===yc?yc=[i]:yc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,oi(n,e=jo(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,So(s=No(s),e,n,r),oi(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ic))return hc=1,wo(e,Nr(n,e.current)),void(sc=null)}catch(i){if(null!==s)throw sc=s,i;return hc=1,wo(e,Nr(n,e.current)),void(sc=null)}32768&t.flags?(is||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);hc=6,sc=null}function nu(e,t,n,r,s,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Sc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Cr,o,l,c),e===rc&&(sc=rc=null,ic=0),Cc=t,Ec=e,_c=n,Tc=i,Ic=s,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,s=O.p,O.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=o),p===i&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,jl=t;null!==jl;)if(e=(t=jl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,jl=e;else for(;null!==jl;){switch(i=(t=jl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=go(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,jl=e;break}jl=t.return}}(e,t)}finally{nc=o,O.p=s,D.T=r}}Sc=1,ru(),su(),iu()}}function ru(){if(1===Sc){Sc=0;var e=Ec,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var s=nc;nc|=4;try{Dl(t,e);var i=nd,a=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(a=g,g=m,m=a);var v=Xn(o,m),y=Xn(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=s,O.p=r,D.T=n}}e.current=t,Sc=2}}function su(){if(2===Sc){Sc=0;var e=Ec,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var s=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=s,O.p=r,D.T=n}}Sc=3}}function iu(){if(4===Sc||3===Sc){Sc=0,ee();var e=Ec,t=Cc,n=_c,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Cc=Ec=null,au(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Nc=null),Te(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,s=O.p,O.p=2,D.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{D.T=t,O.p=s}}0!==(3&_c)&&ou(),ku(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,ju(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ds(t)))}function ou(e){return ru(),su(),iu(),lu()}function lu(){if(5!==Sc)return!1;var e=Ec,t=Tc;Tc=0;var n=Te(_c),r=D.T,s=O.p;try{O.p=32>n?32:n,D.T=null,n=Ic,Ic=null;var i=Ec,o=_c;if(Sc=0,Cc=Ec=null,_c=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Ql(i.current),$l(i,i.current,o,n),nc=l,ju(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{O.p=s,D.T=r,au(e,t)}}function cu(e,t,n){t=Nr(n,t),null!==(e=ii(e,t=jo(e.stateNode,t,2),2))&&(Se(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=ii(t,n=No(2),2))&&(So(n,r,t,e),Se(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(uc=!0,s.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&$c(e,0):mc|=n,vc===ic&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=je()),null!==(e=Ar(e,t))&&(Se(e,t),ku(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?Q(re,Nu):Su()}))}function ju(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,_u(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,_u(r,i));r=r.next}}while(n);xu=!1}}function Nu(){Su()}function Su(){bu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var s=r.next,i=Eu(r,t);0===i?(r.next=null,null===n?gu=s:n.next=s,null===s&&(vu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=s}ju(e,!1)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-pe(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Te(n)){case 2:case 8:n=se;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Cu.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function _u(e,t){if(ou())return null;Mc(e,t,!0)}function Tu(){return 0===wu&&(wu=ke()),wu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<wr.length;Pu++){var Ru=wr[Pu];kr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}kr(pr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){vo(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){vo(u)}s.currentTarget=null,i=l}}}}function Mu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ch(t)){case 2:var s=rh;break;case 8:s=sh;break;default:s=ih}n=s.bind(null,t,n,e),s=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=ze(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}o=o.parentNode}}r=r.return}Lt(function(){var r=i,s=At(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case fr:case mr:c=on;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Mt(m,p))&&d.push($u(m,g,f)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[De])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:$e(c),f=null==u?o:$e(u),(o=new d(g,m+"leave",c,n,s)).target=h,o.relatedTarget=f,g=null,ze(s)===r&&((d=new d(p,m+"enter",u,n,s)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Hu(f))m++;for(f=0,g=p;g;g=Hu(g))f++;for(;0<m-f;)d=Hu(d),m--;for(;0<f-m;)p=Hu(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hu(d),p=Hu(p)}d=null}else d=null;null!==c&&Wu(a,o,c,d,!1),null!==u&&null!==h&&Wu(a,h,u,d,!0)}if("select"===(c=(o=r?$e(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Fn;else if(Pn(o))if(Un)v=Kn;else{v=Wn;var y=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Et(r.elementType)&&(v=Fn):v=Gn;switch(v&&(v=v(e,r))?Rn(a,v,n,s):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),y=r?$e(r):window,e){case"focusin":(Pn(y)||"true"===y.contentEditable)&&(rr=y,sr=r,ir=null);break;case"focusout":ir=sr=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,s)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else In?_n(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Sn&&"ko"!==n.locale&&(In||"onCompositionStart"!==x?"onCompositionEnd"===x&&In&&(b=qt()):(Bt="value"in(zt=s)?zt.value:zt.textContent,In=!0)),0<(y=qu(r,x)).length&&(x=new cn(x,e,null,n,s),a.push({event:x,listeners:y}),b?x.data=b:null!==(b=Tn(n))&&(x.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Cn=!0,En);case"textInput":return(e=t.data)===En&&Cn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!kn&&_n(e,t)?(e=qt(),$t=Bt=zt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=qu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,s),a.push({event:y,listeners:x}),y.data=b)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Iu((s[Re]||null).action),a=r.submitter;a&&null!==(t=(t=a[Re]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new Zt("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Au(s,a):new FormData(s);Ia(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=a?Au(s,a):new FormData(s),Ia(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(a,e,r,n,s)}Lu(a,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Mt(e,n))&&r.unshift($u(e,s,i)),null!=(s=Mt(e,t))&&r.push($u(e,s,i))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Mt(n,i))&&a.unshift($u(n,c,l)):s||null!=(c=Mt(n,i))&&a.push($u(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Ku,"")}function Yu(e,t){return t=Ju(t),Ju(e)===t}function Qu(){}function Xu(e,t,n,r,s,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Xu(e,t,"name",s.name,s,null),Xu(e,t,"formEncType",s.formEncType,s,null),Xu(e,t,"formMethod",s.formMethod,s,null),Xu(e,t,"formTarget",s.formTarget,s,null)):(Xu(e,t,"encType",s.encType,s,null),Xu(e,t,"method",s.method,s,null),Xu(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Tt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,s,i){switch(n){case"style":St(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Re]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,o,n,null)}}return i&&Xu(e,t,"srcSet",n.srcSet,n,null),void(s&&Xu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=o=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Xu(e,t,s,d,n,null)}}return vt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Mu("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Xu(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(o in Mu("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,o,l,n,null)}return wt(e,s,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Xu(e,t,c,s,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(s=0;s<Du.length;s++)Mu(Du[s],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,s,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Zu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Xu(e,t,l,s,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function fd(e,t){var n=t,r=0,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wd(a.documentElement),2&n&&wd(a.body),4&n)for(wd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(i),void Ch(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var kd=new Map,jd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=O.d;O.d={f:function(){var e=Sd.f(),t=zc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Sd.r(e)},D:function(e){Sd.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var r=Ed;if(r&&e&&t){var s='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+mt(n.imageSizes)+'"]')):s+='[href="'+mt(e)+'"]';var i=s;switch(t){case"style":i=Td(e);break;case"script":i=Pd(e)}kd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Id(i))||"script"===t&&r.querySelector(Rd(i))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!kd.has(i)&&(e=h({rel:"modulepreload",href:e},t),kd.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(i)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Sd.X(e,t);var n=Ed;if(n&&e){var r=qe(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=h({src:e,async:!0},t),(t=kd.get(s))&&Md(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){Sd.S(e,t,n);var r=Ed;if(r&&e){var s=qe(r).hoistableStyles,i=Td(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Id(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(i))&&Ld(e,n);var l=a=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){Sd.M(e,t);var n=Ed;if(n&&e){var r=qe(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(s))&&Md(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var Ed="undefined"===typeof document?null:document;function Cd(e,t,n){var r=Ed;if(r&&"string"===typeof t&&t){var s=mt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),jd.has(s)||(jd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function _d(e,t,n,r){var s,i,o,l,c=(c=q.current)?Nd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Td(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Td(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(s=c,i=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),He(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Td(e){return'href="'+mt(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",s),Od(r,n.precedence,e),t.instance=r;case"stylesheet":s=Td(n.href);var i=e.querySelector(Id(s));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Ad(n),(s=kd.get(s))&&Ld(r,s),He(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.state.loading|=4,Od(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(s=e.querySelector(Rd(i)))?(t.instance=s,He(s),s):(r=n,(s=kd.get(i))&&Md(r=h({},n),s),He(s=(e=e.ownerDocument||e).createElement("script")),ed(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Od(r,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ud(e,t,n){if(null===Fd){var r=new Map,s=Fd=new Map;s.set(n,r)}else(r=(s=Fd).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Ue]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function $d(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Gd,e),Hd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=qd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Jd(e,t,n,r,s,i,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yd(e,t,n,r,s,i,a,o,l,c,u,d){return e=new Jd(e,t,n,a,o,l,c,d),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Rs()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Qd(e){return e?e=Dr:Dr}function Xd(e,t,n,r,s,i){s=Qd(s),null===r.context?r.context=s:r.pendingContext=s,(r=si(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Lc(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var s=D.T;D.T=null;var i=O.p;try{O.p=2,ih(e,t,n,r)}finally{O.p=i,D.T=s}}function sh(e,t,n,r){var s=D.T;D.T=null;var i=O.p;try{O.p=8,ih(e,t,n,r)}finally{O.p=i,D.T=s}}function ih(e,t,n,r){if(nh){var s=ah(r);if(null===s)Bu(e,t,r,oh,n),yh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,s),!0;case"dragenter":return hh=bh(hh,e,t,n,r,s),!0;case"mouseover":return ph=bh(ph,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return fh.set(i,bh(fh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==s;){var i=Be(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ye(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-pe(a);o.entanglements[1]|=l,a&=~l}ku(i),0===(6&nc)&&(kc=te()+500,ju(0,!1))}}break;case 13:null!==(o=Ar(i,2))&&Lc(o,0,2),zc(),eh(i,2)}if(null===(i=ah(r))&&Bu(e,t,r,oh,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function ah(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case se:return 8;case ie:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=_e(e);var t=Ar(n,e);null!==t&&Lc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function kh(e,t,n){wh(e)&&n.delete(t)}function jh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==ph&&wh(ph)&&(ph=null),fh.forEach(kh),mh.forEach(kh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jh)))}var Sh=null;function Eh(e){Sh!==e&&(Sh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,Ia(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Ch(e){function t(t){return Nh(t,e)}null!==dh&&Nh(dh,e),null!==hh&&Nh(hh,e),null!==ph&&Nh(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[Re]||null;if("function"===typeof i)a||Eh(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[Re]||null)o=a.formAction;else if(null!==lh(s))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Eh(n)}}}function _h(e){this._internalRoot=e}function Th(e){this._internalRoot=e}Th.prototype.render=_h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xd(t.current,Dc(),e,t,null,null)},Th.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),zc(),t[De]=null}},Th.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Ih=s.version;if("19.1.0"!==Ih)throw Error(a(527,Ih,"19.1.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return u(s),e;if(i===r)return u(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ah),de=Ph}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",s=yo,i=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,s,i,l,0,null),e[De]=t.current,Vu(e),new _h(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,s="",i=yo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,s,i,l,c,0,u)).context=Qd(null),n=t.current,(s=si(r=_e(r=Dc()))).callback=null,ii(n,s,r),n=r,t.current.lanes=n,Se(t,n),ku(t),e[De]=t.current,Vu(e),new Th(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function N(e,t,r,s,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(){}function T(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return T((u=e._init)(e._payload),t,s,i,a)}}if(u)return a=a(e),u=""===i?"."+C(e,0):i,w(a)?(s="",null!=u&&(s=u.replace(E,"$&/")+"/"),T(a,t,s,"",function(e){return e})):null!=a&&(S(a)&&(l=a,c=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=N(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,f=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=T(i=e[m],t,s,o=f+C(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=T(i=i.value,t,s,o=f+C(i,m++),a);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",function(e){return t.call(n,e,s++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!j.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),o=0;o<i;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,s={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return N(e,i,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),s=k.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(i){P(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},393:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function o(e,t){if(null==e)return{};var n,r,s=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(e,t){return c(e)||u(e,t)||d(e,t)||p()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,s,i=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){o=!0,s=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw s}}return i}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m,g,v,y,b={exports:{}};function x(){return g?m:(g=1,m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function w(){if(y)return v;y=1;var e=x();function t(){}function n(){}return n.resetWarningCache=t,v=function(){function r(t,n,r,s,i,a){if(a!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function s(){return r}r.isRequired=r;var i={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}b.exports=w()();var k=f(b.exports),j=function(e,n,r){var s=!!r,i=t.useRef(r);t.useEffect(function(){i.current=r},[r]),t.useEffect(function(){if(!s||!e)return function(){};var t=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,t),function(){e.off(n,t)}},[s,n,e,i])},N=function(e){var n=t.useRef(e);return t.useEffect(function(){n.current=e},[e]),n.current},S=function(e){return null!==e&&"object"===s(e)},E=function(e){return S(e)&&"function"===typeof e.then},C=function(e){return S(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},_="[object Object]",T=function e(t,n){if(!S(t)||!S(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var s=Object.prototype.toString.call(t)===_;if(s!==(Object.prototype.toString.call(n)===_))return!1;if(!s&&!r)return t===n;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var o={},l=0;l<i.length;l+=1)o[i[l]]=!0;for(var c=0;c<a.length;c+=1)o[a[c]]=!0;var u=Object.keys(o);if(u.length!==i.length)return!1;var d=t,h=n,p=function(t){return e(d[t],h[t])};return u.every(p)},I=function(e,t,n){return S(e)?Object.keys(e).reduce(function(s,a){var o=!S(t)||!T(e[a],t[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):o?r(r({},s||{}),{},i({},a,e[a])):s},null):null},A="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;if(null===e||C(e))return e;throw new Error(t)},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;if(E(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return P(e,t)})};var n=P(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},D=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.9.2"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.2",url:"https://stripe.com/docs/stripe-js/react"}))},O=t.createContext(null);O.displayName="ElementsContext";var L=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},M=function(e){var n=e.stripe,r=e.options,s=e.children,i=t.useMemo(function(){return R(n)},[n]),a=l(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(r):null}}),2),o=a[0],c=a[1];t.useEffect(function(){var e=!0,t=function(e){c(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==i.tag||o.stripe?"sync"!==i.tag||o.stripe||t(i.stripe):i.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[i,o,r]);var u=N(n);t.useEffect(function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var d=N(r);return t.useEffect(function(){if(o.elements){var e=I(r,d,["clientSecret","fonts"]);e&&o.elements.update(e)}},[r,d,o.elements]),t.useEffect(function(){D(o.stripe)},[o.stripe]),t.createElement(O.Provider,{value:o},s)};M.propTypes={stripe:k.any,options:k.object};var F=function(e){var n=t.useContext(O);return L(n,e)},U=function(){return F("calls useElements()").elements},V=function(e){return(0,e.children)(F("mounts <ElementsConsumer>"))};V.propTypes={children:k.func.isRequired};var z=["on","session"],B=t.createContext(null);B.displayName="CheckoutSdkContext";var $=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},q=t.createContext(null);q.displayName="CheckoutContext";var H=function(e,t){if(!e)return null;e.on,e.session;var n=o(e,z);return t?Object.assign(t,n):Object.assign(e.session(),n)},W="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",G=function(e){var n=e.stripe,r=e.options,s=e.children,i=t.useMemo(function(){return R(n,W)},[n]),a=l(t.useState(null),2),o=a[0],c=a[1],u=l(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,checkoutSdk:null}}),2),d=u[0],h=u[1],p=function(e,t){h(function(n){return n.stripe&&n.checkoutSdk?n:{stripe:e,checkoutSdk:t}})},f=t.useRef(!1);t.useEffect(function(){var e=!0;return"async"!==i.tag||d.stripe?"sync"===i.tag&&i.stripe&&!f.current&&(f.current=!0,i.stripe.initCheckout(r).then(function(e){e&&(p(i.stripe,e),e.on("change",c))})):i.stripePromise.then(function(t){t&&e&&!f.current&&(f.current=!0,t.initCheckout(r).then(function(e){e&&(p(t,e),e.on("change",c))}))}),function(){e=!1}},[i,d,r,c]);var m=N(n);t.useEffect(function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[m,n]);var g=N(r),v=N(d.checkoutSdk);t.useEffect(function(){var e,t,n,s;if(d.checkoutSdk){var i=Boolean(!v&&d.checkoutSdk),a=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,o=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance,l=!T(o,a);o&&(l||i)&&d.checkoutSdk.changeAppearance(o);var c=null===g||void 0===g||null===(n=g.elementsOptions)||void 0===n?void 0:n.fonts,u=null===r||void 0===r||null===(s=r.elementsOptions)||void 0===s?void 0:s.fonts,h=!T(c,u);u&&(h||i)&&d.checkoutSdk.loadFonts(u)}},[r,g,d.checkoutSdk,v]),t.useEffect(function(){D(d.stripe)},[d.stripe]);var y=t.useMemo(function(){return H(d.checkoutSdk,o)},[d.checkoutSdk,o]);return d.checkoutSdk?t.createElement(B.Provider,{value:d},t.createElement(q.Provider,{value:y},s)):null};G.propTypes={stripe:k.any,options:k.shape({fetchClientSecret:k.func.isRequired,elementsOptions:k.object}).isRequired};var K=function(e){var n=t.useContext(B);return $(n,e)},J=function(e){var n=t.useContext(B),r=t.useContext(O);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?$(n,e):L(r,e)},Y=function(){K("calls useCheckout()");var e=t.useContext(q);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},Q=["mode"],X=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Z=function(e,n){var r="".concat(X(e),"Element"),s=n?function(e){J("mounts <".concat(r,">"));var n=e.id,s=e.className;return t.createElement("div",{id:n,className:s})}:function(n){var s,i=n.id,a=n.className,c=n.options,u=void 0===c?{}:c,d=n.onBlur,h=n.onFocus,p=n.onReady,f=n.onChange,m=n.onEscape,g=n.onClick,v=n.onLoadError,y=n.onLoaderStart,b=n.onNetworksChange,x=n.onConfirm,w=n.onCancel,k=n.onShippingAddressChange,S=n.onShippingRateChange,E=J("mounts <".concat(r,">")),C="elements"in E?E.elements:null,_="checkoutSdk"in E?E.checkoutSdk:null,T=l(t.useState(null),2),A=T[0],P=T[1],R=t.useRef(null),D=t.useRef(null);j(A,"blur",d),j(A,"focus",h),j(A,"escape",m),j(A,"click",g),j(A,"loaderror",v),j(A,"loaderstart",y),j(A,"networkschange",b),j(A,"confirm",x),j(A,"cancel",w),j(A,"shippingaddresschange",k),j(A,"shippingratechange",S),j(A,"change",f),p&&(s="expressCheckout"===e?p:function(){p(A)}),j(A,"ready",s),t.useLayoutEffect(function(){if(null===R.current&&null!==D.current&&(C||_)){var t=null;if(_)switch(e){case"payment":t=_.createPaymentElement(u);break;case"address":if(!("mode"in u))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=u.mode,s=o(u,Q);if("shipping"===n)t=_.createShippingAddressElement(s);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=_.createBillingAddressElement(s)}break;case"expressCheckout":t=_.createExpressCheckoutElement(u);break;case"currencySelector":t=_.createCurrencySelectorElement();break;case"taxId":t=_.createTaxIdElement(u);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else C&&(t=C.create(e,u));R.current=t,P(t),t&&t.mount(D.current)}},[C,_,u]);var O=N(u);return t.useEffect(function(){if(R.current){var e=I(u,O,["paymentRequest"]);e&&"update"in R.current&&R.current.update(e)}},[u,O]),t.useLayoutEffect(function(){return function(){if(R.current&&"function"===typeof R.current.destroy)try{R.current.destroy(),R.current=null}catch(e){}}},[]),t.createElement("div",{id:i,className:a,ref:D})};return s.propTypes={id:k.string,className:k.string,onChange:k.func,onBlur:k.func,onFocus:k.func,onReady:k.func,onEscape:k.func,onClick:k.func,onLoadError:k.func,onLoaderStart:k.func,onNetworksChange:k.func,onConfirm:k.func,onCancel:k.func,onShippingAddressChange:k.func,onShippingRateChange:k.func,options:k.object},s.displayName=r,s.__elementType=e,s},ee="undefined"===typeof window,te=t.createContext(null);te.displayName="EmbeddedCheckoutProviderContext";var ne=function(){var e=t.useContext(te);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},re="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",se=function(e){var n=e.stripe,r=e.options,s=e.children,i=t.useMemo(function(){return R(n,re)},[n]),a=t.useRef(null),o=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect(function(){if(!o.current&&!a.current){var e=function(e){o.current||a.current||(o.current=e,a.current=o.current.initEmbeddedCheckout(r).then(function(e){d({embeddedCheckout:e})}))};"async"!==i.tag||o.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==i.tag||o.current||!r.clientSecret&&!r.fetchClientSecret||e(i.stripe):i.stripePromise.then(function(t){t&&e(t)})}},[i,r,u,o]),t.useEffect(function(){return function(){u.embeddedCheckout?(a.current=null,u.embeddedCheckout.destroy()):a.current&&a.current.then(function(){a.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()})}},[u.embeddedCheckout]),t.useEffect(function(){D(o)},[o]);var h=N(n);t.useEffect(function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[h,n]);var p=N(r);return t.useEffect(function(){null!=p&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=p.clientSecret&&r.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.fetchClientSecret&&r.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.onComplete&&r.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=p.onShippingDetailsChange&&r.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=p.onLineItemsChange&&r.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))},[p,r]),t.createElement(te.Provider,{value:u},s)},ie=function(e){var n=e.id,r=e.className,s=ne().embeddedCheckout,i=t.useRef(!1),a=t.useRef(null);return t.useLayoutEffect(function(){return!i.current&&s&&null!==a.current&&(s.mount(a.current),i.current=!0),function(){if(i.current&&s)try{s.unmount(),i.current=!1}catch(e){}}},[s]),t.createElement("div",{ref:a,id:n,className:r})},ae=function(e){var n=e.id,r=e.className;return ne(),t.createElement("div",{id:n,className:r})},oe=ee?ae:ie,le=function(){return J("calls useStripe()").stripe},ce=Z("auBankAccount",ee),ue=Z("card",ee),de=Z("cardNumber",ee),he=Z("cardExpiry",ee),pe=Z("cardCvc",ee),fe=Z("fpxBank",ee),me=Z("iban",ee),ge=Z("idealBank",ee),ve=Z("p24Bank",ee),ye=Z("epsBank",ee),be=Z("payment",ee),xe=Z("expressCheckout",ee),we=Z("currencySelector",ee),ke=Z("paymentRequestButton",ee),je=Z("linkAuthentication",ee),Ne=Z("address",ee),Se=Z("shippingAddress",ee),Ee=Z("paymentMethodMessaging",ee),Ce=Z("affirmMessage",ee),_e=Z("afterpayClearpayMessage",ee),Te=Z("taxId",ee);e.AddressElement=Ne,e.AffirmMessageElement=Ce,e.AfterpayClearpayMessageElement=_e,e.AuBankAccountElement=ce,e.CardCvcElement=pe,e.CardElement=ue,e.CardExpiryElement=he,e.CardNumberElement=de,e.CheckoutProvider=G,e.CurrencySelectorElement=we,e.Elements=M,e.ElementsConsumer=V,e.EmbeddedCheckout=oe,e.EmbeddedCheckoutProvider=se,e.EpsBankElement=ye,e.ExpressCheckoutElement=xe,e.FpxBankElement=fe,e.IbanElement=me,e.IdealBankElement=ge,e.LinkAuthenticationElement=je,e.P24BankElement=ve,e.PaymentElement=be,e.PaymentMethodMessagingElement=Ee,e.PaymentRequestButtonElement=ke,e.ShippingAddressElement=Se,e.TaxIdElement=Te,e.useCheckout=Y,e.useElements=U,e.useStripe=le}(t,n(43))},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N||(N=!0,j());else{var t=r(u);null!==t&&P(k,t.startTime-e)}}var j,N=!1,S=-1,E=5,C=-1;function _(){return!!v||!(t.unstable_now()-C<E)}function T(){if(v=!1,N){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(S),S=-1),f=!0;var i=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&s(c),w(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(k,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?j():N=!1}}}if("function"===typeof x)j=function(){x(T)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=T,j=function(){A.postMessage(null)}}else j=function(){y(T,0)};function P(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,P(k,i-a))):(e.sortIndex=o,n(c,e),m||f||(m=!0,N||(N=!0,j()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".50650741.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="vrumies-web-app:";n.l=(r,s,i,a)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Vrumies/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,i,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkvrumies_web_app=self.webpackChunkvrumies_web_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>gw,hasStandardBrowserEnv:()=>yw,hasStandardBrowserWebWorkerEnv:()=>bw,navigator:()=>vw,origin:()=>xw});var t=n(43),r=n(391),s="popstate";function i(){return h(function(e,t){let{pathname:n="/",search:r="",hash:s=""}=d(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),c("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:u(t))},function(e,t){o("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",d=null,h=f();function f(){return(o.state||{idx:null}).idx}function m(){u="POP";let e=f(),t=null==e?null:e-h;h=e,d&&d({action:u,location:v.location,delta:t})}function g(e){return p(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let v={get action(){return u},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(s,m),d=e,()=>{i.removeEventListener(s,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let r=c(v.location,e,t);n&&n(r,e),h=f()+1;let s=l(r,h),p=v.createHref(r);try{o.pushState(s,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(p)}a&&d&&d({action:u,location:v.location,delta:1})},replace:function(e,t){u="REPLACE";let r=c(v.location,e,t);n&&n(r,e),h=f();let s=l(r,h),i=v.createHref(r);o.replaceState(s,"",i),a&&d&&d({action:u,location:v.location,delta:0})},go:e=>o.go(e)};return v}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),a(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function f(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(e,t,n,r){let s=I(("string"===typeof t?d(t):t).pathname||"/",n);if(null==s)return null;let i=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=T(s);a=E(i[o],e,r)}return a}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(e,s,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=O([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))s(e,t,n);else s(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=v(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var y=/^:[\w-]+$/,b=3,x=2,w=1,k=10,j=-2,N=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=j),t&&(r+=x),n.filter(e=>!N(e)).reduce((e,t)=>e+(y.test(t)?b:""===t?w:k),r)}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:O([i,u.pathname]),pathnameBase:L(O([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=O([i,u.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e){let t=P(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function D(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let i,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:M(r),hash:F(s)}}(r,i),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var O=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var V=["POST","PUT","PATCH","DELETE"],z=(new Set(V),["GET",...V]);new Set(z),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var q=t.createContext(!1);var H=t.createContext({isTransitioning:!1});H.displayName="ViewTransition";var W=t.createContext(new Map);W.displayName="Fetchers";var G=t.createContext(null);G.displayName="Await";var K=t.createContext(null);K.displayName="Navigation";var J=t.createContext(null);J.displayName="Location";var Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});Y.displayName="Route";var Q=t.createContext(null);Q.displayName="RouteError";function X(){return null!=t.useContext(J)}function Z(){return a(X(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(J).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){t.useContext(K).static||t.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=he("useNavigate"),n=fe("useNavigate"),r=t.useRef(!1);te(()=>{r.current=!0});let s=t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(r.current,ee),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...s}))},[e,n]);return s}():function(){a(X(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:n,navigator:r}=t.useContext(K),{matches:s}=t.useContext(Y),{pathname:i}=Z(),l=JSON.stringify(R(s)),c=t.useRef(!1);te(()=>{c.current=!0});let u=t.useCallback(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(c.current,ee),!c.current)return;if("number"===typeof t)return void r.go(t);let a=D(t,JSON.parse(l),i,"path"===s.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:O([n,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)},[n,r,l,i,e]);return u}()}t.createContext(null);function re(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}function se(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(Y),{pathname:s}=Z(),i=JSON.stringify(R(r));return t.useMemo(()=>D(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function ie(e,n,r,s){a(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(K),{matches:l}=t.useContext(Y),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ve(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,v=Z();if(n){let e="string"===typeof n?d(n):n;a("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=v;let y=g.pathname||"/",b=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=f(e,{pathname:b});o(m||null!=x,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),o(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ue(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:O([p,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:O([p,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,s);return n&&w?t.createElement(J.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function ae(){let e=me(),n=U(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,o)}var oe=t.createElement(ae,null),le=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ce(e){let{routeContext:n,match:r,children:s}=e,i=t.useContext(B);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},s)}function ue(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,i=r?.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,a,c)=>{let u,d=!1,h=null,p=null;r&&(u=i&&a.route.id?i[a.route.id]:void 0,h=a.route.errorElement||oe,o&&(l<0&&0===c?(ve("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===c&&(d=!0,p=a.route.hydrateFallbackElement||null)));let f=n.concat(s.slice(0,c+1)),m=()=>{let n;return n=u?h:d?p:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(ce,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?t.createElement(le,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}function de(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function he(e){let n=t.useContext(B);return a(n,de(e)),n}function pe(e){let n=t.useContext($);return a(n,de(e)),n}function fe(e){let n=function(e){let n=t.useContext(Y);return a(n,de(e)),n}(e),r=n.matches[n.matches.length-1];return a(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function me(){let e=t.useContext(Q),n=pe("useRouteError"),r=fe("useRouteError");return void 0!==e?e:n.errors?.[r]}var ge={};function ve(e,t,n){t||ge[e]||(ge[e]=!0,o(!1,n))}var ye={};function be(e,t){e||ye[t]||(ye[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r}=e;return ie(t,void 0,r,n)});function xe(e){let{to:n,replace:r,state:s,relative:i}=e;a(X(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=t.useContext(K);o(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=t.useContext(Y),{pathname:u}=Z(),d=ne(),h=D(n,R(c),u,"path"===i),p=JSON.stringify(h);return t.useEffect(()=>{d(JSON.parse(p),{replace:r,state:s,relative:i})},[d,p,i,r,s]),null}function we(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ke(e){let{basename:n="/",children:r=null,location:s,navigationType:i="POP",navigator:l,static:c=!1}=e;a(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);"string"===typeof s&&(s=d(s));let{pathname:p="/",search:f="",hash:m="",state:g=null,key:v="default"}=s,y=t.useMemo(()=>{let e=I(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:g,key:v},navigationType:i}},[u,p,f,m,g,v,i]);return o(null!=y,`<Router basename="${u}"> is not able to match the URL "${p}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:t.createElement(K.Provider,{value:h},t.createElement(J.Provider,{children:r,value:y}))}function je(e){let{children:t,location:n}=e;return ie(Ne(t),n)}t.Component;function Ne(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let i=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,Ne(e.props.children,i));a(e.type===we,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ne(e.props.children,i)),r.push(o)}),r}var Se="get",Ee="application/x-www-form-urlencoded";function Ce(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ie(e){return null==e||Te.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ee}"`),null)}function Ae(e,t){let n,r,s,i,a;if(Ce(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?I(a,t):null,n=e.getAttribute("method")||Se,s=Ie(e.getAttribute("enctype"))||Ee,i=new FormData(e)}else if(function(e){return Ce(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ce(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?I(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Se,s=Ie(e.getAttribute("formenctype"))||Ie(a.getAttribute("enctype"))||Ee,i=new FormData(a,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Ce(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Se,r=null,s=Ee,a=e}var o;return i&&"text/plain"===s&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Pe(e){return{__html:e}}function Re(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function De(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===I(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Oe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Le(e){return null!=e&&"string"===typeof e.page}function Me(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Fe(e,t,n,r,s,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ue(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function Ve(e,t){let n=new Set,r=new Set(t);return e.reduce((e,s)=>{if(t&&!Le(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(i)||(n.add(i),e.push({key:i,link:s})),e},[])}function ze(e,t){return"lazy"===e.mode&&!0===t}function Be(){let e=t.useContext(B);return Re(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $e(){let e=t.useContext($);return Re(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qe=t.createContext(void 0);function He(){let e=t.useContext(qe);return Re(e,"You must render this element inside a <HydratedRouter> element"),e}function We(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ge(e,t,n){if(n&&!Qe)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}qe.displayName="FrameworkContext";function Ke(e){let{page:n,...r}=e,{router:s}=Be(),i=t.useMemo(()=>f(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?t.createElement(Ye,{page:n,matches:i,...r}):null}function Je(e){let{manifest:n,routeModules:r}=He(),[s,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Ve((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Oe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Me).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,n,r).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,r]),s}function Ye(e){let{page:n,matches:r,...s}=e,i=Z(),{manifest:a,routeModules:o}=He(),{basename:l}=Be(),{loaderData:c,matches:u}=$e(),d=t.useMemo(()=>Fe(n,r,u,a,i,"data"),[n,r,u,a,i]),h=t.useMemo(()=>Fe(n,r,u,a,i,"assets"),[n,r,u,a,i]),p=t.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let s=De(n,l,"data");return t&&e.size>0&&s.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[l,c,i,a,d,r,n,o]),f=t.useMemo(()=>Ue(h,a),[h,a]),m=Je(h);return t.createElement(t.Fragment,null,p.map(e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...s})),f.map(e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...s})),m.map(e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})}))}var Qe=!1;function Xe(e){let{manifest:n,serverHandoffString:r,isSpaMode:s,renderMeta:i,routeDiscovery:a,ssr:o}=He(),{router:l,static:c,staticContext:u}=Be(),{matches:d}=$e(),h=t.useContext(q),p=ze(a,o);i&&(i.didRenderScripts=!0);let m=Ge(d,null,s);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{if(h)return null;let s=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${p?"":`import ${JSON.stringify(n.url)}`};\n${m.map((e,t)=>{let r=`route${t}`,s=n.routes[e.route.id];Re(s,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${p?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,s=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach(e=>{let n=f(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let o=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:o,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(s),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(i),type:"module",async:!0}))},[]),v=Qe||h?[]:(n.entry.imports.concat(Ue(m,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let b="object"===typeof n.sri?n.sri:{};return be(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Qe||h?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,p?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),v.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:b[n],suppressHydrationWarning:!0})),g)}function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function et(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let s,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(U(n))return t.createElement(tt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(tt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),i)}function tt(e){let{title:n,renderScripts:r,isOutsideRemixApp:s,children:i}=e,{routeModules:a}=He();return a.root?.Layout&&!s?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?t.createElement(Xe,null):null)))}var nt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{nt&&(window.__reactRouterVersion="7.7.1")}catch(dC){}function rt(e){let{basename:n,children:r,window:s}=e,a=t.useRef();null==a.current&&(a.current=i({window:s,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),u=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>o.listen(u),[o,u]),t.createElement(ke,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var st=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=t.forwardRef(function(e,n){let r,{onClick:s,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:p,target:f,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:b}=t.useContext(K),x="string"===typeof m&&st.test(m),w=!1;if("string"===typeof m&&x&&(r=m,nt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=I(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(dC){o(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=t.useContext(K),{hash:i,pathname:o,search:l}=se(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:O([r,o])),s.createHref({pathname:c,search:l,hash:i})}(m,{relative:c}),[j,N,S]=function(e,n){let r=t.useContext(qe),[s,i]=t.useState(!1),[a,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(s){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[s]);let f=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?"intent"!==e?[a,p,{}]:[a,p,{onFocus:We(l,f),onBlur:We(c,m),onMouseEnter:We(u,f),onMouseLeave:We(d,m),onTouchStart:We(h,f)}]:[!1,p,{}]}(l,y),E=function(e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ne(),c=Z(),d=se(e,{relative:a});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(e,{replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,r,s,n,e,i,a,o])}(m,{replace:h,state:p,target:f,preventScrollReset:g,relative:c,viewTransition:v});let C=t.createElement("a",{...y,...S,href:r||k,onClick:w||d?s:function(e){s&&s(e),e.defaultPrevented||E(e)},ref:Ze(n,N),target:f,"data-discover":x||"render"!==i?void 0:"true"});return j&&!x?t.createElement(t.Fragment,null,C,t.createElement(Ke,{page:k})):C});it.displayName="Link";var at=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,p=se(c,{relative:h.relative}),f=Z(),m=t.useContext($),{navigator:g,basename:v}=t.useContext(K),y=null!=m&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(H);a(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ct("useViewTransitionState"),i=se(e,{relative:n});if(!r.isTransitioning)return!1;let o=I(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=I(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=C(i.pathname,l)||null!=C(i.pathname,o)}(p)&&!0===u,b=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,x=f.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&v&&(w=I(w,v)||w);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let j,N=x===b||!o&&x.startsWith(b)&&"/"===x.charAt(k),S=null!=w&&(w===b||!o&&w.startsWith(b)&&"/"===w.charAt(b.length)),E={isActive:N,isPending:S,isTransitioning:y},_=N?r:void 0;j="function"===typeof i?i(E):[i,N?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof l?l(E):l;return t.createElement(it,{...h,"aria-current":_,className:j,ref:n,style:T,to:c,viewTransition:u},"function"===typeof d?d(E):d)});at.displayName="NavLink";var ot=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:s,navigate:i,reloadDocument:o,replace:l,state:c,method:d=Se,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:g,...v}=e,y=ht(),b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(K),s=t.useContext(Y);a(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),o={...se(e||".",{relative:n})},l=Z();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:O([r,o.pathname]));return u(o)}(h,{relative:f}),x="get"===d.toLowerCase()?"get":"post",w="string"===typeof h&&st.test(h);return t.createElement("form",{ref:n,method:x,action:b,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:s,method:n,navigate:i,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:g})},...v,"data-discover":w||"render"!==r?void 0:"true"})});function lt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ct(e){let n=t.useContext(B);return a(n,lt(e)),n}ot.displayName="Form";var ut=0,dt=()=>`__${String(++ut)}__`;function ht(){let{router:e}=ct("useSubmit"),{basename:n}=t.useContext(K),r=fe("useRouteId");return t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:o,formData:l,body:c}=Ae(t,n);if(!1===s.navigate){let t=s.fetcherKey||dt();await e.fetch(t,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}const pt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new mt;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gt=function(e){return function(e){const t=pt(e);return ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},vt=function(e){try{return ft.decodeString(e,!0)}catch(dC){console.error("base64Decode failed: ",dC)}return null};function yt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const bt=()=>{try{return yt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Vrumies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(dC){return}const t=e&&vt(e[1]);return t&&JSON.parse(t)})()}catch(dC){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${dC}`)}},xt=e=>bt()?.emulatorHosts?.[e],wt=e=>{const t=xt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kt=()=>bt()?.config,jt=e=>bt()?.[`_${e}`];class Nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function St(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Et(e){return(await fetch(e,{credentials:"include"})).ok}function Ct(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[gt(JSON.stringify({alg:"none",type:"JWT"})),gt(JSON.stringify(i)),""].join(".")}const _t={};let Tt=!1;function It(e,t){if("undefined"===typeof window||"undefined"===typeof document||!St(window.location.host)||_t[e]===t||_t[e]||Tt)return;function n(e){return`__firebase__banner__${e}`}_t[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(_t))_t[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Tt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function At(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pt(){const e=bt()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(dC){return!1}}function Rt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Dt(){return!Pt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ot(){try{return"object"===typeof indexedDB}catch(dC){return!1}}function Lt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}class Mt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(Ut,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",i=`${this.serviceName}: ${s} (${n}).`;return new Mt(n,i,t)}}const Ut=/\{\$([^}]+)}/g;function Vt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(zt(n)&&zt(i)){if(!Vt(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function zt(e){return null!==e&&"object"===typeof e}function Bt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $t(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function qt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ht{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Wt),void 0===r.error&&(r.error=Wt),void 0===r.complete&&(r.complete=Wt);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(dC){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(dC){"undefined"!==typeof console&&console.error&&console.error(dC)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wt(){}function Gt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Kt(e){return e&&e._delegate?e._delegate:e}class Jt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yt="[DEFAULT]";class Qt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Nt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(dC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(dC){if(n)return null;throw dC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yt})}catch(dC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(dC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===Yt?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.component?this.component.multipleInstances?e:Yt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Zt=[];var en;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(en||(en={}));const tn={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},nn=en.INFO,rn={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},sn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...i)};class an{constructor(e){this.name=e,this._logLevel=nn,this._logHandler=sn,this._userLogHandler=null,Zt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in en))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...t),this._logHandler(this,en.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...t),this._logHandler(this,en.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.INFO,...t),this._logHandler(this,en.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.WARN,...t),this._logHandler(this,en.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.ERROR,...t),this._logHandler(this,en.ERROR,...t)}}let on,ln;const cn=new WeakMap,un=new WeakMap,dn=new WeakMap,hn=new WeakMap,pn=new WeakMap;let fn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return un.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ln||(ln=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yn(this),n),vn(cn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vn(e.apply(yn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(yn(this),t,...r);return dn.set(i,t.sort?t.sort():[t]),vn(i)}}function gn(e){return"function"===typeof e?mn(e):(e instanceof IDBTransaction&&function(e){if(un.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});un.set(e,t)}(e),t=e,(on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,fn):e);var t}function vn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(vn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&cn.set(t,e)}).catch(()=>{}),pn.set(t,e),t}(e);if(hn.has(e))return hn.get(e);const t=gn(e);return t!==e&&(hn.set(e,t),pn.set(t,e)),t}const yn=e=>pn.get(e);function bn(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=vn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(vn(a.result),e.oldVersion,e.newVersion,vn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const xn=["get","getKey","getAll","getAllKeys","count"],wn=["put","add","delete","clear"],kn=new Map;function jn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(kn.get(t))return kn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=wn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!xn.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return kn.set(t,i),i}fn=(e=>({...e,get:(t,n,r)=>jn(t,n)||e.get(t,n,r),has:(t,n)=>!!jn(t,n)||e.has(t,n)}))(fn);class Nn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Sn="@firebase/app",En="0.14.0",Cn=new an("@firebase/app"),_n="@firebase/app-compat",Tn="@firebase/analytics-compat",In="@firebase/analytics",An="@firebase/app-check-compat",Pn="@firebase/app-check",Rn="@firebase/auth",Dn="@firebase/auth-compat",On="@firebase/database",Ln="@firebase/data-connect",Mn="@firebase/database-compat",Fn="@firebase/functions",Un="@firebase/functions-compat",Vn="@firebase/installations",zn="@firebase/installations-compat",Bn="@firebase/messaging",$n="@firebase/messaging-compat",qn="@firebase/performance",Hn="@firebase/performance-compat",Wn="@firebase/remote-config",Gn="@firebase/remote-config-compat",Kn="@firebase/storage",Jn="@firebase/storage-compat",Yn="@firebase/firestore",Qn="@firebase/ai",Xn="@firebase/firestore-compat",Zn="firebase",er="[DEFAULT]",tr={[Sn]:"fire-core",[_n]:"fire-core-compat",[In]:"fire-analytics",[Tn]:"fire-analytics-compat",[Pn]:"fire-app-check",[An]:"fire-app-check-compat",[Rn]:"fire-auth",[Dn]:"fire-auth-compat",[On]:"fire-rtdb",[Ln]:"fire-data-connect",[Mn]:"fire-rtdb-compat",[Fn]:"fire-fn",[Un]:"fire-fn-compat",[Vn]:"fire-iid",[zn]:"fire-iid-compat",[Bn]:"fire-fcm",[$n]:"fire-fcm-compat",[qn]:"fire-perf",[Hn]:"fire-perf-compat",[Wn]:"fire-rc",[Gn]:"fire-rc-compat",[Kn]:"fire-gcs",[Jn]:"fire-gcs-compat",[Yn]:"fire-fst",[Xn]:"fire-fst-compat",[Qn]:"fire-vertex","fire-js":"fire-js",[Zn]:"fire-js-all"},nr=new Map,rr=new Map,sr=new Map;function ir(e,t){try{e.container.addComponent(t)}catch(dC){Cn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,dC)}}function ar(e){const t=e.name;if(sr.has(t))return Cn.debug(`There were multiple attempts to register component ${t}.`),!1;sr.set(t,e);for(const n of nr.values())ir(n,e);for(const n of rr.values())ir(n,e);return!0}function or(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const cr=new Ft("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ur{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const dr="12.0.0";function hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r={name:er,automaticDataCollectionEnabled:!0,...t},s=r.name;if("string"!==typeof s||!s)throw cr.create("bad-app-name",{appName:String(s)});if(n||(n=kt()),!n)throw cr.create("no-options");const i=nr.get(s);if(i){if(Vt(n,i.options)&&Vt(r,i.config))return i;throw cr.create("duplicate-app",{appName:s})}const a=new Xt(s);for(const l of sr.values())a.addComponent(l);const o=new ur(n,r,a);return nr.set(s,o),o}function pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;const t=nr.get(e);if(!t&&e===er&&kt())return hr();if(!t)throw cr.create("no-app",{appName:e});return t}function fr(){return Array.from(nr.values())}function mr(e,t,n){let r=tr[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const e=[`Unable to register library "${r}" with version "${t}":`];return s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Cn.warn(e.join(" "))}ar(new Jt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const gr="firebase-heartbeat-store";let vr=null;function yr(){return vr||(vr=bn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(gr)}catch(dC){console.warn(dC)}}}).catch(e=>{throw cr.create("idb-open",{originalErrorMessage:e.message})})),vr}async function br(e,t){try{const n=(await yr()).transaction(gr,"readwrite"),r=n.objectStore(gr);await r.put(t,xr(e)),await n.done}catch(dC){if(dC instanceof Mt)Cn.warn(dC.message);else{const t=cr.create("idb-set",{originalErrorMessage:dC?.message});Cn.warn(t.message)}}}function xr(e){return`${e.name}!${e.options.appId}`}class wr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=kr();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(dC){Cn.warn(dC)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=kr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),Nr(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Nr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=gt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(dC){return Cn.warn(dC),""}}}function kr(){return(new Date).toISOString().substring(0,10)}class jr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ot()&&Lt().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await yr()).transaction(gr),n=await t.objectStore(gr).get(xr(e));return await t.done,n}catch(dC){if(dC instanceof Mt)Cn.warn(dC.message);else{const t=cr.create("idb-get",{originalErrorMessage:dC?.message});Cn.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return br(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return br(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Nr(e){return gt(JSON.stringify({version:2,heartbeats:e})).length}var Sr;Sr="",ar(new Jt("platform-logger",e=>new Nn(e),"PRIVATE")),ar(new Jt("heartbeat",e=>new wr(e),"PRIVATE")),mr(Sn,En,Sr),mr(Sn,En,"esm2020"),mr("fire-js","");mr("firebase","12.0.0","app");const Er="@firebase/installations",Cr="0.6.19",_r=1e4,Tr=`w:${Cr}`,Ir="FIS_v2",Ar=36e5,Pr=new Ft("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rr(e){return e instanceof Mt&&e.code.includes("request-failed")}function Dr(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Or(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Lr(e,t){const n=(await t.json()).error;return Pr.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Mr(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Fr(e,t){let{refreshToken:n}=t;const r=Mr(e);return r.append("Authorization",function(e){return`${Ir} ${e}`}(n)),r}async function Ur(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Vr(e){return new Promise(t=>{setTimeout(t,e)})}const zr=/^[cdef][\w-]{21}$/;function Br(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return zr.test(t)?t:""}catch{return""}}function $r(e){return`${e.appName}!${e.appId}`}const qr=new Map;function Hr(e,t){const n=$r(e);Wr(n,t),function(e,t){const n=Kr();n&&n.postMessage({key:e,fid:t});Jr()}(n,t)}function Wr(e,t){const n=qr.get(e);if(n)for(const r of n)r(t)}let Gr=null;function Kr(){return!Gr&&"BroadcastChannel"in self&&(Gr=new BroadcastChannel("[Firebase] FID Change"),Gr.onmessage=e=>{Wr(e.data.key,e.data.fid)}),Gr}function Jr(){0===qr.size&&Gr&&(Gr.close(),Gr=null)}const Yr="firebase-installations-store";let Qr=null;function Xr(){return Qr||(Qr=bn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Yr)}})),Qr}async function Zr(e,t){const n=$r(e),r=(await Xr()).transaction(Yr,"readwrite"),s=r.objectStore(Yr),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||Hr(e,t.fid),t}async function es(e){const t=$r(e),n=(await Xr()).transaction(Yr,"readwrite");await n.objectStore(Yr).delete(t),await n.done}async function ts(e,t){const n=$r(e),r=(await Xr()).transaction(Yr,"readwrite"),s=r.objectStore(Yr),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||Hr(e,a.fid),a}async function ns(e){let t;const n=await ts(e.appConfig,n=>{const r=function(e){const t=e||{fid:Br(),registrationStatus:0};return is(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Pr.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:s}=t;const i=Dr(n),a=Mr(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:s,authVersion:Ir,appId:n.appId,sdkVersion:Tr},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Ur(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:Or(e.authToken)}}throw await Lr("Create Installation",u)}(e,t);return Zr(e.appConfig,n)}catch(dC){throw Rr(dC)&&409===dC.customData.serverCode?await es(e.appConfig):await Zr(e.appConfig,{fid:t.fid,registrationStatus:0}),dC}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:rs(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function rs(e){let t=await ss(e.appConfig);for(;1===t.registrationStatus;)await Vr(100),t=await ss(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ns(e);return n||t}return t}function ss(e){return ts(e,e=>{if(!e)throw Pr.create("installation-not-found");return is(e)})}function is(e){return 1===(t=e).registrationStatus&&t.registrationTime+_r<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function as(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const s=function(e,t){let{fid:n}=t;return`${Dr(e)}/${n}/authTokens:generate`}(n,t),i=Fr(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:Tr,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Ur(()=>fetch(s,l));if(c.ok){return Or(await c.json())}throw await Lr("Generate Auth Token",c)}async function os(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ts(e.appConfig,r=>{if(!cs(r))throw Pr.create("not-registered");const s=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ar}(e)}(s))return r;if(1===s.requestStatus)return t=async function(e,t){let n=await ls(e.appConfig);for(;1===n.authToken.requestStatus;)await Vr(100),n=await ls(e.appConfig);const r=n.authToken;return 0===r.requestStatus?os(e,t):r}(e,n),r;{if(!navigator.onLine)throw Pr.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return t=async function(e,t){try{const n=await as(e,t),r={...t,authToken:n};return await Zr(e.appConfig,r),n}catch(dC){if(!Rr(dC)||401!==dC.customData.serverCode&&404!==dC.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await Zr(e.appConfig,n)}else await es(e.appConfig);throw dC}}(e,n),n}});return t?await t:r.authToken}function ls(e){return ts(e,e=>{if(!cs(e))throw Pr.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+_r<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n})}function cs(e){return void 0!==e&&2===e.registrationStatus}async function us(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ns(e);t&&await t}(n);return(await os(n,t)).token}function ds(e){return Pr.create("missing-app-config-values",{valueName:e})}const hs="installations",ps=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ds("App Configuration");if(!e.name)throw ds("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ds(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:or(t,"heartbeat"),_delete:()=>Promise.resolve()}},fs=e=>{const t=or(e.getProvider("app").getImmediate(),hs).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ns(t);return r?r.catch(console.error):os(t).catch(console.error),n.fid}(t),getToken:e=>us(t,e)}};ar(new Jt(hs,ps,"PUBLIC")),ar(new Jt("installations-internal",fs,"PRIVATE")),mr(Er,Cr),mr(Er,Cr,"esm2020");const ms="analytics",gs="https://www.googletagmanager.com/gtag/js",vs=new an("@firebase/analytics"),ys=new Ft("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bs(e){if(!e.startsWith(gs)){const t=ys.create("invalid-gtag-resource",{gtagURL:e});return vs.warn(t.message),""}return e}function xs(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function ws(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:bs}),r=document.createElement("script"),s=`${gs}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function ks(e,t,n,r){return async function(s){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("event"===s){const[r,s]=a;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await xs(n);for(const n of e){const e=r.find(e=>e.measurementId===n),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(dC){vs.error(dC)}}(e,t,n,r,s)}else if("config"===s){const[s,i]=a;await async function(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const e=(await xs(n)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(dC){vs.error(dC)}e("config",s,i)}(e,t,n,r,s,i)}else if("consent"===s){const[t,n]=a;e("consent",t,n)}else if("get"===s){const[t,n,r]=a;e("get",t,n,r)}else if("set"===s){const[t]=a;e("set",t)}else e(s,...a)}catch(dC){vs.error(dC)}}}const js=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ns(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ss(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:js,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw ys.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ys.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Cs;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),Es({appId:r,apiKey:s,measurementId:i},a,o,t)}async function Es(e,t,n){let{throttleEndTimeMillis:r,backoffCount:s}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:js;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(ys.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(dC){if(o)return vs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${dC?.message}]`),{appId:a,measurementId:o};throw dC}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Ns(n)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(s,r);if(200!==i.status&&304!==i.status){let e="";try{const t=await i.json();t.error?.message&&(e=t.error.message)}catch(a){}throw ys.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(a),t}catch(dC){const r=dC;if(!function(e){if(!(e instanceof Mt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(a),o)return vs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${r?.message}]`),{appId:a,measurementId:o};throw dC}const l=503===Number(r?.customData?.httpStatus)?Gt(s,i.intervalMillis,30):Gt(s,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:s+1};return i.setThrottleMetadata(a,c),vs.debug(`Calling attemptFetch again in ${l} millis`),Es(e,c,n,i)}}class Cs{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let _s,Ts;function Is(e){Ts=e}function As(e){_s=e}async function Ps(e,t,n,r,s,i,a){const o=Ss(e);o.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&vs.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>vs.error(e)),t.push(o);const l=async function(){if(!Ot())return vs.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Lt()}catch(dC){return vs.warn(ys.create("indexeddb-unavailable",{errorInfo:dC?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([o,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(gs)&&n.src.includes(e))return n;return null})(i)||ws(i,c.measurementId),Ts&&(s("consent","default",Ts),Is(void 0)),s("js",new Date);const d=a?.config??{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),s("config",c.measurementId,d),_s&&(s("set",_s),As(void 0)),c.measurementId}class Rs{constructor(e){this.app=e}_delete(){return delete Ds[this.app.options.appId],Promise.resolve()}}let Ds={},Os=[];const Ls={};let Ms,Fs,Us="dataLayer",Vs="gtag",zs=!1;function Bs(){const e=[];if(Rt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=ys.create("invalid-analytics-context",{errorInfo:t});vs.warn(n.message)}}function $s(e,t,n){Bs();const r=e.options.appId;if(!r)throw ys.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ys.create("no-api-key");vs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ds[r])throw ys.create("already-exists",{id:r});if(!zs){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Us);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(i=window[s]),window[s]=ks(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(Ds,Os,Ls,Us,Vs);Fs=e,Ms=t,zs=!0}Ds[r]=Ps(e,Os,Ls,t,Ms,Us,n);return new Rs(e)}const qs="@firebase/analytics",Hs="0.10.18";ar(new Jt(ms,(e,t)=>{let{options:n}=t;return $s(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),ar(new Jt("analytics-internal",function(e){try{const t=e.getProvider(ms).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Kt(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,{...r,send_to:s})}}(Fs,Ds[e.app.options.appId],t,n,r).catch(e=>vs.error(e))}(t,e,n,r)}}catch(dC){throw ys.create("interop-component-reg-failed",{reason:dC})}},"PRIVATE")),mr(qs,Hs),mr(qs,Hs,"esm2020");var Ws,Gs,Ks="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Js={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,s.j(t)),new m(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=p(e,c)}return new m(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=p(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,p=65535&this.i(s),m=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=p*g,f(n,2*s+2*i),n[2*s+2*i+1]+=l*g,f(n,2*s+2*i+1),n[2*s+2*i+1]+=p*m,f(n,2*s+2*i+1),n[2*s+2*i+2]+=l*m,f(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Gs=Js.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},Ws=Js.Integer=r}).apply("undefined"!==typeof Ks?Ks:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ys,Qs,Xs,Zs,ei,ti,ni,ri,si="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ii={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof si&&si];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){s.setTimeout(()=>{throw e},0)}function N(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,_=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(n){j(n)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}z.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=$(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,s){if(r&&r.once)return K(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!1,r,s)}function G(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!0,r,s)}function J(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)J(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(i=e.g[t],n,r,s))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,s)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function Q(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var s=t;w(t=new R(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,pe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var xe={},we=null;function ke(){return we=we||new ne}function je(e){R.call(this,xe.La,e)}function Ne(e){const t=ke();re(t,new je(t))}function Se(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){const t=ke();re(t,new Se(t,e))}function Ce(e,t){R.call(this,xe.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Te(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(je,R),xe.STAT_EVENT="statevent",d(Se,R),xe.Ma="timingevent",d(Ce,R),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,fe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=W(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function He(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Ee(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!f(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Jt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ne(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var i=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ge(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Ee(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ee(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ke(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Ee(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ie(this.i,this.l,o,null),Ke(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=k(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),We(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),Ee(17)),Ge(this),this.s=2,We(this)):qe(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),St(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,xt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jt(e,t){kt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return kt(e),t=Et(e,t),e.g.has(t)}function St(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function _t(){this.g=new pe}function Tt(e,t,n){const r=n||"";try{rt(e,function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(dC){throw t.push(r+"type="+encodeURIComponent("_badmap")),dC}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){kt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,Nt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(It,fe),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ft.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(dC){}}}function qt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if(Qt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),_||(C(),_=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{Tt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),_||(C(),_=!0),T.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=ke(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Te;if(s.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ct(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ct(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),dn(e),Qt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ue(s,n,null)):Ue(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Qe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ri=ii.createWebChannelTransport=function(){return new mn},ni=ii.getStatEventTarget=function(){return ke()},ti=ii.Event=xe,ei=ii.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Zs=ii.ErrorCode=Pe,Re.COMPLETE="complete",Xs=ii.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Qs=ii.WebChannel=ge,ii.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Ys=ii.XhrIo=Mt}).apply("undefined"!==typeof si?si:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ai="@firebase/firestore",oi="4.9.0";class li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");let ci="12.0.0";const ui=new an("@firebase/firestore");function di(){return ui.logLevel}function hi(e){if(ui.logLevel<=en.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(mi);ui.debug(`Firestore (${ci}): ${e}`,...s)}}function pi(e){if(ui.logLevel<=en.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(mi);ui.error(`Firestore (${ci}): ${e}`,...s)}}function fi(e){if(ui.logLevel<=en.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(mi);ui.warn(`Firestore (${ci}): ${e}`,...s)}}function mi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function gi(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,vi(e,r,n)}function vi(e,t,n){let r=`FIRESTORE (${ci}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw pi(r),new Error(r)}function yi(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||vi(t,s,r)}function bi(e,t){return e}const xi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wi extends Mt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ji{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ni{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(li.UNAUTHENTICATED))}shutdown(){}}class Si{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ei{constructor(e){this.t=e,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yi(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ki,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{hi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(hi("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ki)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(hi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yi("string"==typeof t.accessToken,31837,{l:t}),new ji(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yi(null===e||"string"==typeof e,2055,{h:e}),new li(e)}}class Ci{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _i{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ci(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ti{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ii{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){yi(void 0===this.o,3512);const n=e=>{null!=e.error&&hi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,hi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{hi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):hi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ti(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(yi("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ti(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ai(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Pi{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ai(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ri(e,t){return e<t?-1:e>t?1:0}function Di(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return Mi(n)===Mi(s)?Ri(n,s):Mi(n)?1:-1}return Ri(e.length,t.length)}const Oi=55296,Li=57343;function Mi(e){const t=e.charCodeAt(0);return t>=Oi&&t<=Li}function Fi(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ui="__name__";class Vi{constructor(e,t,n){void 0===t?t=0:t>e.length&&gi(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&gi(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Vi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Vi.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ri(e.length,t.length)}static compareSegments(e,t){const n=Vi.isNumericId(e),r=Vi.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):Di(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class zi extends Vi{construct(e,t,n){return new zi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new wi(xi.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(e=>e.length>0))}return new zi(e)}static emptyPath(){return new zi([])}}const Bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends Vi{construct(e,t,n){return new $i(e,t,n)}static isValidIdentifier(e){return Bi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ui}static keyField(){return new $i([Ui])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new wi(xi.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new wi(xi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new wi(xi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new wi(xi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(t)}static emptyPath(){return new $i([])}}class qi{constructor(e){this.path=e}static fromPath(e){return new qi(zi.fromString(e))}static fromName(e){return new qi(zi.fromString(e).popFirst(5))}static empty(){return new qi(zi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qi(new zi(e.slice()))}}function Hi(e,t,n){if(!n)throw new wi(xi.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Wi(e){if(!qi.isDocumentKey(e))throw new wi(xi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Gi(e){if(qi.isDocumentKey(e))throw new wi(xi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ki(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Ji(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":gi(12329,{type:typeof e})}function Yi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wi(xi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ji(e);throw new wi(xi.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Qi(e,t){const n={typeString:e};return t&&(n.value=t),n}function Xi(e,t){if(!Ki(e))throw new wi(xi.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(void 0!==i&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new wi(xi.INVALID_ARGUMENT,n);return!0}const Zi=-62135596800,ea=1e6;class ta{static now(){return ta.fromMillis(Date.now())}static fromDate(e){return ta.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ea);return new ta(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wi(xi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wi(xi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zi)throw new wi(xi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wi(xi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ea}_compareTo(e){return this.seconds===e.seconds?Ri(this.nanoseconds,e.nanoseconds):Ri(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ta._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xi(e,ta._jsonSchema))return new ta(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ta._jsonSchemaVersion="firestore/timestamp/1.0",ta._jsonSchema={type:Qi("string",ta._jsonSchemaVersion),seconds:Qi("number"),nanoseconds:Qi("number")};class na{static fromTimestamp(e){return new na(e)}static min(){return new na(new ta(0,0))}static max(){return new na(new ta(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ra=-1;class sa{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}sa.UNKNOWN_ID=-1;function ia(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=na.fromTimestamp(1e9===r?new ta(n+1,0):new ta(n,r));return new oa(s,qi.empty(),t)}function aa(e){return new oa(e.readTime,e.key,ra)}class oa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new oa(na.min(),qi.empty(),ra)}static max(){return new oa(na.max(),qi.empty(),ra)}}function la(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=qi.comparator(e.documentKey,t.documentKey),0!==n?n:Ri(e.largestBatchId,t.largestBatchId))}const ca="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ua{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function da(e){if(e.code!==xi.FAILED_PRECONDITION||e.message!==ca)throw e;hi("LocalStore","Unexpectedly lost primary lease")}class ha{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gi(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ha((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ha?t:ha.resolve(t)}catch(e){return ha.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ha.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ha.reject(t)}static resolve(e){return new ha((t,n)=>{t(e)})}static reject(e){return new ha((t,n)=>{n(e)})}static waitFor(e){return new ha((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=ha.resolve(!1);for(const n of e)t=t.next(e=>e?ha.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ha((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new ha((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function pa(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fa(e){return"IndexedDbTransactionError"===e.name}class ma{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ma.ce=-1;const ga=-1;function va(e){return null==e}function ya(e){return 0===e&&1/e==-1/0}function ba(e){return"number"==typeof e&&Number.isInteger(e)&&!ya(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const xa="\x01";function wa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ja(t)),t=ka(e.get(n),t);return ja(t)}function ka(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case xa:n+="\x01\x11";break;default:n+=t}}return n}function ja(e){return e+xa+"\x01"}const Na="remoteDocuments",Sa="owner",Ea="mutationQueues",Ca="mutations";const _a="documentMutations",Ta="remoteDocumentsV14",Ia="remoteDocumentGlobal",Aa="targets",Pa="targetDocuments",Ra="targetGlobal",Da="collectionParents",Oa="clientMetadata",La="bundles",Ma="namedQueries",Fa="indexConfiguration",Ua="indexState",Va="indexEntries",za="documentOverlays",Ba="globals",$a=[Ea,Ca,_a,Na,Aa,Sa,Ra,Pa,Oa,Ia,Da,La,Ma],qa=[Ea,Ca,_a,Ta,Aa,Sa,Ra,Pa,Oa,Ia,Da,La,Ma,za],Ha=qa,Wa=[...Ha,Fa,Ua,Va];function Ga(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ka(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ja(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ya{constructor(e,t){this.comparator=e,this.root=t||Xa.EMPTY}insert(e,t){return new Ya(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xa.BLACK,null,null))}remove(e){return new Ya(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}}class Qa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xa{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Xa.RED,this.left=null!=r?r:Xa.EMPTY,this.right=null!=s?s:Xa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Xa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gi(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gi(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gi(27949);return e+(this.isRed()?0:1)}}Xa.EMPTY=null,Xa.RED=!0,Xa.BLACK=!1,Xa.EMPTY=new class{constructor(){this.size=0}get key(){throw gi(57766)}get value(){throw gi(16141)}get color(){throw gi(16727)}get left(){throw gi(29726)}get right(){throw gi(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Xa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Za{constructor(e){this.comparator=e,this.data=new Ya(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eo(this.data.getIterator())}getIteratorFrom(e){return new eo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Za))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Za(this.comparator);return t.data=e,t}}class eo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class to{constructor(e){this.fields=e,e.sort($i.comparator)}static empty(){return new to([])}unionWith(e){let t=new Za($i.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new to(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fi(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class no extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ro{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new no("Invalid base64 string: "+e):e}}(e);return new ro(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ro(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ri(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ro.EMPTY_BYTE_STRING=new ro("");const so=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(e){if(yi(!!e,39018),"string"==typeof e){let t=0;const n=so.exec(e);if(yi(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ao(e.seconds),nanos:ao(e.nanos)}}function ao(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oo(e){return"string"==typeof e?ro.fromBase64String(e):ro.fromUint8Array(e)}const lo="server_timestamp",co="__type__",uo="__previous_value__",ho="__local_write_time__";function po(e){const t=(e?.mapValue?.fields||{})[co]?.stringValue;return t===lo}function fo(e){const t=e.mapValue.fields[uo];return po(t)?fo(t):t}function mo(e){const t=io(e.mapValue.fields[ho].timestampValue);return new ta(t.seconds,t.nanos)}class go{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const vo="(default)";class yo{constructor(e,t){this.projectId=e,this.database=t||vo}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===vo}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}const bo="__type__",xo="__max__",wo={mapValue:{fields:{__type__:{stringValue:xo}}}},ko="__vector__",jo="value";function No(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?po(e)?4:zo(e)?9007199254740991:Uo(e)?10:11:gi(28295,{value:e})}function So(e,t){if(e===t)return!0;const n=No(e);if(n!==No(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mo(e).isEqual(mo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=io(e.timestampValue),r=io(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return oo(e.bytesValue).isEqual(oo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ao(e.geoPointValue.latitude)===ao(t.geoPointValue.latitude)&&ao(e.geoPointValue.longitude)===ao(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ao(e.integerValue)===ao(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ao(e.doubleValue),r=ao(t.doubleValue);return n===r?ya(n)===ya(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fi(e.arrayValue.values||[],t.arrayValue.values||[],So);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ga(n)!==Ga(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!So(n[s],r[s])))return!1;return!0}(e,t);default:return gi(52216,{left:e})}}function Eo(e,t){return void 0!==(e.values||[]).find(e=>So(e,t))}function Co(e,t){if(e===t)return 0;const n=No(e),r=No(t);if(n!==r)return Ri(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ri(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ao(e.integerValue||e.doubleValue),r=ao(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _o(e.timestampValue,t.timestampValue);case 4:return _o(mo(e),mo(t));case 5:return Di(e.stringValue,t.stringValue);case 6:return function(e,t){const n=oo(e),r=oo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Ri(n[s],r[s]);if(0!==e)return e}return Ri(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ri(ao(e.latitude),ao(t.latitude));return 0!==n?n:Ri(ao(e.longitude),ao(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return To(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},s=n[jo]?.arrayValue,i=r[jo]?.arrayValue,a=Ri(s?.values?.length||0,i?.values?.length||0);return 0!==a?a:To(s,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===wo.mapValue&&t===wo.mapValue)return 0;if(e===wo.mapValue)return 1;if(t===wo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Di(r[a],i[a]);if(0!==e)return e;const t=Co(n[r[a]],s[i[a]]);if(0!==t)return t}return Ri(r.length,i.length)}(e.mapValue,t.mapValue);default:throw gi(23264,{he:n})}}function _o(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ri(e,t);const n=io(e),r=io(t),s=Ri(n.seconds,r.seconds);return 0!==s?s:Ri(n.nanos,r.nanos)}function To(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Co(n[s],r[s]);if(e)return e}return Ri(n.length,r.length)}function Io(e){return Ao(e)}function Ao(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=io(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return oo(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return qi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ao(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Ao(e.fields[s])}`;return n+"}"}(e.mapValue):gi(61005,{value:e})}function Po(e){switch(No(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fo(e);return t?16+Po(t):16;case 5:return 2*e.stringValue.length;case 6:return oo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Po(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ka(e.fields,(e,n)=>{t+=e.length+Po(n)}),t}(e.mapValue);default:throw gi(13486,{value:e})}}function Ro(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Do(e){return!!e&&"integerValue"in e}function Oo(e){return!!e&&"arrayValue"in e}function Lo(e){return!!e&&"nullValue"in e}function Mo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fo(e){return!!e&&"mapValue"in e}function Uo(e){const t=(e?.mapValue?.fields||{})[bo]?.stringValue;return t===ko}function Vo(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ka(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Vo(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vo(e.arrayValue.values[n]);return t}return{...e}}function zo(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xo}class Bo{constructor(e){this.value=e}static empty(){return new Bo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(t)}setAll(e){let t=$i.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Vo(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Fo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ka(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Bo(Vo(this.value))}}function $o(e){const t=[];return Ka(e.fields,(e,n)=>{const r=new $i([e]);if(Fo(n)){const e=$o(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new to(t)}class qo{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new qo(e,0,na.min(),na.min(),na.min(),Bo.empty(),0)}static newFoundDocument(e,t,n,r){return new qo(e,1,t,na.min(),n,r,0)}static newNoDocument(e,t){return new qo(e,2,t,na.min(),na.min(),Bo.empty(),0)}static newUnknownDocument(e,t){return new qo(e,3,t,na.min(),na.min(),Bo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(na.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=na.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ho{constructor(e,t){this.position=e,this.inclusive=t}}function Wo(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?qi.comparator(qi.fromName(a.referenceValue),n.key):Co(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Go(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!So(e.position[n],t.position[n]))return!1;return!0}class Ko{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Jo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yo{}class Qo extends Yo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new il(e,t,n):"array-contains"===t?new cl(e,n):"in"===t?new ul(e,n):"not-in"===t?new dl(e,n):"array-contains-any"===t?new hl(e,n):new Qo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new al(e,n):new ol(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Co(t,this.value)):null!==t&&No(this.value)===No(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gi(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xo extends Yo{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xo(e,t)}matches(e){return Zo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zo(e){return"and"===e.op}function el(e){return tl(e)&&Zo(e)}function tl(e){for(const t of e.filters)if(t instanceof Xo)return!1;return!0}function nl(e){if(e instanceof Qo)return e.field.canonicalString()+e.op.toString()+Io(e.value);if(el(e))return e.filters.map(e=>nl(e)).join(",");{const t=e.filters.map(e=>nl(e)).join(",");return`${e.op}(${t})`}}function rl(e,t){return e instanceof Qo?function(e,t){return t instanceof Qo&&e.op===t.op&&e.field.isEqual(t.field)&&So(e.value,t.value)}(e,t):e instanceof Xo?function(e,t){return t instanceof Xo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&rl(n,t.filters[r]),!0)}(e,t):void gi(19439)}function sl(e){return e instanceof Qo?function(e){return`${e.field.canonicalString()} ${e.op} ${Io(e.value)}`}(e):e instanceof Xo?function(e){return e.op.toString()+" {"+e.getFilters().map(sl).join(" ,")+"}"}(e):"Filter"}class il extends Qo{constructor(e,t,n){super(e,t,n),this.key=qi.fromName(n.referenceValue)}matches(e){const t=qi.comparator(e.key,this.key);return this.matchesComparison(t)}}class al extends Qo{constructor(e,t){super(e,"in",t),this.keys=ll("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ol extends Qo{constructor(e,t){super(e,"not-in",t),this.keys=ll("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ll(e,t){return(t.arrayValue?.values||[]).map(e=>qi.fromName(e.referenceValue))}class cl extends Qo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oo(t)&&Eo(t.arrayValue,this.value)}}class ul extends Qo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eo(this.value.arrayValue,t)}}class dl extends Qo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Eo(this.value.arrayValue,t)}}class hl extends Qo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Eo(this.value.arrayValue,e))}}class pl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Te=null}}function fl(e){return new pl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ml(e){const t=bi(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>nl(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),va(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Io(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Io(e)).join(",")),t.Te=e}return t.Te}function gl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Go(e.startAt,t.startAt)&&Go(e.endAt,t.endAt)}function vl(e){return qi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bl(e,t,n,r,s,i,a,o){return new yl(e,t,n,r,s,i,a,o)}function xl(e){return new yl(e)}function wl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kl(e){return null!==e.collectionGroup}function jl(e){const t=bi(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Za($i.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ko(r,n))}),e.has($i.keyField().canonicalString())||t.Ie.push(new Ko($i.keyField(),n))}return t.Ie}function Nl(e){const t=bi(e);return t.Ee||(t.Ee=Sl(t,jl(e))),t.Ee}function Sl(e,t){if("F"===e.limitType)return fl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ko(e.field,t)});const n=e.endAt?new Ho(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ho(e.startAt.position,e.startAt.inclusive):null;return fl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function El(e,t){const n=e.filters.concat([t]);return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Cl(e,t,n){return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _l(e,t){return gl(Nl(e),Nl(t))&&e.limitType===t.limitType}function Tl(e){return`${ml(Nl(e))}|lt:${e.limitType}`}function Il(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>sl(e)).join(", ")}]`),va(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Io(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Io(e)).join(",")),`Target(${t})`}(Nl(e))}; limitType=${e.limitType})`}function Al(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):qi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of jl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Wo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,jl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Wo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,jl(e),t))}(e,t)}function Pl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rl(e){return(t,n)=>{let r=!1;for(const s of jl(e)){const e=Dl(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Dl(e,t,n){const r=e.field.isKeyField()?qi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Co(r,s):gi(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gi(19790,{direction:e.dir})}}class Ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Ja(this.inner)}size(){return this.innerSize}}const Ll=new Ya(qi.comparator);function Ml(){return Ll}const Fl=new Ya(qi.comparator);function Ul(){let e=Fl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Vl(e){let t=Fl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function zl(){return $l()}function Bl(){return $l()}function $l(){return new Ol(e=>e.toString(),(e,t)=>e.isEqual(t))}const ql=new Ya(qi.comparator),Hl=new Za(qi.comparator);function Wl(){let e=Hl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Gl=new Za(Ri);function Kl(){return Gl}function Jl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ya(t)?"-0":t}}function Yl(e){return{integerValue:""+e}}function Ql(e,t){return ba(t)?Yl(t):Jl(e,t)}class Xl{constructor(){this._=void 0}}function Zl(e,t,n){return e instanceof nc?function(e,t){const n={fields:{[co]:{stringValue:lo},[ho]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&po(t)&&(t=fo(t)),t&&(n.fields[uo]=t),{mapValue:n}}(n,t):e instanceof rc?sc(e,t):e instanceof ic?ac(e,t):function(e,t){const n=tc(e,t),r=lc(n)+lc(e.Ae);return Do(n)&&Do(e.Ae)?Yl(r):Jl(e.serializer,r)}(e,t)}function ec(e,t,n){return e instanceof rc?sc(e,t):e instanceof ic?ac(e,t):n}function tc(e,t){return e instanceof oc?function(e){return Do(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class nc extends Xl{}class rc extends Xl{constructor(e){super(),this.elements=e}}function sc(e,t){const n=cc(t);for(const r of e.elements)n.some(e=>So(e,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends Xl{constructor(e){super(),this.elements=e}}function ac(e,t){let n=cc(t);for(const r of e.elements)n=n.filter(e=>!So(e,r));return{arrayValue:{values:n}}}class oc extends Xl{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lc(e){return ao(e.integerValue||e.doubleValue)}function cc(e){return Oo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class uc{constructor(e,t){this.field=e,this.transform=t}}class dc{constructor(e,t){this.version=e,this.transformResults=t}}class hc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hc}static exists(e){return new hc(void 0,e)}static updateTime(e){return new hc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class fc{}function mc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sc(e.key,hc.none()):new xc(e.key,e.data,hc.none());{const n=e.data,r=Bo.empty();let s=new Za($i.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new wc(e.key,r,new to(s.toArray()),hc.none())}}function gc(e,t,n){e instanceof xc?function(e,t,n){const r=e.value.clone(),s=jc(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wc?function(e,t,n){if(!pc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jc(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(kc(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vc(e,t,n,r){return e instanceof xc?function(e,t,n,r){if(!pc(e.precondition,t))return n;const s=e.value.clone(),i=Nc(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof wc?function(e,t,n,r){if(!pc(e.precondition,t))return n;const s=Nc(e.fieldTransforms,r,t),i=t.data;return i.setAll(kc(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return pc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=tc(r.transform,e||null);null!=s&&(null===n&&(n=Bo.empty()),n.set(r.field,s))}return n||null}function bc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fi(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rc&&t instanceof rc||e instanceof ic&&t instanceof ic?Fi(e.elements,t.elements,So):e instanceof oc&&t instanceof oc?So(e.Ae,t.Ae):e instanceof nc&&t instanceof nc}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xc extends fc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wc extends fc{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function jc(e,t,n){const r=new Map;yi(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,ec(a,o,n[s]))}return r}function Nc(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Zl(e,i,t))}return r}class Sc extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ec extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&gc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Bl();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=mc(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(na.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wl())}isEqual(e){return this.batchId===e.batchId&&Fi(this.mutations,e.mutations,(e,t)=>bc(e,t))&&Fi(this.baseMutations,e.baseMutations,(e,t)=>bc(e,t))}}class _c{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){yi(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ql;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new _c(e,t,n,r)}}class Tc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ic{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ac,Pc;function Rc(e){switch(e){case xi.OK:return gi(64938);case xi.CANCELLED:case xi.UNKNOWN:case xi.DEADLINE_EXCEEDED:case xi.RESOURCE_EXHAUSTED:case xi.INTERNAL:case xi.UNAVAILABLE:case xi.UNAUTHENTICATED:return!1;case xi.INVALID_ARGUMENT:case xi.NOT_FOUND:case xi.ALREADY_EXISTS:case xi.PERMISSION_DENIED:case xi.FAILED_PRECONDITION:case xi.ABORTED:case xi.OUT_OF_RANGE:case xi.UNIMPLEMENTED:case xi.DATA_LOSS:return!0;default:return gi(15467,{code:e})}}function Dc(e){if(void 0===e)return pi("GRPC error has no .code"),xi.UNKNOWN;switch(e){case Ac.OK:return xi.OK;case Ac.CANCELLED:return xi.CANCELLED;case Ac.UNKNOWN:return xi.UNKNOWN;case Ac.DEADLINE_EXCEEDED:return xi.DEADLINE_EXCEEDED;case Ac.RESOURCE_EXHAUSTED:return xi.RESOURCE_EXHAUSTED;case Ac.INTERNAL:return xi.INTERNAL;case Ac.UNAVAILABLE:return xi.UNAVAILABLE;case Ac.UNAUTHENTICATED:return xi.UNAUTHENTICATED;case Ac.INVALID_ARGUMENT:return xi.INVALID_ARGUMENT;case Ac.NOT_FOUND:return xi.NOT_FOUND;case Ac.ALREADY_EXISTS:return xi.ALREADY_EXISTS;case Ac.PERMISSION_DENIED:return xi.PERMISSION_DENIED;case Ac.FAILED_PRECONDITION:return xi.FAILED_PRECONDITION;case Ac.ABORTED:return xi.ABORTED;case Ac.OUT_OF_RANGE:return xi.OUT_OF_RANGE;case Ac.UNIMPLEMENTED:return xi.UNIMPLEMENTED;case Ac.DATA_LOSS:return xi.DATA_LOSS;default:return gi(39323,{code:e})}}(Pc=Ac||(Ac={}))[Pc.OK=0]="OK",Pc[Pc.CANCELLED=1]="CANCELLED",Pc[Pc.UNKNOWN=2]="UNKNOWN",Pc[Pc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pc[Pc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pc[Pc.NOT_FOUND=5]="NOT_FOUND",Pc[Pc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pc[Pc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pc[Pc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pc[Pc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pc[Pc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pc[Pc.ABORTED=10]="ABORTED",Pc[Pc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pc[Pc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pc[Pc.INTERNAL=13]="INTERNAL",Pc[Pc.UNAVAILABLE=14]="UNAVAILABLE",Pc[Pc.DATA_LOSS=15]="DATA_LOSS";let Oc=null;function Lc(){return new TextEncoder}const Mc=new Ws([4294967295,4294967295],0);function Fc(e){const t=Lc().encode(e),n=new Gs;return n.update(t),new Uint8Array(n.digest())}function Uc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Ws([n,r],0),new Ws([s,i],0)]}class Vc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new zc(`Invalid padding: ${t}`);if(n<0)throw new zc(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new zc(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new zc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ws.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ws.fromNumber(n)));return 1===r.compare(Mc)&&(r=new Ws([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Fc(e),[n,r]=Uc(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Vc(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Fc(e),[n,r]=Uc(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bc{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Bc(na.min(),r,new Ya(Ri),Ml(),Wl())}}class $c{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $c(n,t,Wl(),Wl(),Wl())}}class qc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Hc{constructor(e,t){this.targetId=e,this.Ce=t}}class Wc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ro.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Gc{constructor(){this.ve=0,this.Fe=Yc(),this.Me=ro.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Wl(),t=Wl(),n=Wl();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gi(38017,{changeType:s})}}),new $c(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Yc()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,yi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kc{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ml(),this.Je=Jc(),this.He=Jc(),this.Ye=new Ya(Ri)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:gi(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(vl(s))if(0===n){const e=new qi(s.path);this.et(t,e,qo.newNoDocument(e,na.min()))}else yi(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}Oc?.lt(function(e,t,n,r,s){const i={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},a=t.unchangedNames;return a&&(i.bloomFilter={applied:0===s,hashCount:a?.hashCount??0,bitmapLength:a?.bits?.bitmap?.length??0,padding:a?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),i}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=oo(n).toUint8Array()}catch(e){if(e instanceof no)return fi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Vc(i,r,s)}catch(e){return fi(e instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Ge.ht(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const s=this.ot(r);if(s){if(n.current&&vl(s.target)){const t=new qi(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,qo.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Wl();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Bc(e,t,this.Ye,this.je,n);return this.je=Ml(),this.Je=Jc(),this.He=Jc(),this.Ye=new Ya(Ri),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Gc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Za(Ri),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Za(Ri),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||hi("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jc(){return new Ya(qi.comparator)}function Yc(){return new Ya(qi.comparator)}const Qc={asc:"ASCENDING",desc:"DESCENDING"},Xc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zc={and:"AND",or:"OR"};class eu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tu(e,t){return e.useProto3Json||va(t)?t:{value:t}}function nu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ru(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function su(e,t){return nu(e,t.toTimestamp())}function iu(e){return yi(!!e,49232),na.fromTimestamp(function(e){const t=io(e);return new ta(t.seconds,t.nanos)}(e))}function au(e,t){return ou(e,t).canonicalString()}function ou(e,t){const n=function(e){return new zi(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function lu(e){const t=zi.fromString(e);return yi(_u(t),10190,{key:t.toString()}),t}function cu(e,t){return au(e.databaseId,t.path)}function uu(e,t){const n=lu(t);if(n.get(1)!==e.databaseId.projectId)throw new wi(xi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wi(xi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new qi(fu(n))}function du(e,t){return au(e.databaseId,t)}function hu(e){const t=lu(e);return 4===t.length?zi.emptyPath():fu(t)}function pu(e){return new zi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fu(e){return yi(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mu(e,t,n){return{name:cu(e,t),fields:n.value.mapValue.fields}}function gu(e,t){let n;if(t instanceof xc)n={update:mu(e,t.key,t.value)};else if(t instanceof Sc)n={delete:cu(e,t.key)};else if(t instanceof wc)n={update:mu(e,t.key,t.data),updateMask:Cu(t.fieldMask)};else{if(!(t instanceof Ec))return gi(16599,{Vt:t.type});n={verify:cu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof nc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ic)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof oc)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw gi(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:su(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gi(27497)}(e,t.precondition)),n}function vu(e,t){return{documents:[du(e,t.path)]}}function yu(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=du(e,s);const i=function(e){if(0!==e.length)return Eu(Xo.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Nu(e.field),direction:wu(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=tu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s}}function bu(e){let t=hu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){yi(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=xu(e);return t instanceof Xo&&el(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ko(Su(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,va(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ho(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ho(n,t)}(n.endAt)),bl(t,s,a,i,o,"F",l,c)}function xu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Su(e.unaryFilter.field);return Qo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Su(e.unaryFilter.field);return Qo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Su(e.unaryFilter.field);return Qo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Su(e.unaryFilter.field);return Qo.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gi(61313);default:return gi(60726)}}(e):void 0!==e.fieldFilter?function(e){return Qo.create(Su(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gi(58110);default:return gi(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xo.create(e.compositeFilter.filters.map(e=>xu(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gi(1026)}}(e.compositeFilter.op))}(e):gi(30097,{filter:e})}function wu(e){return Qc[e]}function ku(e){return Xc[e]}function ju(e){return Zc[e]}function Nu(e){return{fieldPath:e.canonicalString()}}function Su(e){return $i.fromServerFormat(e.fieldPath)}function Eu(e){return e instanceof Qo?function(e){if("=="===e.op){if(Mo(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NAN"}};if(Lo(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mo(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NOT_NAN"}};if(Lo(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(e.field),op:ku(e.op),value:e.value}}}(e):e instanceof Xo?function(e){const t=e.getFilters().map(e=>Eu(e));return 1===t.length?t[0]:{compositeFilter:{op:ju(e.op),filters:t}}}(e):gi(54877,{filter:e})}function Cu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _u(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Tu{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:na.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:na.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ro.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Iu{constructor(e){this.yt=e}}function Au(e){const t=bu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Cl(t,t.limit,"L"):t}class Pu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ao(e.integerValue));else if("doubleValue"in e){const n=ao(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),ya(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=io(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(oo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?zo(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Uo(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):gi(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=jo,s=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ao(s)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),qi.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Pu.Kt=new Pu;class Ru{constructor(){this.Cn=new Du}addToCollectionParentIndex(e,t){return this.Cn.add(t),ha.resolve()}getCollectionParents(e,t){return ha.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ha.resolve()}deleteFieldIndex(e,t){return ha.resolve()}deleteAllFieldIndexes(e){return ha.resolve()}createTargetIndexes(e,t){return ha.resolve()}getDocumentsMatchingTarget(e,t){return ha.resolve(null)}getIndexType(e,t){return ha.resolve(0)}getFieldIndexes(e,t){return ha.resolve([])}getNextCollectionGroupToUpdate(e){return ha.resolve(null)}getMinOffset(e,t){return ha.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,t){return ha.resolve(oa.min())}updateCollectionGroup(e,t,n){return ha.resolve()}updateIndexEntries(e,t){return ha.resolve()}}class Du{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Za(zi.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Za(zi.comparator)).toArray()}}new Uint8Array(0);const Ou={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lu=41943040;class Mu{static withCacheSize(e){return new Mu(e,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Mu.DEFAULT_COLLECTION_PERCENTILE=10,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mu.DEFAULT=new Mu(Lu,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mu.DISABLED=new Mu(-1,0,0);class Fu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fu(0)}static cr(){return new Fu(-1)}}const Uu="LruGarbageCollector",Vu=1048576;function zu(e,t){let[n,r]=e,[s,i]=t;const a=Ri(n,s);return 0===a?Ri(r,i):a}class Bu{constructor(e){this.Ir=e,this.buffer=new Za(zu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();zu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $u{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){hi(Uu,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fa(e)?hi(Uu,"Ignoring IndexedDB error during garbage collection: ",e):await da(e)}await this.Vr(3e5)})}}class qu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ha.resolve(ma.ce);const n=new Bu(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hi("LruGarbageCollector","Garbage collection skipped; disabled"),ha.resolve(Ou)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(hi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ou):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(hi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),di()<=en.DEBUG&&hi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(a-i)+"ms\n"+`\tRemoved ${s} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),ha.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function Hu(e,t){return new qu(e,t)}class Wu{constructor(){this.changes=new Ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ha.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ku{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&vc(n.mutation,e,to.empty(),ta.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Wl()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wl();const r=zl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ul();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=zl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Wl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=Ml();const i=$l(),a=$l();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof wc)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),vc(a.mutation,t,a.mutation.getFieldMask(),ta.now())):i.set(t.key,to.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>a.set(e,new Gu(t,i.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=$l();let r=new Ya((e,t)=>e-t),s=Wl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||to.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Wl()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Bl();l.forEach(e=>{if(!s.has(e)){const r=mc(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ha.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return qi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):ha.resolve(zl());let a=ra,o=s;return i.next(t=>ha.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?ha.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,Wl())).next(e=>({batchId:a,changes:Vl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qi(t)).next(e=>{let t=Ul();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=Ul();return this.indexManager.getCollectionParents(e,s).next(a=>ha.forEach(a,a=>{const o=function(e,t){return new yl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,qo.newInvalidDocument(r)))});let n=Ul();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&vc(i.mutation,r,to.empty(),ta.now()),Al(t,r)&&(n=n.insert(e,r))}),n})}}class Ju{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ha.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:iu(e.createTime)}}(t)),ha.resolve()}getNamedQuery(e,t){return ha.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Au(e.bundledQuery),readTime:iu(e.readTime)}}(t)),ha.resolve()}}class Yu{constructor(){this.overlays=new Ya(qi.comparator),this.qr=new Map}getOverlay(e,t){return ha.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zl();return ha.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ha.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ha.resolve()}getOverlaysForCollection(e,t,n){const r=zl(),s=t.length+1,i=new qi(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ha.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Ya((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=zl(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=zl(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return ha.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Tc(t,n));let s=this.qr.get(t);void 0===s&&(s=Wl(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class Qu{constructor(){this.sessionToken=ro.EMPTY_BYTE_STRING}getSessionToken(e){return ha.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ha.resolve()}}class Xu{constructor(){this.Qr=new Za(Zu.$r),this.Ur=new Za(Zu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Zu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Zu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new qi(new zi([])),n=new Zu(t,e),r=new Zu(t,e+1),s=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),s.push(e.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new qi(new zi([])),n=new Zu(t,e),r=new Zu(t,e+1);let s=Wl();return this.Ur.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new Zu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Zu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return qi.comparator(e.key,t.key)||Ri(e.Yr,t.Yr)}static Kr(e,t){return Ri(e.Yr,t.Yr)||qi.comparator(e.key,t.key)}}class ed{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Za(Zu.$r)}checkEmpty(e){return ha.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Cc(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new Zu(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ha.resolve(i)}lookupMutationBatch(e,t){return ha.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return ha.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ha.resolve(0===this.mutationQueue.length?ga:this.tr-1)}getAllMutationBatches(e){return ha.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zu(t,0),r=new Zu(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);s.push(t)}),ha.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Za(Ri);return t.forEach(e=>{const t=new Zu(e,0),r=new Zu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ha.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;qi.isDocumentKey(s)||(s=s.child(""));const i=new Zu(new qi(s),0);let a=new Za(Ri);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),ha.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){yi(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ha.forEach(t.mutations,r=>{const s=new Zu(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Zu(t,0),r=this.Zr.firstAfterOrEqual(n);return ha.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ha.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class td{constructor(e){this.ri=e,this.docs=new Ya(qi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ha.resolve(n?n.document.mutableCopy():qo.newInvalidDocument(t))}getEntries(e,t){let n=Ml();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():qo.newInvalidDocument(e))}),ha.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Ml();const i=t.path,a=new qi(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||la(aa(a),n)<=0||(r.has(a.key)||Al(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return ha.resolve(s)}getAllFromCollectionGroup(e,t,n,r){gi(9500)}ii(e,t){return ha.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new nd(this)}getSize(e){return ha.resolve(this.size)}}class nd extends Wu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ha.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class rd{constructor(e){this.persistence=e,this.si=new Ol(e=>ml(e),gl),this.lastRemoteSnapshotVersion=na.min(),this.highestTargetId=0,this.oi=0,this._i=new Xu,this.targetCount=0,this.ai=Fu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ha.resolve()}getLastRemoteSnapshotVersion(e){return ha.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ha.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ha.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ha.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ha.resolve()}updateTargetData(e,t){return this.Pr(t),ha.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ha.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),ha.waitFor(s).next(()=>r)}getTargetCount(e){return ha.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ha.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ha.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),ha.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ha.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ha.resolve(n)}containsKey(e,t){return ha.resolve(this._i.containsKey(t))}}class sd{constructor(e,t){this.ui={},this.overlays={},this.ci=new ma(0),this.li=!1,this.li=!0,this.hi=new Qu,this.referenceDelegate=e(this),this.Pi=new rd(this),this.indexManager=new Ru,this.remoteDocumentCache=function(e){return new td(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Iu(t),this.Ii=new Ju(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ed(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){hi("MemoryPersistence","Starting transaction:",e);const r=new id(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ha.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class id extends ua{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.Ri=new Xu,this.Vi=null}static mi(e){return new ad(e)}get fi(){if(this.Vi)return this.Vi;throw gi(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ha.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ha.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ha.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ha.forEach(this.fi,n=>{const r=qi.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,na.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ha.or([()=>ha.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class od{constructor(e,t){this.persistence=e,this.pi=new Ol(e=>wa(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Hu(this,t)}static mi(e,t){return new od(e,t)}Ei(){}di(e){return ha.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ha.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ha.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,s.removeEntry(r,na.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ha.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ha.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ha.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ha.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Po(e.data.value)),t}br(e,t,n){return ha.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ha.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ld{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Wl(),r=Wl();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ld(e,t.fromCache,n,r)}}class cd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ud{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Dt()?8:pa(At())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new cd;return this.Ss(e,t,n).next(r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(di()<=en.DEBUG&&hi("QueryEngine","SDK will not create cache indexes for query:",Il(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ha.resolve()):(di()<=en.DEBUG&&hi("QueryEngine","Query:",Il(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(di()<=en.DEBUG&&hi("QueryEngine","The SDK decides to create cache indexes for query:",Il(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nl(t))):ha.resolve())}ys(e,t){if(wl(t))return ha.resolve(null);let n=Nl(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Cl(t,null,"F"),n=Nl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=Wl(...r);return this.ps.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,s,n.readTime)?this.ys(e,Cl(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return wl(t)||r.isEqual(na.min())?ha.resolve(null):this.ps.getDocuments(e,n).next(s=>{const i=this.Ds(t,s);return this.Cs(t,i,n,r)?ha.resolve(null):(di()<=en.DEBUG&&hi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Il(t)),this.vs(e,i,t,ia(r,ra)).next(e=>e))})}Ds(e,t){let n=new Za(Rl(e));return t.forEach((t,r)=>{Al(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return di()<=en.DEBUG&&hi("QueryEngine","Using full collection scan to execute query:",Il(t)),this.ps.getDocumentsMatchingQuery(e,t,oa.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const dd="LocalStore";class hd{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ya(Ri),this.xs=new Ol(e=>ml(e),gl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ku(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function pd(e,t,n,r){return new hd(e,t,n,r)}async function fd(e,t){const n=bi(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=Wl();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:s,addedBatchIds:i}))})})}function md(e){const t=bi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function gd(e,t,n){let r=Wl(),s=Wl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ml();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(na.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):hi(dd,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:r,qs:s}})}function vd(e,t){const n=bi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ga),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function yd(e,t){const n=bi(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(s=>s?(r=s,ha.resolve(r)):n.Pi.allocateTargetId(e).next(s=>(r=new Tu(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function bd(e,t,n){const r=bi(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!fa(e))throw e;hi(dd,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function xd(e,t,n){const r=bi(e);let s=na.min(),i=Wl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=bi(e),s=r.xs.get(n);return void 0!==s?ha.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,Nl(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:na.min(),n?i:Wl())).next(e=>(wd(r,Pl(t),e),{documents:e,Qs:i})))}function wd(e,t,n){let r=e.Os.get(t)||na.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class kd{constructor(){this.activeTargetIds=Kl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jd{constructor(){this.Mo=new kd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nd{Oo(e){}shutdown(){}}const Sd="ConnectivityMonitor";class Ed{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){hi(Sd,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){hi(Sd,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cd=null;function _d(){return null===Cd?Cd=268435456+Math.round(2147483648*Math.random()):Cd++,"0x"+Cd.toString(16)}const Td="RestConnection",Id={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ad{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===vo?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,s){const i=_d(),a=this.zo(e,t.toUriEncodedString());hi(Td,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(a),c=St(l);return this.Jo(e,a,o,n,c).then(t=>(hi(Td,`Received RPC '${e}' ${i}: `,t),t),t=>{throw fi(Td,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,s,i){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ci,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Id[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class Pd{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Rd="WebChannelConnection";class Dd extends Ad{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=_d();return new Promise((s,a)=>{const o=new Ys;o.setWithCredentials(!0),o.listenOnce(Xs.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Zs.NO_ERROR:const t=o.getResponseJson();hi(Rd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Zs.TIMEOUT:hi(Rd,`RPC '${e}' ${i} timed out`),a(new wi(xi.DEADLINE_EXCEEDED,"Request time out"));break;case Zs.HTTP_ERROR:const n=o.getStatus();if(hi(Rd,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(xi).indexOf(t)>=0?t:xi.UNKNOWN}(t.status);a(new wi(e,t.message))}else a(new wi(xi.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wi(xi.UNAVAILABLE,"Connection failed."));break;default:gi(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{hi(Rd,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);hi(Rd,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=_d(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ri(),a=ni(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");hi(Rd,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new Pd({Yo:t=>{h?hi(Rd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(hi(Rd,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),hi(Rd,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,Qs.EventType.OPEN,()=>{h||(hi(Rd,`RPC '${e}' stream ${r} transport opened.`),p.o_())}),f(u,Qs.EventType.CLOSE,()=>{h||(h=!0,hi(Rd,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))}),f(u,Qs.EventType.ERROR,t=>{h||(h=!0,fi(Rd,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.a_(new wi(xi.UNAVAILABLE,"The operation could not be completed")))}),f(u,Qs.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];yi(!!n,16349);const s=n,i=s?.error||s[0]?.error;if(i){hi(Rd,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=Ac[e];if(void 0!==t)return Dc(t)}(t),s=i.message;void 0===n&&(n=xi.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),h=!0,p.a_(new wi(n,s)),u.close()}else hi(Rd,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}}),f(a,ti.STAT_EVENT,t=>{t.stat===ei.PROXY?hi(Rd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ei.NOPROXY&&hi(Rd,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Od(){return"undefined"!=typeof document?document:null}function Ld(e){return new eu(e,!0)}class Md{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&hi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Fd="PersistentStream";class Ud{constructor(e,t,n,r,s,i,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Md(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===xi.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===xi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new wi(xi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return hi(Fd,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(hi(Fd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vd extends Ud{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gi(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(yi(void 0===t||"string"==typeof t,58123),ro.fromBase64String(t||"")):(yi(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ro.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?xi.UNKNOWN:Dc(e.code);return new wi(t,e.message||"")}(a);n=new Wc(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=uu(e,r.document.name),i=iu(r.document.updateTime),a=r.document.createTime?iu(r.document.createTime):na.min(),o=new Bo({mapValue:{fields:r.document.fields}}),l=qo.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=uu(e,r.document),i=r.readTime?iu(r.readTime):na.min(),a=qo.newNoDocument(s,i),o=r.removedTargetIds||[];n=new qc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=uu(e,r.document),i=r.removedTargetIds||[];n=new qc([],i,s,null)}else{if(!("filter"in t))return gi(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Ic(r,s),a=e.targetId;n=new Hc(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return na.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?na.min():t.readTime?iu(t.readTime):na.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=pu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vl(r)?{documents:vu(e,r)}:{query:yu(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ru(e,t.resumeToken);const r=tu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(na.min())>0){n.readTime=nu(e,t.snapshotVersion.toTimestamp());const r=tu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gi(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=pu(this.serializer),t.removeTarget=e,this.q_(t)}}class zd extends Ud{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return yi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yi(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){yi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(yi(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?iu(e.updateTime):iu(t);return n.isEqual(na.min())&&(n=iu(t)),new dc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=iu(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=pu(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>gu(this.serializer,e))};this.q_(t)}}class Bd{}class $d extends Bd{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new wi(xi.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.Go(e,ou(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===xi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wi(xi.UNKNOWN,e.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Ho(e,ou(t,n),r,a,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===xi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wi(xi.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(t),this.aa=!1):hi("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Hd="RemoteStore";class Wd{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{th(this)&&(hi(Hd,"Restarting streams for network reachability change."),await async function(e){const t=bi(e);t.Ea.add(4),await Kd(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Gd(t)}(this))})}),this.Ra=new qd(n,r)}}async function Gd(e){if(th(e))for(const t of e.da)await t(!0)}async function Kd(e){for(const t of e.da)await t(!1)}function Jd(e,t){const n=bi(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),eh(n)?Zd(n):xh(n).O_()&&Qd(n,t))}function Yd(e,t){const n=bi(e),r=xh(n);n.Ia.delete(t),r.O_()&&Xd(n,t),0===n.Ia.size&&(r.O_()?r.L_():th(n)&&n.Ra.set("Unknown"))}function Qd(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(na.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xh(e).Y_(t)}function Xd(e,t){e.Va.Ue(t),xh(e).Z_(t)}function Zd(e){e.Va=new Kc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),xh(e).start(),e.Ra.ua()}function eh(e){return th(e)&&!xh(e).x_()&&e.Ia.size>0}function th(e){return 0===bi(e).Ea.size}function nh(e){e.Va=void 0}async function rh(e){e.Ra.set("Online")}async function sh(e){e.Ia.forEach((t,n)=>{Qd(e,t)})}async function ih(e,t){nh(e),eh(e)?(e.Ra.ha(t),Zd(e)):e.Ra.set("Unknown")}async function ah(e,t,n){if(e.Ra.set("Online"),t instanceof Wc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){hi(Hd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await oh(e,n)}else if(t instanceof qc?e.Va.Ze(t):t instanceof Hc?e.Va.st(t):e.Va.tt(t),!n.isEqual(na.min()))try{const t=await md(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(ro.EMPTY_BYTE_STRING,r.snapshotVersion)),Xd(e,t);const s=new Tu(r.target,t,n,r.sequenceNumber);Qd(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){hi(Hd,"Failed to raise snapshot:",t),await oh(e,t)}}async function oh(e,t,n){if(!fa(t))throw t;e.Ea.add(1),await Kd(e),e.Ra.set("Offline"),n||(n=()=>md(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{hi(Hd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Gd(e)})}function lh(e,t){return t().catch(n=>oh(e,n,t))}async function ch(e){const t=bi(e),n=wh(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ga;for(;uh(t);)try{const e=await vd(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,dh(t,e)}catch(e){await oh(t,e)}hh(t)&&ph(t)}function uh(e){return th(e)&&e.Ta.length<10}function dh(e,t){e.Ta.push(t);const n=wh(e);n.O_()&&n.X_&&n.ea(t.mutations)}function hh(e){return th(e)&&!wh(e).x_()&&e.Ta.length>0}function ph(e){wh(e).start()}async function fh(e){wh(e).ra()}async function mh(e){const t=wh(e);for(const n of e.Ta)t.ea(n.mutations)}async function gh(e,t,n){const r=e.Ta.shift(),s=_c.from(r,t,n);await lh(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await ch(e)}async function vh(e,t){t&&wh(e).X_&&await async function(e,t){if(function(e){return Rc(e)&&e!==xi.ABORTED}(t.code)){const n=e.Ta.shift();wh(e).B_(),await lh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ch(e)}}(e,t),hh(e)&&ph(e)}async function yh(e,t){const n=bi(e);n.asyncQueue.verifyOperationInProgress(),hi(Hd,"RemoteStore received new credentials");const r=th(n);n.Ea.add(3),await Kd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gd(n)}async function bh(e,t){const n=bi(e);t?(n.Ea.delete(2),await Gd(n)):t||(n.Ea.add(2),await Kd(n),n.Ra.set("Unknown"))}function xh(e){return e.ma||(e.ma=function(e,t,n){const r=bi(e);return r.sa(),new Vd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:rh.bind(null,e),t_:sh.bind(null,e),r_:ih.bind(null,e),H_:ah.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),eh(e)?Zd(e):e.Ra.set("Unknown")):(await e.ma.stop(),nh(e))})),e.ma}function wh(e){return e.fa||(e.fa=function(e,t,n){const r=bi(e);return r.sa(),new zd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:fh.bind(null,e),r_:vh.bind(null,e),ta:mh.bind(null,e),na:gh.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ch(e)):(await e.fa.stop(),e.Ta.length>0&&(hi(Hd,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class kh{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new kh(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wi(xi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jh(e,t){if(pi("AsyncQueue",`${t}: ${e}`),fa(e))return new wi(xi.UNAVAILABLE,`${t}: ${e}`);throw e}class Nh{static emptySet(e){return new Nh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||qi.comparator(t.key,n.key):(e,t)=>qi.comparator(e.key,t.key),this.keyedMap=Ul(),this.sortedSet=new Ya(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Nh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sh{constructor(){this.ga=new Ya(qi.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):gi(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Eh{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Eh(e,t,Nh.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_l(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ch{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class _h{constructor(){this.queries=Th(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=bi(e),r=n.queries;n.queries=Th(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new wi(xi.ABORTED,"Firestore shutting down"))}}function Th(){return new Ol(e=>Tl(e),_l)}async function Ih(e,t){const n=bi(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new Ch,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=jh(e,`Initialization of query '${Il(t.query)}' failed`);return void t.onError(n)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Dh(n)}async function Ah(e,t){const n=bi(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ph(e,t){const n=bi(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&Dh(n)}function Rh(e,t,n){const r=bi(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function Dh(e){e.Ca.forEach(e=>{e.next()})}var Oh,Lh;(Lh=Oh||(Oh={})).Ma="default",Lh.Cache="cache";class Mh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Eh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Oh.Cache}}class Fh{constructor(e){this.key=e}}class Uh{constructor(e){this.key=e}}class Vh{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Wl(),this.mutatedKeys=Wl(),this.eu=Rl(e),this.tu=new Nh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Sh,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Al(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(a=!0)),p&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gi(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new Eh(this.query,e.tu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Wl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Uh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Fh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Wl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Eh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const zh="SyncEngine";class Bh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $h{constructor(e){this.key=e,this.hu=!1}}class qh{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Ol(e=>Tl(e),_l),this.Iu=new Map,this.Eu=new Set,this.du=new Ya(qi.comparator),this.Au=new Map,this.Ru=new Xu,this.Vu={},this.mu=new Map,this.fu=Fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Hh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=hp(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Gh(r,t,n,!0),s}async function Wh(e,t){const n=hp(e);await Gh(n,t,!0,!1)}async function Gh(e,t,n,r){const s=await yd(e.localStore,Nl(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Kh(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&Jd(e.remoteStore,s),o}async function Kh(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await xd(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return ap(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await xd(e.localStore,t,!0),a=new Vh(t,i.Qs),o=a.ru(i.documents),l=$c.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);ap(e,n,c.au);const u=new Bh(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Jh(e,t,n){const r=bi(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(e=>!_l(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yd(r.remoteStore,s.targetId),sp(r,s.targetId)}).catch(da)):(sp(r,s.targetId),await bd(r.localStore,s.targetId,!0))}async function Yh(e,t){const n=bi(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yd(n.remoteStore,r.targetId))}async function Qh(e,t){const n=bi(e);try{const e=await function(e,t){const n=bi(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ro.EMPTY_BYTE_STRING,na.min()).withLastLimboFreeSnapshotVersion(na.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))});let o=Ml(),l=Wl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(gd(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(na.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return ha.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(yi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?yi(r.hu,14607):e.removedDocuments.size>0&&(yi(r.hu,42227),r.hu=!1))}),await cp(n,e,t)}catch(e){await da(e)}}function Xh(e,t,n){const r=bi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=bi(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)}),r&&Dh(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zh(e,t,n){const r=bi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let e=new Ya(qi.comparator);e=e.insert(i,qo.newNoDocument(i,na.min()));const n=Wl().add(i),s=new Bc(na.min(),new Map,new Ya(Ri),e,n);await Qh(r,s),r.du=r.du.remove(i),r.Au.delete(t),lp(r)}else await bd(r.localStore,t,!1).then(()=>sp(r,t,n)).catch(da)}async function ep(e,t){const n=bi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=ha.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);yi(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);rp(n,r,null),np(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cp(n,e)}catch(e){await da(e)}}async function tp(e,t,n){const r=bi(e);try{const e=await function(e,t){const n=bi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(yi(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);rp(r,t,n),np(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cp(r,e)}catch(n){await da(n)}}function np(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function rp(e,t,n){const r=bi(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function sp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ip(e,t)})}function ip(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Yd(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),lp(e))}function ap(e,t,n){for(const r of n)r instanceof Fh?(e.Ru.addReference(r.key,t),op(e,r)):r instanceof Uh?(hi(zh,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ip(e,r.key)):gi(19791,{wu:r})}function op(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(hi(zh,"New document in limbo: "+n),e.Eu.add(r),lp(e))}function lp(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new qi(zi.fromString(t)),r=e.fu.next();e.Au.set(r,new $h(n)),e.du=e.du.insert(n,r),Jd(e.remoteStore,new Tu(Nl(xl(n.path)),r,"TargetPurposeLimboResolution",ma.ce))}}async function cp(e,t,n){const r=bi(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(o.targetId)?.current;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){s.push(e);const t=ld.As(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(e,t){const n=bi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ha.forEach(t,t=>ha.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ha.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fa(e))throw e;hi(dd,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,i))}async function up(e,t){const n=bi(e);if(!n.currentUser.isEqual(t)){hi(zh,"User change. New user:",t.toKey());const e=await fd(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new wi(xi.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cp(n,e.Ls)}}function dp(e,t){const n=bi(e),r=n.Au.get(t);if(r&&r.hu)return Wl().add(r.key);{let e=Wl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function hp(e){const t=bi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zh.bind(null,t),t.Pu.H_=Ph.bind(null,t.eventManager),t.Pu.yu=Rh.bind(null,t.eventManager),t}function pp(e){const t=bi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ep.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tp.bind(null,t),t}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return pd(this.persistence,new ud,e.initialUser,this.serializer)}Cu(e){return new sd(ad.mi,this.serializer)}Du(e){return new jd}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class mp extends fp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){yi(this.persistence.referenceDelegate instanceof od,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new $u(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Mu.withCacheSize(this.cacheSizeBytes):Mu.DEFAULT;return new sd(e=>od.mi(e,t),this.serializer)}}class gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=up.bind(null,this.syncEngine),await bh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new _h}createDatastore(e){const t=Ld(e.databaseInfo.databaseId),n=function(e){return new Dd(e)}(e.databaseInfo);return function(e,t,n,r){return new $d(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new Wd(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>Xh(this.syncEngine,e,0),Ed.v()?new Ed:new Nd)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new qh(e,t,n,r,s,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=bi(e);hi(Hd,"RemoteStore shutting down."),t.Ea.add(5),await Kd(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gp.provider={build:()=>new gp};class vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const yp="FirestoreClient";class bp{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=li.UNAUTHENTICATED,this.clientId=Pi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{hi(yp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(hi(yp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=jh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function xp(e,t){e.asyncQueue.verifyOperationInProgress(),hi(yp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await fd(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kp(e);hi(yp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>yh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>yh(t.remoteStore,n)),e._onlineComponents=t}async function kp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){hi(yp,"Using user provided OfflineComponentProvider");try{await xp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===xi.FAILED_PRECONDITION||e.code===xi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;fi("Error using user provided cache. Falling back to memory cache: "+n),await xp(e,new fp)}}else hi(yp,"Using default OfflineComponentProvider"),await xp(e,new mp(void 0));return e._offlineComponents}async function jp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(hi(yp,"Using user provided OnlineComponentProvider"),await wp(e,e._uninitializedComponentsProvider._online)):(hi(yp,"Using default OnlineComponentProvider"),await wp(e,new gp))),e._onlineComponents}function Np(e){return jp(e).then(e=>e.syncEngine)}async function Sp(e){const t=await jp(e),n=t.eventManager;return n.onListen=Hh.bind(null,t.syncEngine),n.onUnlisten=Jh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Wh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yh.bind(null,t.syncEngine),n}function Ep(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ki;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new vp({next:o=>{i.Nu(),t.enqueueAndForget(()=>Ah(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new wi(xi.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new wi(xi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new Mh(xl(n.path),i,{includeMetadataChanges:!0,qa:!0});return Ih(e,a)}(await Sp(e),e.asyncQueue,t,n,r)),r.promise}function Cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ki;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new vp({next:n=>{i.Nu(),t.enqueueAndForget(()=>Ah(e,a)),n.fromCache&&"server"===r.source?s.reject(new wi(xi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new Mh(n,i,{includeMetadataChanges:!0,qa:!0});return Ih(e,a)}(await Sp(e),e.asyncQueue,t,n,r)),r.promise}function _p(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tp=new Map,Ip="firestore.googleapis.com",Ap=!0;class Pp{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new wi(xi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ip,this.ssl=Ap}else this.host=e.host,this.ssl=e.ssl??Ap;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Lu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Vu)throw new wi(xi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new wi(xi.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_p(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new wi(xi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new wi(xi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new wi(xi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wi(xi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wi(xi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ni;switch(e.type){case"firstParty":return new _i(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wi(xi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tp.get(e);t&&(hi("ComponentProvider","Removing Datastore"),Tp.delete(e),t.terminate())}(this),Promise.resolve()}}class Dp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Dp(this.firestore,e,this._query)}}class Op{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Op(this.firestore,e,this._key)}toJSON(){return{type:Op._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Xi(t,Op._jsonSchema))return new Op(e,n||null,new qi(zi.fromString(t.referencePath)))}}Op._jsonSchemaVersion="firestore/documentReference/1.0",Op._jsonSchema={type:Qi("string",Op._jsonSchemaVersion),referencePath:Qi("string")};class Lp extends Dp{constructor(e,t,n){super(e,t,xl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Op(this.firestore,null,new qi(e))}withConverter(e){return new Lp(this.firestore,e,this._path)}}function Mp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Kt(e),Hi("collection","path",t),e instanceof Rp){const n=zi.fromString(t,...r);return Gi(n),new Lp(e,null,n)}{if(!(e instanceof Op||e instanceof Lp))throw new wi(xi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zi.fromString(t,...r));return Gi(n),new Lp(e.firestore,null,n)}}function Fp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Kt(e),1===arguments.length&&(t=Pi.newId()),Hi("doc","path",t),e instanceof Rp){const n=zi.fromString(t,...r);return Wi(n),new Op(e,null,new qi(n))}{if(!(e instanceof Op||e instanceof Lp))throw new wi(xi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zi.fromString(t,...r));return Wi(n),new Op(e.firestore,e instanceof Lp?e.converter:null,new qi(n))}}const Up="AsyncQueue";class Vp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Md(this,"async_queue_retry"),this._c=()=>{const e=Od();e&&hi(Up,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Od();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Od();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ki;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(dC){if(!fa(dC))throw dC;hi(Up,"Operation failed with retryable error: "+dC)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",zp(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=kh.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&gi(47125,{Pc:zp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Bp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class $p extends Rp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vp,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vp(e),this._firestoreClient=void 0,await e}}}function qp(e){if(e._terminated)throw new wi(xi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Hp(e),e._firestoreClient}function Hp(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new go(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_p(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new bp(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class Wp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wp(ro.fromBase64String(e))}catch(e){throw new wi(xi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Wp(ro.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xi(e,Wp._jsonSchema))return Wp.fromBase64String(e.bytes)}}Wp._jsonSchemaVersion="firestore/bytes/1.0",Wp._jsonSchema={type:Qi("string",Wp._jsonSchemaVersion),bytes:Qi("string")};class Gp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new wi(xi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kp{constructor(e){this._methodName=e}}class Jp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wi(xi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wi(xi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ri(this._lat,e._lat)||Ri(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jp._jsonSchemaVersion}}static fromJSON(e){if(Xi(e,Jp._jsonSchema))return new Jp(e.latitude,e.longitude)}}Jp._jsonSchemaVersion="firestore/geoPoint/1.0",Jp._jsonSchema={type:Qi("string",Jp._jsonSchemaVersion),latitude:Qi("number"),longitude:Qi("number")};class Yp{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yp._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xi(e,Yp._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Yp(e.vectorValues);throw new wi(xi.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yp._jsonSchemaVersion="firestore/vectorValue/1.0",Yp._jsonSchema={type:Qi("string",Yp._jsonSchemaVersion),vectorValues:Qi("object")};const Qp=/^__.*__$/;class Xp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class Zp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ef(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gi(40011,{Ac:e})}}class tf{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(ef(this.Ac)&&Qp.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ld(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tf({Ac:e,methodName:t,Dc:n,path:$i.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rf(e){const t=e._freezeSettings(),n=Ld(e._databaseId);return new nf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sf(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);vf("Data must be an object, but it was:",a,r);const o=mf(r,a);let l,c;if(i.merge)l=new to(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=yf(t,r,n);if(!a.contains(s))throw new wi(xi.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);kf(e,s)||e.push(s)}l=new to(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Xp(new Bo(o),l,c)}class af extends Kp{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function of(e,t,n){return new tf({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lf extends Kp{_toFieldTransform(e){return new uc(e.path,new nc)}isEqual(e){return e instanceof lf}}class cf extends Kp{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=of(this,e,!0),n=this.vc.map(e=>ff(e,t)),r=new rc(n);return new uc(e.path,r)}isEqual(e){return e instanceof cf&&Vt(this.vc,e.vc)}}class uf extends Kp{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=of(this,e,!0),n=this.vc.map(e=>ff(e,t)),r=new ic(n);return new uc(e.path,r)}isEqual(e){return e instanceof uf&&Vt(this.vc,e.vc)}}function df(e,t,n,r){const s=e.Cc(1,t,n);vf("Data must be an object, but it was:",s,r);const i=[],a=Bo.empty();Ka(r,(e,r)=>{const o=xf(t,e,n);r=Kt(r);const l=s.yc(o);if(r instanceof af)i.push(o);else{const e=ff(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new to(i);return new Zp(a,o,s.fieldTransforms)}function hf(e,t,n,r,s,i){const a=e.Cc(1,t,n),o=[yf(t,r,n)],l=[s];if(i.length%2!=0)throw new wi(xi.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(yf(t,i[h])),l.push(i[h+1]);const c=[],u=Bo.empty();for(let h=o.length-1;h>=0;--h)if(!kf(c,o[h])){const e=o[h];let t=l[h];t=Kt(t);const n=a.yc(e);if(t instanceof af)c.push(e);else{const r=ff(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new to(c);return new Zp(u,d,a.fieldTransforms)}function pf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ff(n,e.Cc(r?4:3,t))}function ff(e,t){if(gf(e=Kt(e)))return vf("Unsupported field value:",t,e),mf(e,t);if(e instanceof Kp)return function(e,t){if(!ef(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=ff(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Kt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ql(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ta.fromDate(e);return{timestampValue:nu(t.serializer,n)}}if(e instanceof ta){const n=new ta(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nu(t.serializer,n)}}if(e instanceof Jp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wp)return{bytesValue:ru(t.serializer,e._byteString)};if(e instanceof Op){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:au(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Yp)return function(e,t){return{mapValue:{fields:{[bo]:{stringValue:ko},[jo]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Jl(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${Ji(e)}`)}(e,t)}function mf(e,t){const n={};return Ja(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ka(e,(e,r)=>{const s=ff(r,t.mc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function gf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ta||e instanceof Jp||e instanceof Wp||e instanceof Op||e instanceof Kp||e instanceof Yp)}function vf(e,t,n){if(!gf(n)||!Ki(n)){const r=Ji(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function yf(e,t,n){if((t=Kt(t))instanceof Gp)return t._internalPath;if("string"==typeof t)return xf(e,t);throw wf("Field path arguments must be of type string or ",e,!1,void 0,n)}const bf=new RegExp("[~\\*/\\[\\]]");function xf(e,t,n){if(t.search(bf)>=0)throw wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gp(...t.split("."))._internalPath}catch(r){throw wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function wf(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new wi(xi.INVALID_ARGUMENT,o+e+l)}function kf(e,t){return e.some(e=>e.isEqual(t))}class jf{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Op(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nf extends jf{data(){return super.data()}}function Sf(e,t){return"string"==typeof t?xf(e,t):t instanceof Gp?t._internalPath:t._delegate._internalPath}function Ef(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wi(xi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cf{}class _f extends Cf{}function Tf(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Cf&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof Pf).length,n=e.filter(e=>e instanceof If).length;if(t>1||t>0&&n>0)throw new wi(xi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class If extends _f{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new If(e,t,n)}_apply(e){const t=this._parse(e);return Mf(e._query,t),new Dp(e.firestore,e.converter,El(e._query,t))}_parse(e){const t=rf(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new wi(xi.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Lf(a,i);const t=[];for(const n of a)t.push(Of(r,e,n));o={arrayValue:{values:t}}}else o=Of(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Lf(a,i),o=pf(n,t,a,"in"===i||"not-in"===i);return Qo.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Af(e,t,n){const r=t,s=Sf("where",e);return If._create(s,r,n)}class Pf extends Cf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pf(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Xo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)Mf(n,s),n=El(n,s)}(e._query,t),new Dp(e.firestore,e.converter,El(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Rf extends _f{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new wi(xi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wi(xi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ko(t,n)}(e._query,this._field,this._direction);return new Dp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new yl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Df(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Sf("orderBy",e);return Rf._create(n,t)}function Of(e,t,n){if("string"==typeof(n=Kt(n))){if(""===n)throw new wi(xi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kl(t)&&-1!==n.indexOf("/"))throw new wi(xi.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(zi.fromString(n));if(!qi.isDocumentKey(r))throw new wi(xi.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ro(e,new qi(r))}if(n instanceof Op)return Ro(e,n._key);throw new wi(xi.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ji(n)}.`)}function Lf(e,t){if(!Array.isArray(e)||0===e.length)throw new wi(xi.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Mf(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new wi(xi.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new wi(xi.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ff{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ao(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gi(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ka(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[jo].arrayValue?.values?.map(e=>ao(e.doubleValue));return new Yp(t)}convertGeoPoint(e){return new Jp(ao(e.latitude),ao(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=fo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const t=io(e);return new ta(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=zi.fromString(e);yi(_u(n),9688,{name:e});const r=new yo(n.get(1),n.get(3)),s=new qi(n.popFirst(5));return r.isEqual(t)||pi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Uf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zf extends jf{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wi(xi.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zf._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}zf._jsonSchemaVersion="firestore/documentSnapshot/1.0",zf._jsonSchema={type:Qi("string",zf._jsonSchemaVersion),bundleSource:Qi("string","DocumentSnapshot"),bundleName:Qi("string"),bundle:Qi("string")};class Bf extends zf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class $f{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bf(this._firestore,this._userDataWriter,n.key,n,new Vf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wi(xi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Bf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Vf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Bf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:qf(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wi(xi.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$f._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pi.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gi(61501,{type:e})}}function Hf(e){e=Yi(e,Op);const t=Yi(e.firestore,$p);return Ep(qp(t),e._key).then(n=>em(t,e,n))}$f._jsonSchemaVersion="firestore/querySnapshot/1.0",$f._jsonSchema={type:Qi("string",$f._jsonSchemaVersion),bundleSource:Qi("string","QuerySnapshot"),bundleName:Qi("string"),bundle:Qi("string")};class Wf extends Ff{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Op(this.firestore,null,t)}}function Gf(e){e=Yi(e,Dp);const t=Yi(e.firestore,$p),n=qp(t),r=new Wf(t);return Ef(e._query),Cp(n,e._query).then(n=>new $f(t,r,e,n))}function Kf(e,t,n){e=Yi(e,Op);const r=Yi(e.firestore,$p),s=Uf(e.converter,t,n);return Zf(r,[sf(rf(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,hc.none())])}function Jf(e,t,n){e=Yi(e,Op);const r=Yi(e.firestore,$p),s=rf(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Kt(t))||t instanceof Gp?hf(s,"updateDoc",e._key,t,n,o):df(s,"updateDoc",e._key,t),Zf(r,[i.toMutation(e._key,hc.exists(!0))])}function Yf(e){return Zf(Yi(e.firestore,$p),[new Sc(e._key,hc.none())])}function Qf(e,t){const n=Yi(e.firestore,$p),r=Fp(e),s=Uf(e.converter,t);return Zf(n,[sf(rf(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,hc.exists(!1))]).then(()=>r)}function Xf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Kt(e);let s={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||Bp(n[i])||(s=n[i++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Bp(n[i])){const e=n[i];n[i]=e.next?.bind(e),n[i+1]=e.error?.bind(e),n[i+2]=e.complete?.bind(e)}let o,l,c;if(e instanceof Op)l=Yi(e.firestore,$p),c=xl(e._key.path),o={next:t=>{n[i]&&n[i](em(l,e,t))},error:n[i+1],complete:n[i+2]};else{const t=Yi(e,Dp);l=Yi(t.firestore,$p),c=t._query;const r=new Wf(l);o={next:e=>{n[i]&&n[i](new $f(l,r,t,e))},error:n[i+1],complete:n[i+2]},Ef(e._query)}return function(e,t,n,r){const s=new vp(r),i=new Mh(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>Ih(await Sp(e),i)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ah(await Sp(e),i))}}(qp(l),c,a,o)}function Zf(e,t){return function(e,t){const n=new ki;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=pp(e);try{const e=await function(e,t){const n=bi(e),r=ta.now(),s=t.reduce((e,t)=>e.add(t.key),Wl());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Ml(),l=Wl();return n.Ns.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=yc(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new wc(e.key,t,$o(t.value.mapValue),hc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Vl(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ya(Ri)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await cp(r,e.changes),await ch(r.remoteStore)}catch(e){const t=jh(e,"Failed to persist write");n.reject(t)}}(await Np(e),t,n)),n.promise}(qp(e),t)}function em(e,t,n){const r=n.docs.get(t._key),s=new Wf(e);return new zf(e,s,t._key,r,new Vf(n.hasPendingWrites,n.fromCache),t.converter)}class tm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rf(e)}set(e,t,n){this._verifyNotCommitted();const r=nm(e,this._firestore),s=Uf(r.converter,t,n),i=sf(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,hc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=nm(e,this._firestore);let s;for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return s="string"==typeof(t=Kt(t))||t instanceof Gp?hf(this._dataReader,"WriteBatch.update",r._key,t,n,a):df(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(s.toMutation(r._key,hc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nm(e,this._firestore);return this._mutations=this._mutations.concat(new Sc(t._key,hc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wi(xi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nm(e,t){if((e=Kt(e)).firestore!==t)throw new wi(xi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function rm(){return new lf("serverTimestamp")}function sm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cf("arrayUnion",t)}function im(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uf("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ci=e}(dr),ar(new Jt("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new $p(new Ei(e.getProvider("auth-internal")),new Ii(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wi(xi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(e.options.projectId,t)}(i,r),i);return s={useFetchStreams:t,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mr(ai,oi,e),mr(ai,oi,"esm2020")}();function am(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const om=am,lm=new Ft("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cm=new an("@firebase/auth");function um(e){if(cm.logLevel<=en.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cm.error(`Auth (${dr}): ${e}`,...n)}}function dm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gm(e,...n)}function hm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gm(e,...n)}function pm(e,t,n){const r={...om(),[t]:n};return new Ft("auth","Firebase",r).create(t,{appName:e.name})}function fm(e){return pm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dm(e,"argument-error"),pm(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return lm.create(e,...n)}function vm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw gm(t,...r)}}function ym(e){const t="INTERNAL ASSERTION FAILED: "+e;throw um(t),new Error(t)}function bm(e,t){e||ym(t)}function xm(){return"undefined"!==typeof self&&self.location?.href||""}function wm(){return"http:"===km()||"https:"===km()}function km(){return"undefined"!==typeof self&&self.location?.protocol||null}class jm{constructor(e,t){this.shortDelay=e,this.longDelay=t,bm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wm()||Rt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Nm(e,t){bm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Sm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ym("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ym("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ym("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Em={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Cm=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_m=new jm(3e4,6e4);function Tm(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Im(e,t,n,r){return Am(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=Bt({key:e.config.apiKey,...i}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...s};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&St(e.emulatorConfig.host)&&(l.credentials="include"),Sm.fetch()(await Rm(e,e.config.apiHost,n,a),l)})}async function Am(e,t,n){e._canInitEmulator=!1;const r={...Em,...t};try{const t=new Om(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Lm(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Lm(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Lm(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Lm(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw pm(e,o,a);dm(e,o)}}catch(dC){if(dC instanceof Mt)throw dC;dm(e,"network-request-failed",{message:String(dC)})}}async function Pm(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Im(e,t,n,r,s);return"mfaPendingCredential"in i&&dm(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Rm(e,t,n,r){const s=`${t}${n}?${r}`,i=e,a=i.config.emulator?Nm(e.config,s):`${e.config.apiScheme}://${s}`;if(Cm.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function Dm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Om{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(hm(this.auth,"network-request-failed")),_m.get())})}}function Lm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hm(e,t,r);return s.customData._tokenResponse=n,s}function Mm(e){return void 0!==e&&void 0!==e.enterprise}class Fm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Dm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Um(e,t){return Im(e,"GET","/v2/recaptchaConfig",Tm(e,t))}async function Vm(e,t){return Im(e,"POST","/v1/accounts:lookup",t)}function zm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(dC){}}function Bm(e){return 1e3*Number(e)}function $m(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return um("JWT malformed, contained fewer than 3 sections"),null;try{const e=vt(n);return e?JSON.parse(e):(um("Failed to decode base64 JWT payload"),null)}catch(dC){return um("Caught error parsing JWT payload as JSON",dC?.toString()),null}}function qm(e){const t=$m(e);return vm(t,"internal-error"),vm("undefined"!==typeof t.exp,"internal-error"),vm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Hm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(dC){throw dC instanceof Mt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(dC)&&e.auth.currentUser===e&&await e.auth.signOut(),dC}}class Wm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(dC){return void("auth/network-request-failed"===dC?.code&&this.schedule(!0))}this.schedule()}}class Gm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zm(this.lastLoginAt),this.creationTime=zm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Km(e){const t=e.auth,n=await e.getIdToken(),r=await Hm(e,Vm(t,{idToken:n}));vm(r?.users.length,t,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=s.providerUserInfo?.length?Jm(s.providerUserInfo):[],a=(o=e.providerData,l=i,[...o.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var o,l;const c=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!a?.length,d=!!c&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function Jm(e){return e.map(e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Ym{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vm(e.idToken,"internal-error"),vm("undefined"!==typeof e.idToken,"internal-error"),vm("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):qm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vm(0!==e.length,"internal-error");const t=qm(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(vm(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await Am(e,{},async()=>{const n=Bt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await Rm(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&St(e.emulatorConfig.host)&&(o.credentials="include"),Sm.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Ym;return n&&(vm("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(vm("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(vm("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ym,this.toJSON())}_performRefresh(){return ym("not implemented")}}function Qm(e,t){vm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Xm{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...s}=e;this.providerId="firebase",this.proactiveRefresh=new Wm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Hm(this,this.stsTokenManager.getToken(this.auth,e));return vm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Kt(e),r=await n.getIdToken(t),s=$m(r);vm(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:r,authTime:zm(Bm(s.auth_time)),issuedAtTime:zm(Bm(s.iat)),expirationTime:zm(Bm(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Kt(e);await Km(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(vm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xm({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){vm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Km(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(fm(this.auth));const e=await this.getIdToken();return await Hm(this,async function(e,t){return Im(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,i=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:p,stsTokenManager:f}=t;vm(u&&f,e,"internal-error");const m=Ym.fromJSON(this.name,f);vm("string"===typeof u,e,"internal-error"),Qm(n,e.name),Qm(r,e.name),vm("boolean"===typeof d,e,"internal-error"),vm("boolean"===typeof h,e,"internal-error"),Qm(s,e.name),Qm(i,e.name),Qm(a,e.name),Qm(o,e.name),Qm(l,e.name),Qm(c,e.name);const g=new Xm({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:i,phoneNumber:s,tenantId:a,stsTokenManager:m,createdAt:l,lastLoginAt:c});return p&&Array.isArray(p)&&(g.providerData=p.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ym;r.updateFromServerResponse(t);const s=new Xm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Km(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];vm(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Jm(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!s?.length,a=new Ym;a.updateFromIdToken(n);const o=new Xm({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Gm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(o,l),o}}const Zm=new Map;function eg(e){bm(e instanceof Function,"Expected a class definition");let t=Zm.get(e);return t?(bm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zm.set(e,t),t)}class tg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tg.type="NONE";const ng=tg;function rg(e,t,n){return`firebase:${e}:${t}:${n}`}class sg{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=rg(this.userKey,r.apiKey,s),this.fullPersistenceKey=rg("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Vm(this.auth,{idToken:e}).catch(()=>{});return t?Xm._fromGetAccountInfoResponse(this.auth,t,e):null}return Xm._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new sg(eg(ng),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||eg(ng);const i=rg(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"===typeof t){const r=await Vm(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Xm._fromGetAccountInfoResponse(e,r,t)}else n=Xm._fromJSON(e,t);l!==s&&(a=n),s=l;break}}catch{}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch{}})),new sg(s,e,n)):new sg(s,e,n)}}function ig(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ag(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dg(t))return"Blackberry";if(hg(t))return"Webos";if(og(t))return"Safari";if((t.includes("chrome/")||lg(t))&&!t.includes("edge/"))return"Chrome";if(ug(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function ag(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/firefox\//i.test(e)}function og(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:At()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/crios\//i.test(e)}function cg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/iemobile/i.test(e)}function ug(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/android/i.test(e)}function dg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/blackberry/i.test(e)}function hg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/webos/i.test(e)}function pg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fg(){return function(){const e=At();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function mg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return pg(e)||ug(e)||hg(e)||dg(e)||/windows phone/i.test(e)||cg(e)}function gg(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ig(At());break;case"Worker":t=`${ig(At())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${dr}/${r}`}class vg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(dC){r(dC)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(dC){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:dC?.message})}}}class yg{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class bg{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wg(this),this.idTokenSubscription=new wg(this),this.beforeStateQueue=new vg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eg(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sg.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(dC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Vm(this,{idToken:e}),n=await Xm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,s=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==s||!i?.user||(n=i.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(dC){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(dC))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return vm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(dC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Km(e)}catch(dC){if("auth/network-request-failed"!==dC?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(fm(this));const t=e?Kt(e):null;return t&&vm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&vm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(fm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(fm(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eg(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Im(e,"GET","/v2/passwordPolicy",Tm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new yg(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ft("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Im(e,"POST","/v2/accounts:revokeToken",Tm(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&eg(e)||this._popupRedirectResolver;vm(t,this,"argument-error"),this.redirectPersistenceManager=await sg.create(this,[eg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vm(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(cm.logLevel<=en.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cm.warn(`Auth (${dr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xg(e){return Kt(e)}class wg{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ht(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return vm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jg(e){return kg.loadJS(e)}function Ng(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Sg{constructor(){this.enterprise=new Eg}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Eg{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Cg="NO_RECAPTCHA";class _g{constructor(e){this.type="recaptcha-enterprise",this.auth=xg(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Mm(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Cg)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Sg).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Um(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Fm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&Mm(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=kg.recaptchaEnterpriseScript;0!==t.length&&(t+=s),jg(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Tg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new _g(e);let a;if(s)a=Cg;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ig(e,t,n,r,s){if("EMAIL_PASSWORD_PROVIDER"===s){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Tg(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Tg(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const s=await Tg(e,t,n);return r(e,s).catch(async s=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===s.code||"auth/invalid-app-credential"===s.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const s=await Tg(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await Tg(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function Ag(e){const t=xg(e),n=await Um(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Fm(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new _g(t).verify()}}function Pg(e,t,n){const r=xg(e);vm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!n?.disableWarnings,i=Rg(t),{host:a,port:o}=function(e){const t=Rg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Dg(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Dg(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${i}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return vm(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void vm(Vt(c,r.config.emulator)&&Vt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,St(a)?(Et(`${i}//${a}${l}`),It("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Rg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Og{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ym("not implemented")}_getIdTokenResponse(e){return ym("not implemented")}_linkToIdToken(e,t){return ym("not implemented")}_getReauthenticationResolver(e){return ym("not implemented")}}async function Lg(e,t){return Im(e,"POST","/v1/accounts:signUp",t)}async function Mg(e,t){return Pm(e,"POST","/v1/accounts:signInWithPassword",Tm(e,t))}class Fg extends Og{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fg(e,t,"password")}static _fromEmailAndCode(e,t){return new Fg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ig(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithEmailLink",Tm(e,t))}(e,{email:this._email,oobCode:this._password});default:dm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ig(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithEmailLink",Tm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ug(e,t){return Pm(e,"POST","/v1/accounts:signInWithIdp",Tm(e,t))}class Vg extends Og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...s}=t;if(!n||!r)return null;const i=new Vg(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return Ug(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ug(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ug(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bt(t)}return e}}async function zg(e,t){return Im(e,"POST","/v1/accounts:sendVerificationCode",Tm(e,t))}const Bg={USER_NOT_FOUND:"user-not-found"};class $g extends Og{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $g({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $g({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithPhoneNumber",Tm(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pm(e,"POST","/v1/accounts:signInWithPhoneNumber",Tm(e,t));if(n.temporaryProof)throw Lm(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithPhoneNumber",Tm(e,{...t,operation:"REAUTH"}),Bg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new $g({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class qg{constructor(e){const t=$t(qt(e)),n=t.apiKey??null,r=t.oobCode??null,s=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);vm(n&&r&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=$t(qt(e)).link,n=t?$t(qt(t)).deep_link_id:null,r=$t(qt(e)).deep_link_id;return(r?$t(qt(r)).link:null)||r||n||t||e}(e);try{return new qg(t)}catch{return null}}}class Hg{constructor(){this.providerId=Hg.PROVIDER_ID}static credential(e,t){return Fg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qg.parseLink(t);return vm(n,"argument-error"),Fg._fromEmailAndCode(e,n.code,n.tenantId)}}Hg.PROVIDER_ID="password",Hg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gg extends Wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kg extends Gg{constructor(){super("facebook.com")}static credential(e){return Vg._fromParams({providerId:Kg.PROVIDER_ID,signInMethod:Kg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kg.credentialFromTaggedObject(e)}static credentialFromError(e){return Kg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Kg.credential(t.oauthAccessToken)}catch{return null}}}Kg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Kg.PROVIDER_ID="facebook.com";class Jg extends Gg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vg._fromParams({providerId:Jg.PROVIDER_ID,signInMethod:Jg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jg.credentialFromTaggedObject(e)}static credentialFromError(e){return Jg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Jg.credential(n,r)}catch{return null}}}Jg.GOOGLE_SIGN_IN_METHOD="google.com",Jg.PROVIDER_ID="google.com";class Yg extends Gg{constructor(){super("github.com")}static credential(e){return Vg._fromParams({providerId:Yg.PROVIDER_ID,signInMethod:Yg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yg.credentialFromTaggedObject(e)}static credentialFromError(e){return Yg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Yg.credential(t.oauthAccessToken)}catch{return null}}}Yg.GITHUB_SIGN_IN_METHOD="github.com",Yg.PROVIDER_ID="github.com";class Qg extends Gg{constructor(){super("twitter.com")}static credential(e,t){return Vg._fromParams({providerId:Qg.PROVIDER_ID,signInMethod:Qg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qg.credentialFromTaggedObject(e)}static credentialFromError(e){return Qg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Qg.credential(n,r)}catch{return null}}}Qg.TWITTER_SIGN_IN_METHOD="twitter.com",Qg.PROVIDER_ID="twitter.com";class Xg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await Xm._fromIdTokenResponse(e,n,r),i=Zg(n);return new Xg({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zg(n);return new Xg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ev extends Mt{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ev.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ev(e,t,n,r)}}function tv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ev._fromErrorAndOperation(e,n,t,r);throw n})}async function nv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Hm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xg._forOperation(e,"link",r)}async function rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(lr(r.app))return Promise.reject(fm(r));const s="reauthenticate";try{const i=await Hm(e,tv(r,s,t,e),n);vm(i.idToken,r,"internal-error");const a=$m(i.idToken);vm(a,r,"internal-error");const{sub:o}=a;return vm(e.uid===o,r,"user-mismatch"),Xg._forOperation(e,s,i)}catch(dC){throw"auth/user-not-found"===dC?.code&&dm(r,"user-mismatch"),dC}}async function sv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(lr(e.app))return Promise.reject(fm(e));const r="signIn",s=await tv(e,r,t),i=await Xg._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function iv(e,t,n,r){return Kt(e).onAuthStateChanged(t,n,r)}function av(e,t){return Im(e,"POST","/v2/accounts/mfaEnrollment:start",Tm(e,t))}new WeakMap;const ov="__sak";class lv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ov,"1"),this.storage.removeItem(ov),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class cv extends lv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);fg()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cv.type="LOCAL";const uv=cv;function dv(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function hv(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class pv{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=hv(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return dv(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=hv(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=hv(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=dv(n);const s=setInterval(()=>{const e=dv(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}pv.type="COOKIE";class fv extends lv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fv.type="SESSION";const mv=fv;class gv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new gv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gv.receivers=[];class yv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=vv("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function bv(){return window}function xv(){return"undefined"!==typeof bv().WorkerGlobalScope&&"function"===typeof bv().importScripts}const wv="firebaseLocalStorageDb",kv="firebaseLocalStorage",jv="fbase_key";class Nv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sv(e,t){return e.transaction([kv],t?"readwrite":"readonly").objectStore(kv)}function Ev(){const e=indexedDB.open(wv,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(kv,{keyPath:jv})}catch(dC){n(dC)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(kv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(wv);return new Nv(e).toPromise()}(),t(await Ev()))})})}async function Cv(e,t,n){const r=Sv(e,!0).put({[jv]:t,value:n});return new Nv(r).toPromise()}function _v(e,t){const n=Sv(e,!0).delete(t);return new Nv(n).toPromise()}class Tv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ev()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(dC){if(t++>3)throw dC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gv._getInstance(xv()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new yv(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ev();return await Cv(e,ov,"1"),await _v(e,ov),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Sv(e,!1).get(t),r=await new Nv(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_v(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Sv(e,!1).getAll();return new Nv(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Tv.type="LOCAL";const Iv=Tv;function Av(e,t){return Im(e,"POST","/v2/accounts/mfaSignIn:start",Tm(e,t))}Ng("rcb"),new jm(3e4,6e4);const Pv="recaptcha";async function Rv(e,t,n){if(!e._getRecaptchaConfig())try{await Ag(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){vm("enroll"===t.type,e,"internal-error");const s={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Ig(e,s,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Cg){vm(n?.type===Pv,e,"argument-error");return av(e,await Dv(e,t,n))}return av(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{vm("signin"===t.type,e,"internal-error");const s=r.multiFactorHint?.uid||r.multiFactorUid;vm(s,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ig(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Cg){vm(n?.type===Pv,e,"argument-error");return Av(e,await Dv(e,t,n))}return Av(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},s=Ig(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Cg){vm(n?.type===Pv,e,"argument-error");return zg(e,await Dv(e,t,n))}return zg(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Dv(e,t,n){vm(n.type===Pv,e,"argument-error");const r=await n.verify();vm("string"===typeof r,e,"argument-error");const s={...t};if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class Ov{constructor(e){this.providerId=Ov.PROVIDER_ID,this.auth=xg(e)}verifyPhoneNumber(e,t){return Rv(this.auth,e,Kt(t))}static credential(e,t){return $g._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ov.credentialFromTaggedObject(t)}static credentialFromError(e){return Ov.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?$g._fromTokenResponse(n,r):null}}function Lv(e,t){return t?eg(t):(vm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ov.PROVIDER_ID="phone",Ov.PHONE_SIGN_IN_METHOD="phone";class Mv extends Og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ug(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ug(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ug(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Fv(e){return sv(e.auth,new Mv(e),e.bypassAuthState)}function Uv(e){const{auth:t,user:n}=e;return vm(n,t,"internal-error"),rv(n,new Mv(e),e.bypassAuthState)}async function Vv(e){const{auth:t,user:n}=e;return vm(n,t,"internal-error"),nv(n,new Mv(e),e.bypassAuthState)}class zv{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(dC){this.reject(dC)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(dC){this.reject(dC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fv;case"linkViaPopup":case"linkViaRedirect":return Vv;case"reauthViaPopup":case"reauthViaRedirect":return Uv;default:dm(this.auth,"internal-error")}}resolve(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bv=new jm(2e3,1e4);async function $v(e,t,n){if(lr(e.app))return Promise.reject(hm(e,"operation-not-supported-in-this-environment"));const r=xg(e);mm(e,t,Wg);const s=Lv(r,n);return new qv(r,"signInViaPopup",t,s).executeNotNull()}class qv extends zv{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,qv.currentPopupAction&&qv.currentPopupAction.cancel(),qv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vm(e,this.auth,"internal-error"),e}async onExecution(){bm(1===this.filter.length,"Popup operations only handle one event");const e=vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(hm(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qv.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hm(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Bv.get())};e()}}qv.currentPopupAction=null;const Hv=new Map;class Wv extends zv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Hv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Jv(t),r=Kv(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(dC){e=()=>Promise.reject(dC)}Hv.set(this.auth._key(),e)}return this.bypassAuthState||Hv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Gv(e,t){Hv.set(e._key(),t)}function Kv(e){return eg(e._redirectPersistence)}function Jv(e){return rg("pendingRedirect",e.config.apiKey,e.name)}async function Yv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(lr(e.app))return Promise.reject(fm(e));const r=xg(e),s=Lv(r,t),i=new Wv(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Qv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Zv(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(hm(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Zv(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const ey=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ty=/^https?/;async function ny(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Im(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(ry(n))return}catch{}dm(e,"unauthorized-domain")}function ry(e){const t=xm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!ty.test(n))return!1;if(ey.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const sy=new jm(3e4,6e4);function iy(){const e=bv().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ay(e){return new Promise((t,n)=>{function r(){iy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iy(),n(hm(e,"network-request-failed"))},timeout:sy.get()})}if(bv().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!bv().gapi?.load){const t=Ng("iframefcb");return bv()[t]=()=>{gapi.load?r():n(hm(e,"network-request-failed"))},jg(`${kg.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw oy=null,e})}let oy=null;const ly=new jm(5e3,15e3),cy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dy(e){const t=e.config;vm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nm(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:dr},s=uy.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Bt(r).slice(1)}`}async function hy(e){const t=await function(e){return oy=oy||ay(e),oy}(e),n=bv().gapi;return vm(n,e,"internal-error"),t.open({where:document.body,url:dy(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cy,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=hm(e,"network-request-failed"),i=bv().setTimeout(()=>{r(s)},ly.get());function a(){bv().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const py={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(dC){}}}function my(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...py,width:r.toString(),height:s.toString(),top:i,left:a},c=At().toLowerCase();n&&(o=lg(c)?"_blank":n),ag(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){return pg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:At())&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new fy(null);const d=window.open(t||"",o,u);vm(d,e,"popup-blocked");try{d.focus()}catch(dC){}return new fy(d)}const gy="__/auth/handler",vy="emulator/auth/handler",yy=encodeURIComponent("fac");async function by(e,t,n,r,s,i){vm(e.config.authDomain,e,"auth-domain-config-required"),vm(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:dr,eventId:s};if(t instanceof Wg){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof Gg){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${yy}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${gy}`;return Nm(t,vy)}(e)}?${Bt(o).slice(1)}${c}`}const xy="webStorageSupport";const wy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mv,this._completeRedirectFn=Yv,this._overrideRedirectResult=Gv}async _openPopup(e,t,n,r){bm(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return my(e,await by(e,t,n,xm(),r),vv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bv().location.href=e}(await by(e,t,n,xm(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(bm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await hy(e),n=new Qv(e);return t.register("authEvent",t=>{vm(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xy,{type:xy},n=>{const r=n?.[0]?.[xy];void 0!==r&&t(!!r),dm(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ny(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mg()||og()||pg()}};var ky="@firebase/auth",jy="1.11.0";class Ny{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sy=jt("authIdTokenMaxAge")||300;let Ey=null;function Cy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr();const t=or(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=or(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Vt(n.getOptions(),t??{}))return e;dm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wy,persistence:[Iv,uv,mv]}),r=jt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Sy)return;const r=t?.token;Ey!==r&&(Ey=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Kt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Kt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=xt("auth");return i&&Pg(n,`http://${i}`),n}var _y;kg={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=hm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_y="Browser",ar(new Jt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;vm(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:_y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gg(_y)},c=new bg(r,s,i,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(eg);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ar(new Jt("auth-internal",e=>(e=>new Ny(e))(xg(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),mr(ky,jy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_y)),mr(ky,jy,"esm2020");const Ty="firebasestorage.googleapis.com",Iy="storageBucket";class Ay extends Mt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Dy(e),`Firebase Storage: ${t} (${Dy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ay.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Py,Ry;function Dy(e){return"storage/"+e}function Oy(){return new Ay(Py.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ly(){return new Ay(Py.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function My(){return new Ay(Py.CANCELED,"User canceled the upload/download.")}function Fy(){return new Ay(Py.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Uy(e){return new Ay(Py.INVALID_ARGUMENT,e)}function Vy(){return new Ay(Py.APP_DELETED,"The Firebase app was deleted.")}function zy(e,t){return new Ay(Py.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function By(e){throw new Ay(Py.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Py||(Py={}));class $y{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=$y.makeFromUrl(e,t)}catch(dC){return new $y(e,"")}if(""===n.path)return n;throw r=e,new Ay(Py.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===Ty?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new $y(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Ay(Py.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class qy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Hy(e){return"string"===typeof e||e instanceof String}function Wy(e){return Gy()&&e instanceof Blob}function Gy(){return"undefined"!==typeof Blob}function Ky(e,t,n,r){if(r<t)throw Uy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Uy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Jy(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Yy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Qy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ry||(Ry={}));class Xy{constructor(e,t,n,r,s,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Zy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ry.NO_ERROR,s=n.getStatus();if(!t||Qy(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ry.ABORT;return void e(!1,new Zy(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new Zy(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(dC){r(dC)}else if(null!==s){const e=Oy();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?Vy():My())}else{r(Ly())}};this.canceled_?t(0,new Zy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){s=setTimeout(()=>{s=null,e(p,l())},t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==s?(e||(o=2),clearTimeout(s),d(0)):e||(o=1)))}return d(0),i=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function eb(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function tb(){const e=eb();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Gy())return new Blob(n);throw new Ay(Py.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function nb(e){if("undefined"===typeof atob)throw t="base-64",new Ay(Py.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const rb="raw",sb="base64",ib="base64url",ab="data_url";class ob{constructor(e,t){this.data=e,this.contentType=t||null}}function lb(e,t){switch(e){case rb:return new ob(cb(t));case sb:case ib:return new ob(ub(e,t));case ab:return new ob(function(e){const t=new db(e);return t.base64?ub(sb,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(dC){throw zy(ab,"Malformed data URL.")}return cb(t)}(t.rest)}(t),new db(t).contentType)}throw Oy()}function cb(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ub(e,t){switch(e){case sb:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw zy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ib:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw zy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nb(t)}catch(dC){if(dC.message.includes("polyfill"))throw dC;throw zy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class db{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zy(ab,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class hb{constructor(e,t){let n=0,r="";Wy(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wy(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new hb(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new hb(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Gy()){const e=t.map(e=>e instanceof hb?e.data_:e);return new hb(tb.apply(null,e))}{const e=t.map(e=>Hy(e)?lb(rb,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let s=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]}),new hb(r,!0)}}uploadData(){return this.data_}}function pb(e){let t;try{t=JSON.parse(e)}catch(dC){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function fb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function mb(e,t){return t}class gb{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||mb}}let vb=null;function yb(){if(vb)return vb;const e=[];e.push(new gb("bucket")),e.push(new gb("generation")),e.push(new gb("metageneration")),e.push(new gb("name","fullPath",!0));const t=new gb("name");t.xform=function(e,t){return function(e){return!Hy(e)||e.length<2?e:fb(e)}(t)},e.push(t);const n=new gb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gb("timeCreated")),e.push(new gb("updated")),e.push(new gb("md5Hash",null,!0)),e.push(new gb("cacheControl",null,!0)),e.push(new gb("contentDisposition",null,!0)),e.push(new gb("contentEncoding",null,!0)),e.push(new gb("contentLanguage",null,!0)),e.push(new gb("contentType",null,!0)),e.push(new gb("metadata","customMetadata",!0)),vb=e,vb}function bb(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new $y(n,r);return t._makeStorageReference(s)}})}(r,e),r}function xb(e,t,n){const r=pb(t);if(null===r)return null;return bb(e,r,n)}function wb(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class kb{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function jb(e){if(!e)throw Oy()}function Nb(e,t){return function(n,r){const s=xb(e,r,t);return jb(null!==s),s}}function Sb(e,t){return function(n,r){const s=xb(e,r,t);return jb(null!==s),function(e,t,n,r){const s=pb(t);if(null===s)return null;if(!Hy(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map(t=>{const s=e.bucket,i=e.fullPath;return Jy("/b/"+a(s)+"/o/"+a(i),n,r)+Yy({alt:"media",token:t})})[0]}(s,r,e.host,e._protocol)}}function Eb(e){return function(t,n){let r;var s,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ay(Py.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ay(Py.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Ay(Py.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new Ay(Py.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Cb(e){const t=Eb(e);return function(n,r){let s=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,s=new Ay(Py.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function _b(e,t,n){const r=Jy(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new kb(r,"GET",Nb(e,n),s);return i.errorHandler=Cb(t),i}function Tb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ib(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Tb(t,r,s),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wb(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=hb.getBlob(c,r,u);if(null===d)throw Fy();const h={name:l.fullPath},p=Jy(i,e.host,e._protocol),f=e.maxUploadRetryTime,m=new kb(p,"POST",Nb(e,n),f);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=Eb(t),m}class Ab{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Pb(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(dC){jb(!1)}return jb(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Rb=262144;function Db(e,t,n,r,s,i,a,o){const l=new Ab(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Ay(Py.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;s>0&&(u=Math.min(u,s));const d=l.current,h=d+u;let p="";p=0===u?"finalize":c===u?"upload, finalize":"upload";const f={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(null===m)throw Fy();const g=t.maxUploadRetryTime,v=new kb(n,"POST",function(e,n){const s=Pb(e,["active","final"]),a=l.current+u,o=r.size();let c;return c="final"===s?Nb(t,i)(e,n):null,new Ab(a,o,"final"===s,c)},g);return v.headers=f,v.body=m.uploadData(),v.progressCallback=o||null,v.errorHandler=Eb(e),v}const Ob="running",Lb="paused",Mb="success",Fb="canceled",Ub="error";function Vb(e){switch(e){case"running":case"pausing":case"canceling":return Ob;case"paused":return Lb;case"success":return Mb;case"canceled":return Fb;default:return Ub}}class zb{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t??void 0,this.complete=n??void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Bb(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then(()=>e(...n))}}class $b{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ry.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ry.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ry.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,s){if(this.sent_)throw By("cannot .send() more than once");if(St(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw By("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw By("cannot .getStatus() before sending");try{return this.xhr_.status}catch(dC){return-1}}getResponse(){if(!this.sent_)throw By("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw By("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class qb extends $b{initXhr(){this.xhr_.responseType="text"}}function Hb(){return new qb}class Wb{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=yb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Py.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Qy(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Ly()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Py.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a=Tb(t,r,s),o={name:a.fullPath},l=Jy(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=wb(a,n),d=e.maxUploadRetryTime,h=new kb(l,"POST",function(e){let t;Pb(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(dC){jb(!1)}return jb(Hy(t)),t},d);return h.urlParams=o,h.headers=c,h.body=u,h.errorHandler=Eb(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Hb,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const s=e.maxUploadRetryTime,i=new kb(n,"POST",function(e){const t=Pb(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(dC){jb(!1)}n||jb(!1);const s=Number(n);return jb(!isNaN(s)),new Ab(s,r.size(),"final"===t)},s);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Eb(t),i}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Hb,t,n);this._request=s,s.getPromise().then(e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Rb*this._chunkMultiplier,t=new Ab(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,s)=>{let i;try{i=Db(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(dC){return this._error=dC,void this._transition("error")}const a=this._ref.storage._makeRequest(i,Hb,r,s,!1);this._request=a,a.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){2*(Rb*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=_b(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Hb,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=Ib(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Hb,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=My(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Vb(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const s=new zb(t||void 0,n||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Vb(this._state)){case Mb:Bb(this._resolve.bind(null,this.snapshot))();break;case Fb:case Ub:Bb(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vb(this._state)){case Ob:case Lb:e.next&&Bb(e.next.bind(e,this.snapshot))();break;case Mb:e.complete&&Bb(e.complete.bind(e))();break;default:e.error&&Bb(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Gb{constructor(e,t){this._service=e,this._location=t instanceof $y?t:$y.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gb(e,t)}get root(){const e=new $y(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new $y(this._location.bucket,e);return new Gb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ay(Py.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Kb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Jy(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new kb(r,"GET",Sb(e,n),s);return i.errorHandler=Cb(t),i}(e.storage,e._location,yb());return e.storage.makeRequestWithTokens(t,Hb).then(e=>{if(null===e)throw new Ay(Py.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function Jb(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new $y(e._location.bucket,n);return new Gb(e.storage,r)}function Yb(e,t){if(e instanceof Zb){const n=e;if(null==n._bucket)throw new Ay(Py.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Iy+"' property when initializing the app?");const r=new Gb(n,n._bucket);return null!=t?Yb(r,t):r}return void 0!==t?Jb(e,t):e}function Qb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Zb)return new Gb(e,t);throw Uy("To use ref(service, url), the first argument must be a Storage instance.")}return Yb(e,t)}function Xb(e,t){const n=t?.[Iy];return null==n?null:$y.makeFromBucketSpec(n,e)}class Zb{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=i,this._bucket=null,this._host=Ty,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?$y.makeFromBucketSpec(r,this._host):Xb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=$y.makeFromBucketSpec(this._url,e):this._bucket=Xb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ky("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ky("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gb(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new qy(Vy());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Yy(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Xy(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ex="@firebase/storage",tx="0.14.0",nx="storage";function rx(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Wb(e,new hb(t),n)}(e=Kt(e),t,n)}function sx(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Zb(r,s,i,n,dr)}ar(new Jt(nx,sx,"PUBLIC").setMultipleInstances(!0)),mr(ex,tx,""),mr(ex,tx,"esm2020");const ix=fr().length?fr()[0]:hr({apiKey:"AIzaSyAtCkrmxQ0pu78XMkkKuHIIM9AsNMOx8vQ",authDomain:"vrumies-github.firebaseapp.com",projectId:"vrumies-github",storageBucket:"vrumies-github.appspot.com",messagingSenderId:"884036346105",appId:"1:884036346105:web:0fe8428593fa77f5494228",measurementId:"G-76VZ3HR687"});let ax;try{ax=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr();e=Kt(e);const t=or(e,ms);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=or(e,ms);if(n.isInitialized()){const e=n.getImmediate();if(Vt(t,n.getOptions()))return e;throw ys.create("already-initialized")}return n.initialize({options:t})}(e)}(ix)}catch(dC){ax=null}const ox=function(e,t){const n="object"==typeof e?e:pr(),r="string"==typeof e?e:t||vo,s=or(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=wt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Yi(e,Rp);const s=St(t),i=e._getSettings(),a={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;s&&(Et(`https://${o}`),It("Firestore",!0)),i.host!==Ip&&i.host!==o&&fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:s,emulatorOptions:r};if(!Vt(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=li.MOCK_USER;else{t=Ct(r.mockUserToken,e._app?.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new wi(xi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new li(s)}e._authCredentials=new Si(new ji(t,n))}}(s,...e)}return s}(ix),lx=Cy(ix),cx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr(),t=arguments.length>1?arguments[1]:void 0;e=Kt(e);const n=or(e,nx).getImmediate({identifier:t}),r=wt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`;const s=St(t);s&&(Et(`https://${e.host}/b`),It("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ct(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(ix),ux=new Jg;function dx(e,t){return function(){return e.apply(t,arguments)}}const{toString:hx}=Object.prototype,{getPrototypeOf:px}=Object,{iterator:fx,toStringTag:mx}=Symbol,gx=(vx=Object.create(null),e=>{const t=hx.call(e);return vx[t]||(vx[t]=t.slice(8,-1).toLowerCase())});var vx;const yx=e=>(e=e.toLowerCase(),t=>gx(t)===e),bx=e=>t=>typeof t===e,{isArray:xx}=Array,wx=bx("undefined");function kx(e){return null!==e&&!wx(e)&&null!==e.constructor&&!wx(e.constructor)&&Sx(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jx=yx("ArrayBuffer");const Nx=bx("string"),Sx=bx("function"),Ex=bx("number"),Cx=e=>null!==e&&"object"===typeof e,_x=e=>{if("object"!==gx(e))return!1;const t=px(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(mx in e)&&!(fx in e)},Tx=yx("Date"),Ix=yx("File"),Ax=yx("Blob"),Px=yx("FileList"),Rx=yx("URLSearchParams"),[Dx,Ox,Lx,Mx]=["ReadableStream","Request","Response","Headers"].map(yx);function Fx(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),xx(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(kx(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function Ux(e,t){if(kx(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Vx="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,zx=e=>!wx(e)&&e!==Vx;const Bx=($x="undefined"!==typeof Uint8Array&&px(Uint8Array),e=>$x&&e instanceof $x);var $x;const qx=yx("HTMLFormElement"),Hx=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Wx=yx("RegExp"),Gx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Fx(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)}),Object.defineProperties(e,r)};const Kx=yx("AsyncFunction"),Jx=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Vx.addEventListener("message",e=>{let{source:t,data:s}=e;t===Vx&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Vx.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Sx(Vx.postMessage)),Yx="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Vx):"undefined"!==typeof process&&process.nextTick||Jx,Qx={isArray:xx,isArrayBuffer:jx,isBuffer:kx,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Sx(e.append)&&("formdata"===(t=gx(e))||"object"===t&&Sx(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&jx(e.buffer),t},isString:Nx,isNumber:Ex,isBoolean:e=>!0===e||!1===e,isObject:Cx,isPlainObject:_x,isEmptyObject:e=>{if(!Cx(e)||kx(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(dC){return!1}},isReadableStream:Dx,isRequest:Ox,isResponse:Lx,isHeaders:Mx,isUndefined:wx,isDate:Tx,isFile:Ix,isBlob:Ax,isRegExp:Wx,isFunction:Sx,isStream:e=>Cx(e)&&Sx(e.pipe),isURLSearchParams:Rx,isTypedArray:Bx,isFileList:Px,forEach:Fx,merge:function e(){const{caseless:t}=zx(this)&&this||{},n={},r=(r,s)=>{const i=t&&Ux(n,s)||s;_x(n[i])&&_x(r)?n[i]=e(n[i],r):_x(r)?n[i]=e({},r):xx(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Fx(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Fx(t,(t,r)=>{n&&Sx(t)?e[r]=dx(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&px(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:gx,kindOfTest:yx,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(xx(e))return e;let t=e.length;if(!Ex(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[fx]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:qx,hasOwnProperty:Hx,hasOwnProp:Hx,reduceDescriptors:Gx,freezeMethods:e=>{Gx(e,(t,n)=>{if(Sx(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Sx(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return xx(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ux,global:Vx,isContextDefined:zx,isSpecCompliantForm:function(e){return!!(e&&Sx(e.append)&&"FormData"===e[mx]&&e[fx])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Cx(e)){if(t.indexOf(e)>=0)return;if(kx(e))return e;if(!("toJSON"in e)){t[r]=e;const s=xx(e)?[]:{};return Fx(e,(e,t)=>{const i=n(e,r+1);!wx(i)&&(s[t]=i)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Kx,isThenable:e=>e&&(Cx(e)||Sx(e))&&Sx(e.then)&&Sx(e.catch),setImmediate:Jx,asap:Yx,isIterable:e=>null!=e&&Sx(e[fx])};function Xx(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Qx.inherits(Xx,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Qx.toJSONObject(this.config),code:this.code,status:this.status}}});const Zx=Xx.prototype,ew={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ew[e]={value:e}}),Object.defineProperties(Xx,ew),Object.defineProperty(Zx,"isAxiosError",{value:!0}),Xx.from=(e,t,n,r,s,i)=>{const a=Object.create(Zx);return Qx.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Xx.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const tw=Xx;function nw(e){return Qx.isPlainObject(e)||Qx.isArray(e)}function rw(e){return Qx.endsWith(e,"[]")?e.slice(0,-2):e}function sw(e,t,n){return e?e.concat(t).map(function(e,t){return e=rw(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const iw=Qx.toFlatObject(Qx,{},null,function(e){return/^is[A-Z]/.test(e)});const aw=function(e,t,n){if(!Qx.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Qx.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Qx.isUndefined(t[e])})).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Qx.isSpecCompliantForm(t);if(!Qx.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Qx.isDate(e))return e.toISOString();if(Qx.isBoolean(e))return e.toString();if(!o&&Qx.isBlob(e))throw new tw("Blob is not supported. Use a Buffer instead.");return Qx.isArrayBuffer(e)||Qx.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(Qx.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Qx.isArray(e)&&function(e){return Qx.isArray(e)&&!e.some(nw)}(e)||(Qx.isFileList(e)||Qx.endsWith(n,"[]"))&&(o=Qx.toArray(e)))return n=rw(n),o.forEach(function(e,r){!Qx.isUndefined(e)&&null!==e&&t.append(!0===a?sw([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!nw(e)||(t.append(sw(s,n,i),l(e)),!1)}const u=[],d=Object.assign(iw,{defaultVisitor:c,convertValue:l,isVisitable:nw});if(!Qx.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Qx.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Qx.forEach(n,function(n,i){!0===(!(Qx.isUndefined(n)||null===n)&&s.call(t,n,Qx.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function ow(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function lw(e,t){this._pairs=[],e&&aw(e,this,t)}const cw=lw.prototype;cw.append=function(e,t){this._pairs.push([e,t])},cw.toString=function(e){const t=e?function(t){return e.call(this,t,ow)}:ow;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const uw=lw;function dw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hw(e,t,n){if(!t)return e;const r=n&&n.encode||dw;Qx.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):Qx.isURLSearchParams(t)?t.toString():new uw(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const pw=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Qx.forEach(this.handlers,function(t){null!==t&&e(t)})}},fw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mw={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:uw,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},gw="undefined"!==typeof window&&"undefined"!==typeof document,vw="object"===typeof navigator&&navigator||void 0,yw=gw&&(!vw||["ReactNative","NativeScript","NS"].indexOf(vw.product)<0),bw="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,xw=gw&&window.location.href||"http://localhost",ww={...e,...mw};const kw=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&Qx.isArray(r)?r.length:i,o)return Qx.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&Qx.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&Qx.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(Qx.isFormData(e)&&Qx.isFunction(e.entries)){const n={};return Qx.forEachEntry(e,(e,r)=>{t(function(e){return Qx.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const jw={transitional:fw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=Qx.isObject(e);s&&Qx.isHTMLForm(e)&&(e=new FormData(e));if(Qx.isFormData(e))return r?JSON.stringify(kw(e)):e;if(Qx.isArrayBuffer(e)||Qx.isBuffer(e)||Qx.isStream(e)||Qx.isFile(e)||Qx.isBlob(e)||Qx.isReadableStream(e))return e;if(Qx.isArrayBufferView(e))return e.buffer;if(Qx.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return aw(e,new ww.classes.URLSearchParams,{visitor:function(e,t,n,r){return ww.isNode&&Qx.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((i=Qx.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return aw(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(Qx.isString(e))try{return(t||JSON.parse)(e),Qx.trim(e)}catch(dC){if("SyntaxError"!==dC.name)throw dC}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||jw.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Qx.isResponse(e)||Qx.isReadableStream(e))return e;if(e&&Qx.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(dC){if(n){if("SyntaxError"===dC.name)throw tw.from(dC,tw.ERR_BAD_RESPONSE,this,null,this.response);throw dC}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ww.classes.FormData,Blob:ww.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Qx.forEach(["delete","get","head","post","put","patch"],e=>{jw.headers[e]={}});const Nw=jw,Sw=Qx.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ew=Symbol("internals");function Cw(e){return e&&String(e).trim().toLowerCase()}function _w(e){return!1===e||null==e?e:Qx.isArray(e)?e.map(_w):String(e)}function Tw(e,t,n,r,s){return Qx.isFunction(r)?r.call(this,t,n):(s&&(t=n),Qx.isString(t)?Qx.isString(r)?-1!==t.indexOf(r):Qx.isRegExp(r)?r.test(t):void 0:void 0)}class Iw{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Cw(t);if(!s)throw new Error("header name must be a non-empty string");const i=Qx.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=_w(e))}const i=(e,t)=>Qx.forEach(e,(e,n)=>s(e,n,t));if(Qx.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Qx.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Sw[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Qx.isObject(e)&&Qx.isIterable(e)){let n,r,s={};for(const t of e){if(!Qx.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?Qx.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Cw(e)){const n=Qx.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Qx.isFunction(t))return t.call(this,e,n);if(Qx.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Cw(e)){const n=Qx.findKey(this,e);return!(!n||void 0===this[n]||t&&!Tw(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Cw(e)){const s=Qx.findKey(n,e);!s||t&&!Tw(0,n[s],s,t)||(delete n[s],r=!0)}}return Qx.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Tw(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return Qx.forEach(this,(r,s)=>{const i=Qx.findKey(n,s);if(i)return t[i]=_w(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();a!==s&&delete t[s],t[a]=_w(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Qx.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Qx.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ew]=this[Ew]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Cw(e);t[r]||(!function(e,t){const n=Qx.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return Qx.isArray(e)?e.forEach(r):r(e),this}}Iw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Qx.reduceDescriptors(Iw.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Qx.freezeMethods(Iw);const Aw=Iw;function Pw(e,t){const n=this||Nw,r=t||n,s=Aw.from(r.headers);let i=r.data;return Qx.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Rw(e){return!(!e||!e.__CANCEL__)}function Dw(e,t,n){tw.call(this,null==e?"canceled":e,tw.ERR_CANCELED,t,n),this.name="CanceledError"}Qx.inherits(Dw,tw,{__CANCEL__:!0});const Ow=Dw;function Lw(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new tw("Request failed with status code "+n.status,[tw.ERR_BAD_REQUEST,tw.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Mw=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Fw=function(e,t){let n,r,s=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout(()=>{r=null,a(n)},i-t)))},()=>n&&a(n)]},Uw=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Mw(50,250);return Fw(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},Vw=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},zw=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qx.asap(()=>e(...n))},Bw=ww.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ww.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ww.origin),ww.navigator&&/(msie|trident)/i.test(ww.navigator.userAgent)):()=>!0,$w=ww.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];Qx.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Qx.isString(r)&&a.push("path="+r),Qx.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function qw(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Hw=e=>e instanceof Aw?{...e}:e;function Ww(e,t){t=t||{};const n={};function r(e,t,n,r){return Qx.isPlainObject(e)&&Qx.isPlainObject(t)?Qx.merge.call({caseless:r},e,t):Qx.isPlainObject(t)?Qx.merge({},t):Qx.isArray(t)?t.slice():t}function s(e,t,n,s){return Qx.isUndefined(t)?Qx.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!Qx.isUndefined(t))return r(void 0,t)}function a(e,t){return Qx.isUndefined(t)?Qx.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(Hw(e),Hw(t),0,!0)};return Qx.forEach(Object.keys({...e,...t}),function(r){const i=l[r]||s,a=i(e[r],t[r],r);Qx.isUndefined(a)&&i!==o||(n[r]=a)}),n}const Gw=e=>{const t=Ww({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Aw.from(o),t.url=hw(qw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Qx.isFormData(r))if(ww.hasStandardBrowserEnv||ww.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(ww.hasStandardBrowserEnv&&(s&&Qx.isFunction(s)&&(s=s(t)),s||!1!==s&&Bw(t.url))){const e=i&&a&&$w.read(a);e&&o.set(i,e)}return t},Kw="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Gw(e);let s=r.data;const i=Aw.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Aw.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Lw(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new tw("Request aborted",tw.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new tw("Network Error",tw.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||fw;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new tw(t,s.clarifyTimeoutError?tw.ETIMEDOUT:tw.ECONNABORTED,e,m)),m=null},void 0===s&&i.setContentType(null),"setRequestHeader"in m&&Qx.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Qx.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=Uw(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Uw(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Ow(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===ww.protocols.indexOf(v)?n(new tw("Unsupported protocol "+v+":",tw.ERR_BAD_REQUEST,e)):m.send(s||null)})},Jw=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof tw?t:new Ow(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new tw(`timeout ${t} of ms exceeded`,tw.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>Qx.asap(a),o}},Yw=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Qw=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Xw=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of Qw(e))yield*Yw(n,t)}(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},Zw="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ek=Zw&&"function"===typeof ReadableStream,tk=Zw&&("function"===typeof TextEncoder?(nk=new TextEncoder,e=>nk.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var nk;const rk=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(dC){return!1}},sk=ek&&rk(()=>{let e=!1;const t=new Request(ww.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ik=ek&&rk(()=>Qx.isReadableStream(new Response("").body)),ak={stream:ik&&(e=>e.body)};var ok;Zw&&(ok=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ak[e]&&(ak[e]=Qx.isFunction(ok[e])?t=>t[e]():(t,n)=>{throw new tw(`Response type '${e}' is not supported`,tw.ERR_NOT_SUPPORT,n)})}));const lk=async(e,t)=>{const n=Qx.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Qx.isBlob(e))return e.size;if(Qx.isSpecCompliantForm(e)){const t=new Request(ww.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Qx.isArrayBufferView(e)||Qx.isArrayBuffer(e)?e.byteLength:(Qx.isURLSearchParams(e)&&(e+=""),Qx.isString(e)?(await tk(e)).byteLength:void 0)})(t):n},ck=Zw&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Gw(e);c=c?(c+"").toLowerCase():"text";let p,f=Jw([s,i&&i.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&sk&&"get"!==n&&"head"!==n&&0!==(g=await lk(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Qx.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Vw(g,Uw(zw(l)));r=Xw(n.body,65536,e,t)}}Qx.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?d:void 0});let i=await fetch(p,h);const a=ik&&("stream"===c||"response"===c);if(ik&&(o||a&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=Qx.toFiniteNumber(i.headers.get("content-length")),[n,r]=o&&Vw(t,Uw(zw(o),!0))||[];i=new Response(Xw(i.body,65536,n,()=>{r&&r(),m&&m()}),e)}c=c||"text";let v=await ak[Qx.findKey(ak,c)||"text"](i,e);return!a&&m&&m(),await new Promise((t,n)=>{Lw(t,n,{data:v,headers:Aw.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})})}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new tw("Network Error",tw.ERR_NETWORK,e,p),{cause:v.cause||v});throw tw.from(v,v&&v.code,e,p)}}),uk={http:null,xhr:Kw,fetch:ck};Qx.forEach(uk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(dC){}Object.defineProperty(e,"adapterName",{value:t})}});const dk=e=>`- ${e}`,hk=e=>Qx.isFunction(e)||null===e||!1===e,pk=e=>{e=Qx.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!hk(n)&&(r=uk[(t=String(n)).toLowerCase()],void 0===r))throw new tw(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(dk).join("\n"):" "+dk(e[0]):"as no adapter specified";throw new tw("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function fk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ow(null,e)}function mk(e){fk(e),e.headers=Aw.from(e.headers),e.data=Pw.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pk(e.adapter||Nw.adapter)(e).then(function(t){return fk(e),t.data=Pw.call(e,e.transformResponse,t),t.headers=Aw.from(t.headers),t},function(t){return Rw(t)||(fk(e),t&&t.response&&(t.response.data=Pw.call(e,e.transformResponse,t.response),t.response.headers=Aw.from(t.response.headers))),Promise.reject(t)})}const gk="1.11.0",vk={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vk[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const yk={};vk.transitional=function(e,t,n){function r(e,t){return"[Axios v"+gk+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new tw(r(s," has been removed"+(t?" in "+t:"")),tw.ERR_DEPRECATED);return t&&!yk[s]&&(yk[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},vk.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const bk={assertOptions:function(e,t,n){if("object"!==typeof e)throw new tw("options must be an object",tw.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new tw("option "+i+" must be "+n,tw.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new tw("Unknown option "+i,tw.ERR_BAD_OPTION)}},validators:vk},xk=bk.validators;class wk{constructor(e){this.defaults=e||{},this.interceptors={request:new pw,response:new pw}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(dC){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ww(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&bk.assertOptions(n,{silentJSONParsing:xk.transitional(xk.boolean),forcedJSONParsing:xk.transitional(xk.boolean),clarifyTimeoutError:xk.transitional(xk.boolean)},!1),null!=r&&(Qx.isFunction(r)?t.paramsSerializer={serialize:r}:bk.assertOptions(r,{encode:xk.function,serialize:xk.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bk.assertOptions(t,{baseUrl:xk.spelling("baseURL"),withXsrfToken:xk.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&Qx.merge(s.common,s[t.method]);s&&Qx.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=Aw.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[mk.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=mk.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return hw(qw((e=Ww(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Qx.forEach(["delete","get","head","options"],function(e){wk.prototype[e]=function(t,n){return this.request(Ww(n||{},{method:e,url:t,data:(n||{}).data}))}}),Qx.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(Ww(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}wk.prototype[e]=t(),wk.prototype[e+"Form"]=t(!0)});const kk=wk;class jk{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new Ow(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new jk(function(t){e=t}),cancel:e}}}const Nk=jk;const Sk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sk).forEach(e=>{let[t,n]=e;Sk[n]=t});const Ek=Sk;const Ck=function e(t){const n=new kk(t),r=dx(kk.prototype.request,n);return Qx.extend(r,kk.prototype,n,{allOwnKeys:!0}),Qx.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ww(t,n))},r}(Nw);Ck.Axios=kk,Ck.CanceledError=Ow,Ck.CancelToken=Nk,Ck.isCancel=Rw,Ck.VERSION=gk,Ck.toFormData=aw,Ck.AxiosError=tw,Ck.Cancel=Ck.CanceledError,Ck.all=function(e){return Promise.all(e)},Ck.spread=function(e){return function(t){return e.apply(null,t)}},Ck.isAxiosError=function(e){return Qx.isObject(e)&&!0===e.isAxiosError},Ck.mergeConfig=Ww,Ck.AxiosHeaders=Aw,Ck.formToJSON=e=>kw(Qx.isHTMLForm(e)?new FormData(e):e),Ck.getAdapter=pk,Ck.HttpStatusCode=Ek,Ck.default=Ck;const _k=Ck;var Tk=n(579);const Ik=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",address:"",city:"",state:"",link:"",tokens:"",image:"",video:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({image:!1,video:!1}),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)([]),m=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF-Y9M2YTMmMBu6RU7sDh4vRM9gFdC5MI&libraries=places",e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const g=e=>{n(t=>t===e?null:e)},v=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))},y=async(e,t)=>{const n=e.target.files[0];if(!n)return;u(e=>({...e,[t]:!0}));const r=new FormData;r.append("file",n),r.append("upload_preset","vrumies_preset");try{const e=await _k.post(`https://api.cloudinary.com/v1_1/dmjvngk3o/${t}/upload`,r);s(n=>({...n,[t]:e.data.secure_url}))}catch(i){console.error(`Upload failed for ${t}:`,i),alert(`Upload failed for ${t}`)}finally{u(e=>({...e,[t]:!1}))}},b="/Vrumies";return o?(0,Tk.jsx)("div",{className:"post-success-message",children:(0,Tk.jsx)("p",{children:i})}):(0,Tk.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void a("\u274c You must be signed in to submit a post.");const n={...r,tokens:r.tokens||0,createdAt:ta.now(),type:"video",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),a("\u2705 Video post added!"),l(!0)}catch(s){console.error("\u274c Firestore error:",s),a("\u274c Failed to add post.")}},children:[(0,Tk.jsx)("label",{className:"form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:v,required:!0}),(0,Tk.jsx)("label",{className:"form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:v,required:!0}),(0,Tk.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:`${b}/PostCreationIcons/Map-Icon.png`,alt:"Address",onClick:()=>g("address")}),(0,Tk.jsx)("img",{src:`${b}/PostCreationIcons/Link-Icon.png`,alt:"Link",onClick:()=>g("link")}),(0,Tk.jsx)("img",{src:`${b}/PostCreationIcons/Video-Icon.png`,alt:"Video",onClick:()=>g("video")}),(0,Tk.jsx)("img",{src:`${b}/PostCreationIcons/Image-Icon.png`,alt:"Image",onClick:()=>g("image")}),(0,Tk.jsx)("img",{src:`${b}/PostCreationIcons/Token-Icon.png`,alt:"Tokens",onClick:()=>g("tokens")})]}),"address"===e&&(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("label",{className:"form-label",children:"City"}),(0,Tk.jsx)("input",{type:"text",value:d,onChange:e=>{const t=e.target.value;if(h(t),!m.current)return;if(!t)return f([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};m.current.getPlacePredictions(n,(e,t)=>{if("OK"!==t||!e)return f([]);f(e)})},placeholder:"Type a city...",required:!0}),p.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:p.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t,n;const r=e.terms,i=(null===(t=r[0])||void 0===t?void 0:t.value)||"",a=(null===(n=r[1])||void 0===n?void 0:n.value)||"",o=`${i}, ${a}`;s(e=>({...e,address:o,city:i,state:a})),h(o),f([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:v,className:"link"===e?"":"hidden-input"}),"video"===e&&(0,Tk.jsxs)("div",{className:"upload-container",children:[(0,Tk.jsx)("label",{className:"form-label",children:"Upload Video"}),(0,Tk.jsx)("input",{type:"file",accept:"video/*",onChange:e=>y(e,"video")}),c.video&&(0,Tk.jsx)("p",{className:"uploading-text",children:"Uploading video..."}),r.video&&(0,Tk.jsx)("div",{className:"preview-gallery",children:(0,Tk.jsx)("video",{src:r.video,controls:!0,className:"preview-media"})})]}),"image"===e&&(0,Tk.jsxs)("div",{className:"upload-container",children:[(0,Tk.jsx)("label",{className:"form-label",children:"Upload Image"}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",onChange:e=>y(e,"image")}),c.image&&(0,Tk.jsx)("p",{className:"uploading-text",children:"Uploading image..."}),r.image&&(0,Tk.jsx)("div",{className:"preview-gallery",children:(0,Tk.jsx)("img",{src:r.image,alt:"Uploaded",className:"preview-media"})})]}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:v,className:"tokens"===e?"":"hidden-input"}),(0,Tk.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),i&&(0,Tk.jsx)("p",{children:i})]})},Ak={Video:Ik,Blog:()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",link:"",tokens:"",images:[],location:{city:"",state:""}}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)([]),m=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF-Y9M2YTMmMBu6RU7sDh4vRM9gFdC5MI&libraries=places",e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const g=e=>{n(t=>t===e?null:e)},v=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))},y="/Vrumies";return o?(0,Tk.jsx)("div",{className:"post-success-message",children:(0,Tk.jsx)("p",{children:i})}):(0,Tk.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void a("\u274c You must be signed in to submit a post.");const n={title:r.title||"",description:r.description||"",location:r.location||{city:"",state:""},link:r.link||"",images:r.images||[],tokens:r.tokens||0,createdAt:ta.now(),type:"blog",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),a("\u2705 Blog post added!"),l(!0)}catch(s){console.error("Firestore error:",s),a("\u274c Failed to add post.")}},children:[(0,Tk.jsx)("label",{className:"form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:v,required:!0}),(0,Tk.jsx)("label",{className:"form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:v,required:!0}),(0,Tk.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Map-Icon.png`,alt:"City",onClick:()=>g("location")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Link-Icon.png`,alt:"Link",onClick:()=>g("link")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Image-Icon.png`,alt:"Image",onClick:()=>g("image")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Token-Icon.png`,alt:"Tokens",onClick:()=>g("tokens")})]}),"location"===e&&(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("label",{className:"form-label",children:"City"}),(0,Tk.jsx)("input",{type:"text",value:d,onChange:e=>{const t=e.target.value;if(h(t),!m.current)return;if(!t)return f([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};m.current.getPlacePredictions(n,(e,t)=>{if("OK"!==t||!e)return f([]);f(e)})},placeholder:"Type a city...",required:!0}),p.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:p.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t;const n=e.terms;let r=n[0].value||"",i=(null===(t=n[1])||void 0===t?void 0:t.value)||"";s(e=>({...e,location:{city:r,state:i}})),h(`${r}, ${i}`),f([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:v,className:"link"===e?"":"hidden-input"}),"image"===e&&(0,Tk.jsxs)("div",{className:"upload-container",children:[(0,Tk.jsx)("label",{className:"form-label",children:"Upload Images (max 7)"}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files);if(t.length)if(r.images.length+t.length>7)alert("\u26a0\ufe0f You can only upload up to 7 images per post.");else{u(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","vrumies_preset");return(await _k.post("https://api.cloudinary.com/v1_1/dmjvngk3o/image/upload",t)).data.secure_url}),n=await Promise.all(e);s(e=>({...e,images:[...e.images,...n]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{u(!1)}}}}),c&&(0,Tk.jsx)("p",{className:"uploading-text",children:"Uploading images..."}),r.images.length>0&&(0,Tk.jsx)("div",{className:"preview-gallery",children:r.images.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Uploaded ${t}`,className:"preview-media"},t))})]}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:v,className:"tokens"===e?"":"hidden-input"}),(0,Tk.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),i&&(0,Tk.jsx)("p",{children:i})]})},Forum:()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",link:"",tokens:"",location:{city:"",state:""}}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),p=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)p.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF-Y9M2YTMmMBu6RU7sDh4vRM9gFdC5MI&libraries=places",e.async=!0,e.onload=()=>{p.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const f=e=>{n(t=>t===e?null:e)},m=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))};return d?(0,Tk.jsx)("div",{className:"post-success-message",children:(0,Tk.jsx)("p",{children:c})}):(0,Tk.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void u("\u274c You must be signed in to submit a post.");const n={title:r.title||"",description:r.description||"",location:r.location||{city:"",state:""},link:r.link||"",tokens:r.tokens||0,createdAt:ta.now(),type:"forum",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),u("\u2705 Forum post added!"),h(!0)}catch(s){console.error("Firestore error:",s),u("\u274c Failed to add post.")}},children:[(0,Tk.jsx)("label",{className:"form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:m,required:!0}),(0,Tk.jsx)("label",{className:"form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:m,required:!0}),(0,Tk.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:"/Vrumies/PostCreationIcons/Map-Icon.png",alt:"City",onClick:()=>f("location")}),(0,Tk.jsx)("img",{src:"/Vrumies/PostCreationIcons/Link-Icon.png",alt:"Link",onClick:()=>f("link")}),(0,Tk.jsx)("img",{src:"/Vrumies/PostCreationIcons/Token-Icon.png",alt:"Tokens",onClick:()=>f("tokens")})]}),"location"===e&&(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("label",{className:"form-label",children:"City"}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{const t=e.target.value;if(a(t),!p.current)return;if(!t)return l([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};p.current.getPlacePredictions(n,(e,t)=>{if("OK"!==t||!e)return l([]);l(e)})},placeholder:"Type a city...",required:!0}),o.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:o.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t;const n=e.terms,r=n[0].value||"",i=(null===(t=n[1])||void 0===t?void 0:t.value)||"";s(e=>({...e,location:{city:r,state:i}})),a(`${r}, ${i}`),l([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:m,className:"link"===e?"":"hidden-input"}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:m,className:"tokens"===e?"":"hidden-input"}),(0,Tk.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),c&&(0,Tk.jsx)("p",{children:c})]})},Request:()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",images:[],location:{city:"",state:""},link:"",tokens:"",urgency:"I Can Wait"}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),m=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF-Y9M2YTMmMBu6RU7sDh4vRM9gFdC5MI&libraries=places",e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const g=e=>{n(t=>t===e?null:e)},v=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))},y="/Vrumies";return d?(0,Tk.jsx)("div",{className:"post-success-message",children:(0,Tk.jsx)("p",{children:c})}):(0,Tk.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void u("\u274c You must be signed in to submit a post.");const n={...r,tokens:r.tokens||0,createdAt:ta.now(),type:"request",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),u("\u2705 Request post added!"),h(!0)}catch(s){console.error("Firestore error:",s),u("\u274c Failed to add post.")}},children:[(0,Tk.jsx)("label",{className:"form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:v,required:!0}),(0,Tk.jsx)("label",{className:"form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:v,required:!0}),(0,Tk.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Map-Icon.png`,alt:"Location",onClick:()=>g("location")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Link-Icon.png`,alt:"Link",onClick:()=>g("link")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Image-Icon.png`,alt:"Image",onClick:()=>g("image")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Token-Icon.png`,alt:"Tokens",onClick:()=>g("tokens")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Urgency-Icon.png`,alt:"Urgency",onClick:()=>g("urgency")})]}),"location"===e&&(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("label",{className:"form-label",children:"City"}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{const t=e.target.value;if(a(t),!m.current||!t)return void l([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};m.current.getPlacePredictions(n,(e,t)=>{if("OK"!==t||!e)return l([]);l(e)})},placeholder:"Type a city...",required:!0}),o.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:o.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t;const n=e.terms,r=n[0].value||"",i=(null===(t=n[1])||void 0===t?void 0:t.value)||"";s(e=>({...e,location:{city:r,state:i}})),a(`${r}, ${i}`),l([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:v,className:"link"===e?"":"hidden-input"}),"image"===e&&(0,Tk.jsxs)("div",{className:"upload-container",children:[(0,Tk.jsxs)("label",{className:"form-label",children:["Upload Images (max ",7,")"]}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files);if(t.length)if(r.images.length+t.length>7)alert("\u26a0\ufe0f You can only upload up to 7 images per post.");else{f(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","vrumies_preset");return(await _k.post("https://api.cloudinary.com/v1_1/dmjvngk3o/image/upload",t)).data.secure_url}),n=await Promise.all(e);s(e=>({...e,images:[...e.images,...n]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{f(!1)}}}}),p&&(0,Tk.jsx)("p",{className:"uploading-text",children:"Uploading images..."}),(0,Tk.jsx)("div",{className:"preview-gallery",children:r.images.map((e,t)=>(0,Tk.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Tk.jsx)("img",{src:e,alt:`Uploaded ${t}`,className:"preview-media"}),(0,Tk.jsx)("button",{type:"button",onClick:()=>{return e=t,void s(t=>({...t,images:t.images.filter((t,n)=>n!==e)}));var e},style:{position:"absolute",top:"-6px",right:"-6px",background:"red",color:"#fff",border:"none",borderRadius:"50%",cursor:"pointer",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2716"})]},t))})]}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:v,className:"tokens"===e?"":"hidden-input"}),"urgency"===e&&(0,Tk.jsxs)("select",{name:"urgency",value:r.urgency,onChange:v,className:"urgency-select",children:[(0,Tk.jsx)("option",{value:"Urgent",children:"Urgent"}),(0,Tk.jsx)("option",{value:"I Can Wait",children:"I Can Wait"}),(0,Tk.jsx)("option",{value:"Just Looking",children:"Just Looking"})]}),(0,Tk.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),c&&(0,Tk.jsx)("p",{children:c})]})},Vehicle:()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",address:"",city:"",state:"",link:"",images:[],tokens:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)([]),m=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF-Y9M2YTMmMBu6RU7sDh4vRM9gFdC5MI&libraries=places",e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const g=e=>{n(t=>t===e?null:e)},v=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))},y="/Vrumies";return o?(0,Tk.jsx)("div",{className:"post-success-message",children:(0,Tk.jsx)("p",{children:i})}):(0,Tk.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void a("\u274c You must be signed in to submit a post.");const n={...r,tokens:r.tokens||0,createdAt:ta.now(),type:"vehicle",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),a("\u2705 Vehicle post added!"),l(!0)}catch(s){console.error("Firestore error:",s),a("\u274c Failed to add vehicle post.")}},children:[(0,Tk.jsx)("label",{className:"form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:v,required:!0}),(0,Tk.jsx)("label",{className:"form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:v,required:!0}),(0,Tk.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Map-Icon.png`,alt:"Address",onClick:()=>g("address")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Link-Icon.png`,alt:"Link",onClick:()=>g("link")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Image-Icon.png`,alt:"Image",onClick:()=>g("image")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Token-Icon.png`,alt:"Tokens",onClick:()=>g("tokens")})]}),"address"===e&&(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("label",{className:"form-label",children:"City"}),(0,Tk.jsx)("input",{type:"text",value:d,onChange:e=>{const t=e.target.value;if(h(t),!m.current)return;if(!t)return f([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};m.current.getPlacePredictions(n,(e,t)=>{if("OK"!==t||!e)return f([]);f(e)})},placeholder:"Type a city...",required:!0}),p.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:p.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t,n;const r=e.terms,i=(null===(t=r[0])||void 0===t?void 0:t.value)||"",a=(null===(n=r[1])||void 0===n?void 0:n.value)||"",o=`${i}, ${a}`;s(e=>({...e,address:o,city:i,state:a})),h(o),f([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:v,className:"link"===e?"":"hidden-input"}),"image"===e&&(0,Tk.jsxs)("div",{className:"upload-container",children:[(0,Tk.jsx)("label",{className:"form-label",children:"Upload Images (max 7)"}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files);if(t.length)if(r.images.length+t.length>7)alert("\u26a0\ufe0f You can only upload up to 7 images.");else{u(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","vrumies_preset");return(await _k.post("https://api.cloudinary.com/v1_1/dmjvngk3o/image/upload",t)).data.secure_url}),n=await Promise.all(e);s(e=>({...e,images:[...e.images,...n]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{u(!1)}}}}),c&&(0,Tk.jsx)("p",{className:"uploading-text",children:"Uploading images..."}),r.images.length>0&&(0,Tk.jsx)("div",{className:"preview-gallery",children:r.images.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Uploaded ${t}`,className:"preview-media"},t))})]}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:v,className:"tokens"===e?"":"hidden-input"}),(0,Tk.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),i&&(0,Tk.jsx)("p",{children:i})]})}};function Pk(e){let{isOpen:n,onClose:r}=e;const[s,i]=(0,t.useState)("Video");if((0,t.useEffect)(()=>{n&&i("Video")},[n]),!n)return null;const a=Ak[s];return(0,Tk.jsx)("div",{className:"overlay",children:(0,Tk.jsxs)("div",{className:"overlay-content",children:[(0,Tk.jsx)("button",{className:"close-btn",onClick:r,children:"\u2715"}),(0,Tk.jsx)("h2",{style:{color:"#00ff00",fontSize:"2rem",fontWeight:"900",textAlign:"center",marginBottom:"1rem",textShadow:"0 0 10px #00ff00"},children:"CREATE POST"}),(0,Tk.jsx)("div",{className:"post-type-buttons",children:Object.keys(Ak).map(e=>(0,Tk.jsx)("button",{className:"post-type-btn "+(s===e?"selected":""),onClick:()=>i(e),children:e},e))}),(0,Tk.jsxs)("h3",{style:{textAlign:"center",margin:"1rem 0 1rem",fontSize:"1.2rem",color:"#007bff"},children:["Creating a ",s," Post"]}),(0,Tk.jsx)("div",{className:"form-container",children:(0,Tk.jsx)(a,{onClose:r})})]})})}var Rk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dk=t.createContext&&t.createContext(Rk),Ok=["attr","size","title"];function Lk(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mk.apply(this,arguments)}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(t){Vk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zk(e){return e&&e.map((e,n)=>t.createElement(e.tag,Uk({key:n},e.attr),zk(e.child)))}function Bk(e){return n=>t.createElement($k,Mk({attr:Uk({},e.attr)},n),zk(e.child))}function $k(e){var n=n=>{var r,{attr:s,size:i,title:a}=e,o=Lk(e,Ok),l=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Mk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:r,style:Uk(Uk({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==Dk?t.createElement(Dk.Consumer,null,e=>n(e)):n(Rk)}function qk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Hk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function Wk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(e)}function Gk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Kk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Jk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function Yk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Qk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(e)}function Xk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Zk(e){return Bk({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function ej(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(e)}function tj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function nj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function rj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function sj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function ij(e){return Bk({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function aj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(e)}function oj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(e)}function lj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function cj(e){return Bk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}const uj=()=>{const e=ne();return(0,Tk.jsxs)("div",{className:"dropdown-buttons",children:[(0,Tk.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/myprofile"),children:[(0,Tk.jsx)(cj,{className:"icon green"}),(0,Tk.jsx)("span",{children:"Profile"})]}),(0,Tk.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/bookmarks"),children:[(0,Tk.jsx)(Wk,{className:"icon green"}),(0,Tk.jsx)("span",{children:"Bookmarks"})]}),(0,Tk.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/seller"),children:[(0,Tk.jsx)(ij,{className:"icon green"}),(0,Tk.jsx)("span",{children:"Seller"})]}),(0,Tk.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/settings"),children:[(0,Tk.jsx)(Yk,{className:"icon green"}),(0,Tk.jsx)("span",{children:"Settings"})]}),(0,Tk.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/signin"),children:[(0,Tk.jsx)(rj,{className:"icon green"}),(0,Tk.jsx)("span",{children:"Sign Out"})]})]})};const dj=function(e){let{isOpen:t,onClose:n}=e;return t?(0,Tk.jsxs)("div",{className:"notifications-panel-content",children:[(0,Tk.jsx)("div",{className:"notifications-header",children:"Notifications"}),(0,Tk.jsx)("div",{className:"notifications-list custom-scrollbar",children:[{type:"New Order",description:"12V USB Charger...",from:"Samantha43",time:"5h ago",isNew:!0},{type:"New Review",description:"Alex Anderson",from:"Terrance_Morres",comment:"\u201cI used this product and I like the cool light designs on it.\u201d",time:"9h ago"},{type:"New Comment",description:"Testing the new Ford...",from:"mich332",comment:"\u201cI used this product and I like the cool light designs on it.\u201d",time:"15h ago"},{type:"New Comment",description:"Why I only use manual...",from:"Vanz Marquez",comment:"\u201cAutomatic cards are less likely to have transmission issues..\u201d",time:"2d ago"},{type:"New Comment",description:"Dodge Charger Hellcat...",from:"SaraTheDrifter_Official",comment:"\u201cThat 0-60 time on the Dodge Charger Hellcat is crazy...\u201d",time:"3d ago"},{type:"New Comment",description:"My new Vlog at...",from:"Mikefromike1995",comment:"\u201cWow very cool car event you went to, glad the cops didn't...\u201d",time:"5w ago"}].map((e,t)=>(0,Tk.jsxs)("div",{className:"notification-item "+(e.isNew?"notification-new":""),children:[(0,Tk.jsxs)("div",{className:"notification-top-row",children:[(0,Tk.jsxs)("span",{className:"notification-title "+(e.isNew?"text-green":"text-light-gray"),children:[e.type,": ",e.description]}),(0,Tk.jsx)("span",{className:"notification-time",children:e.time})]}),(0,Tk.jsxs)("p",{className:"notification-from",children:["from ",(0,Tk.jsx)("span",{className:"notification-sender",children:e.from})]}),e.comment&&(0,Tk.jsxs)("p",{className:"notification-comment",children:['"',e.comment,'"']})]},t))}),(0,Tk.jsx)("style",{children:"\n        .notifications-panel-content {\n          background-color: #2d3748; /* bg-gray-800 */\n          border-radius: 0.5rem; /* rounded-lg */\n          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* shadow-2xl */\n          width: 100%;\n          max-width: 28rem; /* max-w-md (approx 448px) */\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          max-height: 90vh; /* Max height for content */\n        }\n\n        .notifications-header {\n          padding: 1rem; /* p-4 */\n          background-color: #1a202c; /* bg-gray-900 */\n          color: #ffffff; /* text-white */\n          font-size: 1.25rem; /* text-xl */\n          font-weight: bold;\n          border-top-left-radius: 0.5rem;\n          border-top-right-radius: 0.5rem;\n        }\n\n        .notifications-list {\n          flex-grow: 1; /* flex-grow */\n          overflow-y: auto; /* overflow-y-auto */\n        }\n\n        .notification-item {\n          padding: 1rem; /* p-4 */\n          border-bottom: 1px solid #4a5568; /* border-b border-gray-700 */\n        }\n        .notification-item:last-child {\n          border-bottom: none; /* last:border-b-0 */\n        }\n\n        .notification-new {\n          background-color: rgba(76, 209, 55, 0.15); /* bg-green-400/30 */\n        }\n\n        .notification-top-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 0.25rem; /* mb-1 */\n        }\n\n        .notification-title {\n          font-weight: 600; /* font-semibold */\n        }\n\n        .text-green {\n          color: #48bb78; /* text-green-400 */\n        }\n\n        .text-light-gray {\n          color: #e2e8f0; /* text-gray-200 */\n        }\n\n        .notification-time {\n          color: #a0aec0; /* text-gray-400 */\n          font-size: 0.875rem; /* text-sm */\n        }\n\n        .notification-from {\n          color: #cbd5e0; /* text-gray-300 */\n          font-size: 0.875rem; /* text-sm */\n          margin-bottom: 0.25rem; /* mb-1 */\n        }\n\n        .notification-sender {\n          font-weight: 500; /* font-medium */\n          color: #63b3ed; /* text-blue-300 */\n        }\n\n        .notification-comment {\n          color: #a0aec0; /* text-gray-400 */\n          font-size: 0.875rem; /* text-sm */\n          font-style: italic;\n        }\n\n        /* Custom scrollbar styles */\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 8px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #333;\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: #555;\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: #777;\n        }\n        "})]}):null};const hj=function(){const e=ne(),[n,r]=(0,t.useState)(!1),[s,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),u=(0,t.useRef)(null),d=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=Cy().currentUser;null!==e&&void 0!==e&&e.photoURL&&c(e.photoURL)},[]),(0,t.useEffect)(()=>{const e=e=>{s&&u.current&&!u.current.contains(e.target)&&i(!1),a&&d.current&&!d.current.contains(e.target)&&o(!1)},t=setTimeout(()=>{s||a?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e)},100);return()=>{clearTimeout(t),document.removeEventListener("mousedown",e)}},[s,a]),(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsxs)("nav",{className:"navbar",style:{position:"relative",zIndex:10},children:[(0,Tk.jsxs)("div",{className:"navbar-left",children:[(0,Tk.jsx)("img",{src:"/Vrumies/logo-black.png",alt:"Logo",className:"logo"}),(0,Tk.jsxs)("ul",{className:"nav-links",children:[(0,Tk.jsx)("li",{children:(0,Tk.jsx)(it,{to:"/videos",children:"Content"})}),(0,Tk.jsx)("li",{children:(0,Tk.jsx)(it,{to:"/request",children:"Requests"})}),(0,Tk.jsx)("li",{children:(0,Tk.jsx)(it,{to:"/market",children:"Market"})}),(0,Tk.jsx)("li",{children:(0,Tk.jsx)(it,{to:"/events",children:"Events"})}),(0,Tk.jsx)("li",{children:(0,Tk.jsx)(it,{to:"/directory",children:"Directory"})})]})]}),(0,Tk.jsxs)("div",{className:"navbar-buttons",children:[(0,Tk.jsx)("button",{onClick:()=>r(!0),children:(0,Tk.jsx)("img",{src:"/Vrumies/post.png",alt:"Post"})}),(0,Tk.jsx)("button",{type:"button",onClick:()=>e("/orders"),children:(0,Tk.jsx)("img",{src:"/Vrumies/orders.png",alt:"Orders"})}),(0,Tk.jsx)("button",{type:"button",onClick:()=>e("/cart"),children:(0,Tk.jsx)("img",{src:"/Vrumies/cart.png",alt:"Cart"})}),(0,Tk.jsx)("button",{type:"button",onClick:()=>e("/inbox"),children:(0,Tk.jsx)("img",{src:"/Vrumies/messages.png",alt:"Messages"})}),(0,Tk.jsx)("button",{type:"button",onClick:()=>e("/tokens"),children:(0,Tk.jsx)("img",{src:"/Vrumies/tokens.png",alt:"Tokens"})}),(0,Tk.jsx)("button",{className:"notifications-btn",onClick:e=>{e.stopPropagation(),o(!a),a||i(!1)},children:(0,Tk.jsx)("img",{src:"/Vrumies/notifications.png",alt:"Notifications"})}),(0,Tk.jsxs)("button",{className:"profile-btn",onClick:e=>{e.stopPropagation(),i(!s),s||o(!1)},children:[(0,Tk.jsx)("img",{src:"/Vrumies/profile.png",alt:"Profile"}),l&&(0,Tk.jsx)("img",{src:l,alt:"User",className:"profile-photo"})]})]}),s&&(0,Tk.jsx)("div",{ref:u,style:{position:"absolute",right:"20px",top:"100%",zIndex:1e3},children:(0,Tk.jsx)(uj,{})}),a&&(0,Tk.jsx)("div",{ref:d,style:{position:"absolute",right:"20px",top:"100%",zIndex:1e3,transform:"translateY(10px)"},children:(0,Tk.jsx)(dj,{isOpen:a,onClose:()=>o(!1)})})]}),(0,Tk.jsx)(Pk,{isOpen:n,onClose:()=>r(!1)})]})},pj={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://cdn.skoda-storyboard.com/2018/08/influencer-bloger-event-skoda-classic-car.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},nav:{marginTop:"40px"},navList:{listStyle:"none",padding:0,display:"flex",gap:"30px",fontWeight:"700",fontSize:"20px"},navItem:{color:"#aaa",cursor:"pointer"},activeNavItem:{color:"#00FF00",fontWeight:"900",borderBottom:"2px solid #00FF00",paddingBottom:"4px"},bottomBar:{marginTop:"30px",display:"flex",alignItems:"center",gap:"15px"},locationButton:{border:"1px solid #00FF00",background:"black",color:"#00FF00",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},select:{border:"1px solid #00FF00",background:"black",color:"#fff",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},searchInput:{flexGrow:1,padding:"8px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:"#111",color:"#fff"}},fj=()=>(0,Tk.jsxs)("div",{style:{...pj.container,height:"260px"},children:[(0,Tk.jsxs)("div",{style:pj.leftSide,children:[(0,Tk.jsx)("h1",{style:pj.title,children:(0,Tk.jsx)("span",{style:pj.greenHighlight,children:"VIDEO POSTS"})}),(0,Tk.jsx)("p",{style:pj.subtitle,children:"PROMOTE AND SHARE YOUR AUTOMOTIVE CONTENT"})]}),(0,Tk.jsx)("div",{style:pj.rightSide,children:(0,Tk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Tk.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})}),(0,Tk.jsx)("nav",{style:pj.nav,children:(0,Tk.jsxs)("ul",{style:pj.navList,children:[(0,Tk.jsx)("li",{style:{...pj.navItem,...pj.activeNavItem},children:"Videos"}),(0,Tk.jsx)("li",{style:pj.navItem,children:(0,Tk.jsx)(it,{to:"/blogs",style:{color:"white",textDecoration:"none"},children:"Blogs"})}),(0,Tk.jsx)("li",{style:pj.navItem,children:(0,Tk.jsx)(it,{to:"/forums",style:{color:"white",textDecoration:"none"},children:"Forums"})}),(0,Tk.jsx)("li",{style:pj.navItem,children:(0,Tk.jsx)(it,{to:"/vehicles",style:{color:"white",textDecoration:"none"},children:"Vehicles"})})]})}),(0,Tk.jsxs)("div",{style:pj.bottomBar,children:[(0,Tk.jsxs)("button",{style:pj.locationButton,children:[(0,Tk.jsx)("span",{role:"img","aria-label":"location",children:"\ud83d\udccd"})," Location of Post"]}),(0,Tk.jsxs)("select",{style:pj.select,children:[(0,Tk.jsx)("option",{children:"Filter Options \u25bc"}),(0,Tk.jsx)("option",{children:"Option 1"}),(0,Tk.jsx)("option",{children:"Option 2"})]}),(0,Tk.jsxs)("select",{style:pj.select,children:[(0,Tk.jsx)("option",{children:"Sort By Best Match \u25bc"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Oldest"})]}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",style:pj.searchInput})]})]});const mj=function(e){let{id:n,image:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/videopost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r||"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const gj=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(mj,{...e,compact:!0},e.id||t))})]})};const vj=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/videopost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(mj,{...e})})},e.id||t))})},yj=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","video")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching video posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(fj,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No videos yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(vj,{posts:e}),(0,Tk.jsx)(gj,{posts:e})]})})]})},bj=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Tk.jsxs)("div",{className:"requests-header-container",children:[(0,Tk.jsxs)("div",{className:"left-side",children:[(0,Tk.jsx)("h1",{className:"title",children:(0,Tk.jsx)("span",{className:"green-highlight",children:"REQUEST POSTS"})}),(0,Tk.jsx)("p",{className:"subtitle",children:"MAKE A REQUEST POST TO ALL USERS FOR THE AUTOMOTIVE PRODUCTS OR SERVICES YOU ARE LOOKING FOR"})]}),(0,Tk.jsx)("div",{className:"right-side",children:(0,Tk.jsx)("img",{src:"/Vrumies/request-icon.png",alt:"Events Icon",width:"70",height:"70",className:"events-icon"})}),(0,Tk.jsxs)("div",{className:"bottom-bar",children:[(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Location of Post"}),(0,Tk.jsxs)("select",{className:"select location-select",value:e,onChange:e=>n(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Houston, TX"}),(0,Tk.jsx)("option",{children:"Dallas, TX"}),(0,Tk.jsx)("option",{children:"San Antonio, TX"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Filter Options"}),(0,Tk.jsxs)("select",{className:"select filter-select",value:r,onChange:e=>s(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Today"}),(0,Tk.jsx)("option",{children:"This Week"}),(0,Tk.jsx)("option",{children:"This Month"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Sort By"}),(0,Tk.jsxs)("select",{className:"select sort-select",value:i,onChange:e=>a(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Likes"}),(0,Tk.jsx)("option",{children:"Highest Rating"})]})]}),(0,Tk.jsxs)("div",{className:"search-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Search"}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",className:"search-input",value:o,onChange:e=>l(e.target.value)})]})]})]})};const xj=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/requestpost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const wj=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(xj,{...e,compact:!0},e.id||t))})]})};const kj=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/requestpost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(xj,{...e})})},e.id||t))})},jj=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","request")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching event posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(bj,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No request posts yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(kj,{posts:e}),(0,Tk.jsx)(wj,{posts:e})]})})]})},Nj=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Tk.jsxs)("div",{className:"market-header-container",children:[(0,Tk.jsxs)("div",{className:"left-side",children:[(0,Tk.jsx)("h1",{className:"title",children:(0,Tk.jsx)("span",{className:"green-highlight",children:"MARKET POSTS"})}),(0,Tk.jsx)("p",{className:"subtitle",children:"MAKE A MARKET POST TO PROMOTE YOUR AUTOMOTIVE PRODUCTS"})]}),(0,Tk.jsx)("div",{className:"right-side",children:(0,Tk.jsx)("img",{src:"/Vrumies/category-icons/market.png",alt:"Events Icon",width:"70",height:"70",className:"events-icon"})}),(0,Tk.jsxs)("div",{className:"bottom-bar",children:[(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Location of Post"}),(0,Tk.jsxs)("select",{className:"select location-select",value:e,onChange:e=>n(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Houston, TX"}),(0,Tk.jsx)("option",{children:"Dallas, TX"}),(0,Tk.jsx)("option",{children:"San Antonio, TX"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Filter Options"}),(0,Tk.jsxs)("select",{className:"select filter-select",value:r,onChange:e=>s(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Today"}),(0,Tk.jsx)("option",{children:"This Week"}),(0,Tk.jsx)("option",{children:"This Month"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Sort By"}),(0,Tk.jsxs)("select",{className:"select sort-select",value:i,onChange:e=>a(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Likes"}),(0,Tk.jsx)("option",{children:"Highest Rating"})]})]}),(0,Tk.jsxs)("div",{className:"search-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Search"}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",className:"search-input",value:o,onChange:e=>l(e.target.value)})]})]})]})};const Sj=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/marketpost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const Ej=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(Sj,{...e,compact:!0},e.id||t))})]})};const Cj=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/marketpost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(Sj,{...e})})},e.id||t))})},_j=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","market")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching event posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(Nj,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No market posts yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(Cj,{posts:e}),(0,Tk.jsx)(Ej,{posts:e})]})})]})},Tj=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Tk.jsxs)("div",{className:"events-header-container",children:[(0,Tk.jsxs)("div",{className:"left-side",children:[(0,Tk.jsx)("h1",{className:"title",children:(0,Tk.jsx)("span",{className:"green-highlight",children:"EVENT POSTS"})}),(0,Tk.jsx)("p",{className:"subtitle",children:"PROMOTE AND SHARE YOUR AUTOMOTIVE EVENTS"})]}),(0,Tk.jsx)("div",{className:"right-side",children:(0,Tk.jsx)("img",{src:"/Vrumies/category-icons/event.png",alt:"Events Icon",width:"70",height:"70",className:"events-icon"})}),(0,Tk.jsxs)("div",{className:"bottom-bar",children:[(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Location of Post"}),(0,Tk.jsxs)("select",{className:"select location-select",value:e,onChange:e=>n(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Houston, TX"}),(0,Tk.jsx)("option",{children:"Dallas, TX"}),(0,Tk.jsx)("option",{children:"San Antonio, TX"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Filter Options"}),(0,Tk.jsxs)("select",{className:"select filter-select",value:r,onChange:e=>s(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Today"}),(0,Tk.jsx)("option",{children:"This Week"}),(0,Tk.jsx)("option",{children:"This Month"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Sort By"}),(0,Tk.jsxs)("select",{className:"select sort-select",value:i,onChange:e=>a(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Likes"}),(0,Tk.jsx)("option",{children:"Highest Rating"})]})]}),(0,Tk.jsxs)("div",{className:"search-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Search"}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",className:"search-input",value:o,onChange:e=>l(e.target.value)})]})]})]})};const Ij=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/eventpost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const Aj=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(Ij,{...e,compact:!0},e.id||t))})]})};const Pj=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/eventpost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(Ij,{...e})})},e.id||t))})},Rj=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","event")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching event posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(Tj,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No events yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(Pj,{posts:e}),(0,Tk.jsx)(Aj,{posts:e})]})})]})},Dj=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Tk.jsxs)("div",{className:"directory-header-container",children:[(0,Tk.jsxs)("div",{className:"left-side",children:[(0,Tk.jsx)("h1",{className:"title",children:(0,Tk.jsx)("span",{className:"green-highlight",children:"DIRECTORY POSTS"})}),(0,Tk.jsx)("p",{className:"subtitle",children:"MAKE A DIRECTORY POST TO PROMOTE YOUR AUTOMOTIVE SERVICES"})]}),(0,Tk.jsx)("div",{className:"right-side",children:(0,Tk.jsx)("img",{src:"/Vrumies/category-icons/directory.png",alt:"Events Icon",width:"70",height:"70",className:"events-icon"})}),(0,Tk.jsxs)("div",{className:"bottom-bar",children:[(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Location of Post"}),(0,Tk.jsxs)("select",{className:"select location-select",value:e,onChange:e=>n(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Houston, TX"}),(0,Tk.jsx)("option",{children:"Dallas, TX"}),(0,Tk.jsx)("option",{children:"San Antonio, TX"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Filter Options"}),(0,Tk.jsxs)("select",{className:"select filter-select",value:r,onChange:e=>s(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Today"}),(0,Tk.jsx)("option",{children:"This Week"}),(0,Tk.jsx)("option",{children:"This Month"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Sort By"}),(0,Tk.jsxs)("select",{className:"select sort-select",value:i,onChange:e=>a(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Likes"}),(0,Tk.jsx)("option",{children:"Highest Rating"})]})]}),(0,Tk.jsxs)("div",{className:"search-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Search"}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",className:"search-input",value:o,onChange:e=>l(e.target.value)})]})]})]})};const Oj=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/directorypost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const Lj=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(Oj,{...e,compact:!0},e.id||t))})]})};const Mj=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/directorypost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(Oj,{...e})})},e.id||t))})},Fj=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","directory")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching directory posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(Dj,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No directory posts yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(Mj,{posts:e}),(0,Tk.jsx)(Lj,{posts:e})]})})]})};const Uj=function(){const{id:e}=re(),[n,r]=(0,t.useState)(null),[s,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const t=Fp(ox,"Posts",e),n=await Hf(t);if(n.exists()&&"video"===n.data().type){const e=n.data();r(e.image||null),i(e.video||null)}else r(null),i(null)}catch(t){console.error("Error fetching post data:",t),r(null),i(null)}finally{c(!1)}})()},[e]),l?(0,Tk.jsx)("div",{className:"video-banner-container",children:"Loading..."}):n||s?(0,Tk.jsx)("div",{className:"video-banner-container",onClick:a?void 0:()=>{s&&o(!0)},children:(0,Tk.jsx)("div",{className:"video-banner-inner",children:a?(0,Tk.jsxs)("video",{className:"video-banner-image",controls:!0,autoPlay:!0,children:[(0,Tk.jsx)("source",{src:s,type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)("img",{src:n,alt:"Video Banner",className:"video-banner-image"}),(0,Tk.jsx)("div",{className:"video-banner-play",children:(0,Tk.jsxs)("svg",{viewBox:"0 0 100 100",width:"80",height:"80",fill:"white",stroke:"black",strokeWidth:"5",children:[(0,Tk.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"white"}),(0,Tk.jsx)("polygon",{points:"40,30 70,50 40,70",fill:"black"})]})})]})})}):(0,Tk.jsx)("div",{className:"video-banner-container",children:"Post not found."})};const Vj=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},zj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},Bj=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var $j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qj=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...u}=e;return(0,t.createElement)("svg",{ref:n,...$j,width:s,height:s,stroke:r,strokeWidth:a?24*Number(i)/Number(s):i,className:zj("lucide",o),...!l&&!Bj(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),Hj=(e,n)=>{const r=(0,t.forwardRef)((r,s)=>{let{className:i,...a}=r;return(0,t.createElement)(qj,{ref:s,iconNode:n,className:zj(`lucide-${o=Vj(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...a});var o});return r.displayName=Vj(e),r},Wj=Hj("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Gj=Hj("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Kj=Hj("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),Jj=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)("Unknown"),[u,d]=(0,t.useState)("/Vrumies/default-profile.png"),[h,p]=(0,t.useState)(0),[f,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{try{const t=Fp(ox,"Posts",e),n=await Hf(t);if(n.exists()&&"video"===n.data().type){const e=n.data();r(e.title||"Untitled Video"),i(e.description||"No description available.");const t=e.createdAt;v(null!==t&&void 0!==t&&t.toDate?t.toDate().toLocaleDateString():"Unknown Date");const s=e.city||"",a=e.state||"";m(s&&a?`${s}, ${a}`:s||a);const o=e.userId;if(o){const e=Fp(ox,"Users",o),t=await Hf(e);if(t.exists()){const e=t.data();c(e.username||"Unknown"),d(e.profilepic||"/Vrumies/default-profile.png"),p(e.reviews||0)}}}else r("Post Not Found"),i("Post not found or not a video.")}catch(t){console.error("Error fetching description:",t),r("Error"),i("Error loading description.")}finally{o(!1)}})()},[e]),a?(0,Tk.jsx)("p",{className:"video-text-area",children:"Loading description..."}):(0,Tk.jsxs)("div",{className:"video-text-area",children:[(0,Tk.jsxs)("div",{className:"video-top-row",children:[(0,Tk.jsx)("div",{className:"video-top-left",children:"VRUMIES / VIDEOS"}),(0,Tk.jsx)("div",{className:"video-top-center",children:f}),(0,Tk.jsxs)("div",{className:"video-top-right",children:["Date Posted: ",g]})]}),(0,Tk.jsx)("div",{className:"video-title-container",children:(0,Tk.jsx)("h2",{className:"video-title",children:n})}),(0,Tk.jsxs)("div",{className:"video-text-top",children:[(0,Tk.jsxs)("div",{className:"video-user-info",children:[(0,Tk.jsx)("img",{src:u,alt:"User",className:"user-avatar"}),(0,Tk.jsxs)("div",{className:"user-details",children:[(0,Tk.jsx)("div",{className:"user-name",children:l}),(0,Tk.jsxs)("div",{className:"user-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<h?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[h," Reviews"]})]})]})]}),(0,Tk.jsxs)("div",{className:"video-user-actions",children:[(0,Tk.jsx)("button",{className:"follow-btn "+(y?"follow-active":""),onClick:()=>{b(!y)},children:y?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"message-btn",onClick:()=>{alert(`Messaging ${l}...`)},children:"Message User"})]})]}),(0,Tk.jsx)("p",{children:s}),(0,Tk.jsxs)("div",{className:"video-text-actions",children:[(0,Tk.jsxs)("button",{className:"video-action-btn",children:[(0,Tk.jsx)(Wj,{size:16,color:"#00ff00"}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"video-action-btn",children:[(0,Tk.jsx)(Gj,{size:16,color:"#00ff00"}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"video-action-btn",children:[(0,Tk.jsx)(Kj,{size:16,color:"#00ff00"}),"REPORT"]})]})]})};const Yj=function(){var e,n;const{id:r}=re(),[s,i]=(0,t.useState)(""),[a,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(null);if((0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void d({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?d({uid:e.uid}):d({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else d(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=Xf(Fp(ox,"Posts",r),e=>{e.exists()&&p({id:e.id,...e.data()})});return()=>e()},[r]),(0,t.useEffect)(()=>{if(!r)return;(async()=>{c(!0);try{const e=Mp(ox,"Posts",r,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));o(t)}catch(e){console.error("Error fetching comments:",e),o([])}finally{c(!1)}})()},[r]),!r)return(0,Tk.jsx)("div",{style:{color:"white"},children:"Error: postId not found in URL."});const f=async e=>{if(!u)return void alert("You must be signed in to vote.");const t=u.uid,n=Fp(ox,"Posts",r);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const r=await Hf(n);if(r.exists()){var s,i;const e=r.data();await Jf(n,{likesCounter:(null===(s=e.likes)||void 0===s?void 0:s.length)||0,dislikesCounter:(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0})}}catch(a){console.error("Error updating vote:",a)}},m=null===u||void 0===u?void 0:u.uid,g=(null===h||void 0===h?void 0:h.likes)||[],v=(null===h||void 0===h?void 0:h.dislikes)||[],y=m&&g.includes(m),b=m&&v.includes(m);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(y?"active":""),onClick:()=>f("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(e=null===h||void 0===h?void 0:h.likesCounter)&&void 0!==e?e:g.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(b?"active":""),onClick:()=>f("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(n=null===h||void 0===h?void 0:h.dislikesCounter)&&void 0!==n?n:v.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===u||void 0===u?void 0:u.profilepic)||"/Vrumies/default-profile.png",alt:(null===u||void 0===u?void 0:u.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===u||void 0===u?void 0:u.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:s,onChange:e=>{e.target.value.length<=130&&i(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==s.trim())try{if(!lx.currentUser||!u)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",r,"comments"),t={name:u.username||"Unknown User",avatar:u.profilepic||"/Vrumies/default-profile.png",text:s,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),o(e=>[t,...e]),i("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),l?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===a.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):a.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},Qj=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","video")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading videos..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Videos"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(mj,{...e},e.id))})]})},Xj=()=>(0,Tk.jsxs)("div",{className:"bottom-section-container",children:[(0,Tk.jsxs)("div",{className:"bottom-section-main-content",children:[(0,Tk.jsx)(Jj,{}),(0,Tk.jsx)(Yj,{})]}),(0,Tk.jsx)("div",{className:"bottom-section-side-panel",children:(0,Tk.jsx)(Qj,{})})]}),Zj=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://cdn.skoda-storyboard.com/2018/08/influencer-bloger-event-skoda-classic-car.jpg');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Video Post"})]}),eN=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0),[s,i]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"video"===n.data().type||(console.warn("Post not found or not a video"),i(!1))}catch(t){console.error("Error fetching post:",t),i(!1)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):s?(0,Tk.jsxs)("div",{className:"video-main-page",children:[(0,Tk.jsx)(Zj,{postId:e}),(0,Tk.jsx)(Uj,{postId:e}),(0,Tk.jsx)(Xj,{postId:e})]}):(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."})},tN={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://www.datapath.co.uk/wp-content/uploads/CCTV-control-room-2.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},bottomBar:{marginTop:"94px",display:"flex",alignItems:"center",gap:"15px"},locationButton:{border:"1px solid #00FF00",background:"black",color:"#00FF00",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},select:{border:"1px solid #00FF00",background:"black",color:"#fff",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},searchInput:{flexGrow:1,padding:"8px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:"#111",color:"#fff"}},nN=()=>(0,Tk.jsxs)("div",{style:{...tN.container,height:"260px",minHeight:void 0},children:[(0,Tk.jsxs)("div",{style:tN.leftSide,children:[(0,Tk.jsx)("h1",{style:tN.title,children:(0,Tk.jsx)("span",{style:tN.greenHighlight,children:"ADMIN PANEL"})}),(0,Tk.jsx)("p",{style:tN.subtitle,children:"Moderation and database editing."})]}),(0,Tk.jsx)("div",{style:tN.rightSide,children:(0,Tk.jsx)("img",{src:"/Vrumies/request-icon.png",alt:"Market Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})}),(0,Tk.jsxs)("div",{style:tN.bottomBar,children:[(0,Tk.jsxs)("button",{style:tN.locationButton,children:[(0,Tk.jsx)("span",{role:"img","aria-label":"location",children:"\ud83d\udccd"})," Location of Post"]}),(0,Tk.jsxs)("select",{style:tN.select,children:[(0,Tk.jsx)("option",{children:"Filter Options \u25bc"}),(0,Tk.jsx)("option",{children:"Option 1"}),(0,Tk.jsx)("option",{children:"Option 2"})]}),(0,Tk.jsxs)("select",{style:tN.select,children:[(0,Tk.jsx)("option",{children:"Sort By Best Match \u25bc"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Oldest"})]}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",style:tN.searchInput})]})]}),rN=[{key:"videoPosts",label:"Delete VideoCollection"},{key:"blogPosts",label:"Delete BlogCollection"},{key:"forumPosts",label:"Delete ForumCollection"},{key:"requestPosts",label:"Delete RequestCollection"},{key:"vehiclePosts",label:"Delete VehicleCollection"},{key:"marketPosts",label:"Delete MarketCollection"},{key:"eventPosts",label:"Delete EventCollection"},{key:"directoryPosts",label:"Delete DirectoryCollection"},{key:"Posts",label:"Delete PostsCollection"},{key:"Orders",label:"Delete OrdersCollection"}];function sN(){const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)(null);async function o(e){n(e),s(null),a(null);try{const r=Mp(ox,e),s=await Gf(r);if(s.empty)return a(`${e} is already empty!`),void n(null);const i=(qp(t=Yi(t=ox,$p)),new tm(t,e=>Zf(t,e)));s.docs.forEach(t=>{i.delete(Fp(ox,e,t.id))}),await i.commit(),a(`Deleted all documents in ${e}`)}catch(r){console.error(r),s(`Failed to delete ${e}: ${r.message}`)}finally{n(null)}var t}return(0,Tk.jsxs)("div",{style:{padding:20,backgroundColor:"#222",color:"white"},children:[(0,Tk.jsx)("h2",{children:"Delete Firestore Collections"}),rN.map(t=>{let{key:n,label:r}=t;return(0,Tk.jsx)("button",{onClick:()=>o(n),disabled:e===n,style:{backgroundColor:"red",color:"white",padding:"10px 20px",margin:"10px",border:"none",cursor:"pointer",opacity:e===n?.6:1},children:e===n?`Deleting ${r}...`:r},n)}),r&&(0,Tk.jsxs)("p",{style:{color:"orange",marginTop:20},children:[(0,Tk.jsx)("strong",{children:"Error:"})," ",r]}),i&&(0,Tk.jsxs)("p",{style:{color:"lightgreen",marginTop:20},children:[(0,Tk.jsx)("strong",{children:"Success:"})," ",i]})]})}const iN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Users"],t={};for(const n of e){const e=Mp(ox,n),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const aN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Tf(Mp(ox,n),Af("type","==","video")),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const oN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Tf(Mp(ox,n),Af("type","==","blog")),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const lN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Tf(Mp(ox,n),Af("type","==","forum")),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const cN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Tf(Mp(ox,n),Af("type","==","request")),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const uN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Tf(Mp(ox,n),Af("type","==","market")),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const dN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Tf(Mp(ox,n),Af("type","==","event")),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const hN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Tf(Mp(ox,n),Af("type","==","directory")),r=await Gf(e);t[n]=r.docs.map(e=>({id:e.id,...e.data()}))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Database Contents"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const pN=function(){const[e,n]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Mp(ox,n),r=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()})).filter(e=>Array.isArray(e.report)&&e.report.length>0);t[n]=r}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Reported Posts"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const fN=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null);return(0,t.useEffect)(()=>{!async function(){try{const e=Mp(ox,"Orders"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching orders:",e),a(e.message)}finally{s(!1)}}()},[]),r?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading Orders..."}):i?(0,Tk.jsxs)("p",{style:{color:"red"},children:["Error: ",i]}):(0,Tk.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Tk.jsx)("h1",{children:"Firestore Orders"}),(0,Tk.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const mN=function(){const[e,n]=(0,t.useState)("Users");return(0,Tk.jsxs)("div",{style:{padding:20,background:"#111",color:"white"},children:[(0,Tk.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:["Users","Videos","Blogs","Forums","Requests","Market","Events","Directory","Reports","Orders"].map(t=>(0,Tk.jsx)("button",{onClick:()=>n(t),style:{padding:"10px 15px",borderRadius:"8px",border:"none",cursor:"pointer",background:e===t?"#444":"#222",color:"white",fontWeight:e===t?"bold":"normal"},children:t},t))}),(0,Tk.jsx)("div",{children:(()=>{switch(e){case"Users":return(0,Tk.jsx)(iN,{});case"Videos":return(0,Tk.jsx)(aN,{});case"Blogs":return(0,Tk.jsx)(oN,{});case"Forums":return(0,Tk.jsx)(lN,{});case"Requests":return(0,Tk.jsx)(cN,{});case"Market":return(0,Tk.jsx)(uN,{});case"Events":return(0,Tk.jsx)(dN,{});case"Directory":return(0,Tk.jsx)(hN,{});case"Reports":return(0,Tk.jsx)(pN,{});case"Orders":return(0,Tk.jsx)(fN,{});default:return null}})()})]})},gN=()=>(0,Tk.jsxs)("div",{className:"content-page",children:[(0,Tk.jsx)(nN,{}),(0,Tk.jsx)(mN,{}),(0,Tk.jsx)(sN,{})]}),vN={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://blog.shift4shop.com/hubfs/How%20to%20Manage%20an%20eCommerce%20Blog.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"2px 2px 6px #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},nav:{marginTop:"40px"},navList:{listStyle:"none",padding:0,display:"flex",gap:"30px",fontWeight:"700",fontSize:"20px"},navItem:{color:"#aaa",cursor:"pointer"},activeNavItem:{color:"#00FF00",fontWeight:"900",borderBottom:"2px solid #00FF00",paddingBottom:"4px"},bottomBar:{marginTop:"30px",display:"flex",alignItems:"center",gap:"15px"},locationButton:{border:"1px solid #00FF00",background:"black",color:"#00FF00",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},select:{border:"1px solid #00FF00",background:"black",color:"#fff",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},searchInput:{flexGrow:1,padding:"8px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:"#111",color:"#fff"}},yN=()=>(0,Tk.jsxs)("div",{style:{...vN.container,height:"260px"},children:[(0,Tk.jsxs)("div",{style:vN.leftSide,children:[(0,Tk.jsx)("h1",{style:vN.title,children:(0,Tk.jsx)("span",{style:vN.greenHighlight,children:"BLOG POSTS"})}),(0,Tk.jsx)("p",{style:vN.subtitle,children:"PROMOTE AND SHARE YOUR AUTOMOTIVE CONTENT"})]}),(0,Tk.jsx)("div",{style:vN.rightSide,children:(0,Tk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Tk.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})}),(0,Tk.jsx)("nav",{style:vN.nav,children:(0,Tk.jsxs)("ul",{style:vN.navList,children:[(0,Tk.jsx)("li",{style:vN.navItem,children:(0,Tk.jsx)(it,{to:"/videos",style:{color:"white",textDecoration:"none"},children:"Videos"})}),(0,Tk.jsx)("li",{style:{...vN.navItem,...vN.activeNavItem},children:"Blogs"}),(0,Tk.jsx)("li",{style:vN.navItem,children:(0,Tk.jsx)(it,{to:"/forums",style:{color:"white",textDecoration:"none"},children:"Forums"})}),(0,Tk.jsx)("li",{style:vN.navItem,children:(0,Tk.jsx)(it,{to:"/vehicles",style:{color:"white",textDecoration:"none"},children:"Vehicles"})})]})}),(0,Tk.jsxs)("div",{style:vN.bottomBar,children:[(0,Tk.jsxs)("button",{style:vN.locationButton,children:[(0,Tk.jsx)("span",{role:"img","aria-label":"location",children:"\ud83d\udccd"})," Location of Post"]}),(0,Tk.jsxs)("select",{style:vN.select,children:[(0,Tk.jsx)("option",{children:"Filter Options \u25bc"}),(0,Tk.jsx)("option",{children:"Option 1"}),(0,Tk.jsx)("option",{children:"Option 2"})]}),(0,Tk.jsxs)("select",{style:vN.select,children:[(0,Tk.jsx)("option",{children:"Sort By Best Match \u25bc"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Oldest"})]}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",style:vN.searchInput})]})]});const bN=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/blogpost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const xN=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(bN,{...e,compact:!0},e.id||t))})]})};const wN=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/blogpost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(bN,{...e})})},e.id||t))})},kN=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","blog")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching event posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(yN,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No blog posts yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(wN,{posts:e}),(0,Tk.jsx)(xN,{posts:e})]})})]})},jN={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://hips.hearstapps.com/autoweek/assets/craing_0.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},nav:{marginTop:"40px"},navList:{listStyle:"none",padding:0,display:"flex",gap:"30px",fontWeight:"700",fontSize:"20px"},navItem:{color:"#aaa",cursor:"pointer"},activeNavItem:{color:"#00FF00",fontWeight:"900",borderBottom:"2px solid #00FF00",paddingBottom:"4px"},bottomBar:{marginTop:"30px",display:"flex",alignItems:"center",gap:"15px"},locationButton:{border:"1px solid #00FF00",background:"black",color:"#00FF00",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},select:{border:"1px solid #00FF00",background:"black",color:"#fff",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},searchInput:{flexGrow:1,padding:"8px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:"#111",color:"#fff"}},NN=()=>(0,Tk.jsxs)("div",{style:{...jN.container,height:"260px"},children:[(0,Tk.jsxs)("div",{style:jN.leftSide,children:[(0,Tk.jsx)("h1",{style:jN.title,children:(0,Tk.jsx)("span",{style:jN.greenHighlight,children:"VEHICLE POSTS"})}),(0,Tk.jsx)("p",{style:jN.subtitle,children:"PROMOTE AND SHARE YOUR AUTOMOTIVE CONTENT"})]}),(0,Tk.jsx)("div",{style:jN.rightSide,children:(0,Tk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Tk.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})}),(0,Tk.jsx)("nav",{style:jN.nav,children:(0,Tk.jsxs)("ul",{style:jN.navList,children:[(0,Tk.jsx)("li",{style:jN.navItem,children:(0,Tk.jsx)(it,{to:"/videos",style:{color:"white",textDecoration:"none"},children:"Videos"})}),(0,Tk.jsx)("li",{style:jN.navItem,children:(0,Tk.jsx)(it,{to:"/blogs",style:{color:"white",textDecoration:"none"},children:"Blogs"})}),(0,Tk.jsx)("li",{style:jN.navItem,children:(0,Tk.jsx)(it,{to:"/forums",style:{color:"white",textDecoration:"none"},children:"Forums"})}),(0,Tk.jsx)("li",{style:{...jN.navItem,...jN.activeNavItem},children:"Vehicles"})]})}),(0,Tk.jsxs)("div",{style:jN.bottomBar,children:[(0,Tk.jsxs)("button",{style:jN.locationButton,children:[(0,Tk.jsx)("span",{role:"img","aria-label":"location",children:"\ud83d\udccd"})," Location of Post"]}),(0,Tk.jsxs)("select",{style:jN.select,children:[(0,Tk.jsx)("option",{children:"Filter Options \u25bc"}),(0,Tk.jsx)("option",{children:"Option 1"}),(0,Tk.jsx)("option",{children:"Option 2"})]}),(0,Tk.jsxs)("select",{style:jN.select,children:[(0,Tk.jsx)("option",{children:"Sort By Best Match \u25bc"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Oldest"})]}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",style:jN.searchInput})]})]});const SN=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/vehiclepost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const EN=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(SN,{...e,compact:!0},e.id||t))})]})};const CN=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/vehiclepost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(SN,{...e})})},e.id||t))})},_N=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","vehicle")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching event posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(NN,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No vehicle posts yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(CN,{posts:e}),(0,Tk.jsx)(EN,{posts:e})]})})]})},TN={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://www.mauth.cc/wp-content/uploads/2024/01/Depositphotos_91312248_L.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},nav:{marginTop:"40px"},navList:{listStyle:"none",padding:0,display:"flex",gap:"30px",fontWeight:"700",fontSize:"20px"},navItem:{color:"#aaa",cursor:"pointer"},activeNavItem:{color:"#00FF00",fontWeight:"900",borderBottom:"2px solid #00FF00",paddingBottom:"4px"},bottomBar:{marginTop:"30px",display:"flex",alignItems:"center",gap:"15px"},locationButton:{border:"1px solid #00FF00",background:"black",color:"#00FF00",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},select:{border:"1px solid #00FF00",background:"black",color:"#fff",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},searchInput:{flexGrow:1,padding:"8px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:"#111",color:"#fff"}},IN=()=>(0,Tk.jsxs)("div",{style:{...TN.container,height:"260px"},children:[(0,Tk.jsxs)("div",{style:TN.leftSide,children:[(0,Tk.jsx)("h1",{style:TN.title,children:(0,Tk.jsx)("span",{style:TN.greenHighlight,children:"FORUM POSTS"})}),(0,Tk.jsx)("p",{style:TN.subtitle,children:"PROMOTE AND SHARE YOUR AUTOMOTIVE CONTENT"})]}),(0,Tk.jsx)("div",{style:TN.rightSide,children:(0,Tk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Tk.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})}),(0,Tk.jsx)("nav",{style:TN.nav,children:(0,Tk.jsxs)("ul",{style:TN.navList,children:[(0,Tk.jsx)("li",{style:TN.navItem,children:(0,Tk.jsx)(it,{to:"/videos",style:{color:"white",textDecoration:"none"},children:"Videos"})}),(0,Tk.jsx)("li",{style:TN.navItem,children:(0,Tk.jsx)(it,{to:"/blogs",style:{color:"white",textDecoration:"none"},children:"Blogs"})}),(0,Tk.jsx)("li",{style:{...TN.navItem,...TN.activeNavItem},children:"Forums"}),(0,Tk.jsx)("li",{style:TN.navItem,children:(0,Tk.jsx)(it,{to:"/vehicles",style:{color:"white",textDecoration:"none"},children:"Vehicles"})})]})}),(0,Tk.jsxs)("div",{style:TN.bottomBar,children:[(0,Tk.jsxs)("button",{style:TN.locationButton,children:[(0,Tk.jsx)("span",{role:"img","aria-label":"location",children:"\ud83d\udccd"})," Location of Post"]}),(0,Tk.jsxs)("select",{style:TN.select,children:[(0,Tk.jsx)("option",{children:"Filter Options \u25bc"}),(0,Tk.jsx)("option",{children:"Option 1"}),(0,Tk.jsx)("option",{children:"Option 2"})]}),(0,Tk.jsxs)("select",{style:TN.select,children:[(0,Tk.jsx)("option",{children:"Sort By Best Match \u25bc"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Oldest"})]}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",style:TN.searchInput})]})]});const AN=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/forumpost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const PN=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(AN,{...e,compact:!0},e.id||t))})]})};const RN=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/forumpost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(AN,{...e})})},e.id||t))})},DN=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","forum")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching event posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(IN,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No forum posts yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(RN,{posts:e}),(0,Tk.jsx)(PN,{posts:e})]})})]})},ON={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://completebusinessgroup.com/wp-content/uploads/2017/08/orders-post.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden",minHeight:"260px"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left"},greenHighlight:{color:"#00FF00",textShadow:"2px 2px 6px #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px rgba(0,0,0,0.6)"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8}},LN=()=>(0,Tk.jsxs)("div",{style:ON.container,children:[(0,Tk.jsxs)("div",{style:ON.leftSide,children:[(0,Tk.jsx)("h1",{style:ON.title,children:(0,Tk.jsx)("span",{style:ON.greenHighlight,children:"ORDERS"})}),(0,Tk.jsx)("p",{style:ON.subtitle,children:"View and track your orders here."})]}),(0,Tk.jsx)("div",{style:ON.rightSide,children:(0,Tk.jsx)("img",{src:"/Vrumies/request-icon.png",alt:"OrdersPage Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})})]}),MN=(0,t.createContext)();function FN(){return(0,t.useContext)(MN)}function UN(e){let{children:n}=e;const[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0);(0,t.useEffect)(()=>iv(lx,e=>{s(e),a(!1)}),[]);const o={currentUser:r,signInWithGoogle:async()=>{const e=new Jg;try{await $v(lx,e)}catch(t){console.error("Google sign-in error:",t)}},logout:()=>function(e){return Kt(e).signOut()}(lx)};return(0,Tk.jsx)(MN.Provider,{value:o,children:!i&&n})}function VN(e){let{orderId:n}=e;const[r,s]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,r,i,a,o;const l=Fp(ox,"Orders",n),c=await Hf(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",f=!0===(null===u||void 0===u||null===(r=u.buyerInfo)||void 0===r?void 0:r.buyerDispute),m=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";f||m?y="dispute":!f&&!m&&g&&v&&(y="completed"),s({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)("div",{className:"market-card-title",children:r.title}),(0,Tk.jsxs)("div",{className:"market-card-bottom",children:[(0,Tk.jsx)("span",{className:"market-card-type",children:r.type}),(0,Tk.jsx)("span",{className:"market-card-date",children:r.date}),(0,Tk.jsx)("span",{className:`market-card-status status-${r.status.replace(" ","-")}`,children:r.status})]})]})}function zN(e){let{orderId:n}=e;const[r,s]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,r,i,a,o;const l=Fp(ox,"Orders",n),c=await Hf(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",f=!0===(null===u||void 0===u||null===(r=u.buyerInfo)||void 0===r?void 0:r.buyerDispute),m=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";f||m?y="dispute":!f&&!m&&g&&v&&(y="completed"),s({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)("div",{className:"event-card-title",children:r.title}),(0,Tk.jsxs)("div",{className:"event-card-bottom",children:[(0,Tk.jsx)("span",{className:"event-card-type",children:r.type}),(0,Tk.jsx)("span",{className:"event-card-date",children:r.date}),(0,Tk.jsx)("span",{className:`event-card-status status-${r.status.replace(" ","-")}`,children:r.status})]})]})}function BN(e){let{orderId:n}=e;const[r,s]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,r,i,a,o;const l=Fp(ox,"Orders",n),c=await Hf(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",f=!0===(null===u||void 0===u||null===(r=u.buyerInfo)||void 0===r?void 0:r.buyerDispute),m=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";f||m?y="dispute":!f&&!m&&g&&v&&(y="completed"),s({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)("div",{className:"directory-card-title",children:r.title}),(0,Tk.jsxs)("div",{className:"directory-card-bottom",children:[(0,Tk.jsx)("span",{className:"directory-card-type",children:r.type}),(0,Tk.jsx)("span",{className:"directory-card-date",children:r.date}),(0,Tk.jsx)("span",{className:`directory-card-status status-${r.status.replace(" ","-")}`,children:r.status})]})]})}function $N(e){let{selectedOrder:n,onCardClick:r}=e;const{currentUser:s}=FN(),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!s)return;(async()=>{try{const e=Tf(Mp(ox,"Orders"),Af("buyerInfo.buyerId","==",s.uid),Af("paymentInfo.paymentSuccessful","==",!0)),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>t.orderCreated.seconds-e.orderCreated.seconds),a(t)}catch(e){console.error("Error fetching user orders:",e)}finally{l(!1)}})()},[s]);return s?(0,Tk.jsxs)("div",{className:"osp-panel",children:[(0,Tk.jsx)("h2",{className:"osp-title",children:"MY ORDERS"}),(0,Tk.jsx)("div",{className:"osp-list",children:o?(0,Tk.jsx)("div",{children:"Loading orders..."}):i.length>0?i.map(e=>(e=>{let t;switch(e.type){case"market":t=VN;break;case"event":t=zN;break;case"directory":t=BN;break;default:return null}return(0,Tk.jsx)("div",{className:"osp-card "+((null===n||void 0===n?void 0:n.id)===e.id?"selected-card":""),onClick:()=>r(e),children:(0,Tk.jsx)(t,{orderId:e.id})},e.id)})(e)):(0,Tk.jsx)("div",{children:"No orders found."})})]}):(0,Tk.jsx)("div",{children:"Please log in to see your orders."})}function qN(e){var n,r,s,i,a,o,l,c,u,d,h,p,f,m,g,v,y;let{orderId:b}=e;const[x,w]=(0,t.useState)(null),[k,j]=(0,t.useState)("N/A");if((0,t.useEffect)(()=>{(async()=>{try{if(!b)return;const t=Fp(ox,"Orders",b),n=await Hf(t);if(n.exists()){var e;const t=n.data();if(w({id:n.id,...t}),null!==(e=t.sellerInfo)&&void 0!==e&&e.sellerId){const e=Fp(ox,"Users",t.sellerInfo.sellerId),n=await Hf(e);n.exists()&&j(n.data().username||"N/A")}}}catch(t){console.error("Error fetching directory order:",t)}})()},[b]),!x)return(0,Tk.jsx)("div",{className:"od-order-details-panel",children:"Loading order..."});const N=null!==(n=x.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*x.orderCreated.seconds).toLocaleDateString("en-US"):"N/A",S=x.type||"N/A",E=x.id||"N/A",C=x.deliveryInfo?`${x.deliveryInfo.deliveryStreetAddress||""}, ${x.deliveryInfo.deliveryCity||""} ${x.deliveryInfo.deliveryState||""} ${x.deliveryInfo.deliveryZipCode||""}`.trim():"N/A",_=(null===(r=x.postData)||void 0===r||null===(s=r.images)||void 0===s?void 0:s[0])||"",T=(null===(i=x.postData)||void 0===i?void 0:i.postId)||"N/A",I=(null===(a=x.postData)||void 0===a?void 0:a.title)||"N/A",A=(null===(o=x.postData)||void 0===o?void 0:o.description)||"N/A",P=(null===(l=x.postData)||void 0===l||null===(c=l.price)||void 0===c?void 0:c.replace(/[^0-9.]/g,""))||"0",R=parseFloat(P)||0,D=(.15*R).toFixed(2),O=(R+parseFloat(D)).toFixed(2),L=(null===(u=x.paymentInfo)||void 0===u?void 0:u.paymentmethod)||"N/A",M=(null===(d=x.paymentInfo)||void 0===d?void 0:d.lastfour)||"N/A";let F=[{label:"Order Started",active:!0},{label:"Marked Completed by Seller",active:(null===(h=x.sellerInfo)||void 0===h?void 0:h.sellerMarkedCompleted)||!1},{label:"Completed",active:(null===(p=x.sellerInfo)||void 0===p?void 0:p.sellerMarkedCompleted)||!1}];return(null!==(f=x.buyerInfo)&&void 0!==f&&f.buyerDispute||null!==(m=x.sellerInfo)&&void 0!==m&&m.sellerDispute)&&(F=[{label:"Order Started",active:!0},{label:"Dispute",active:!0}]),(0,Tk.jsxs)("div",{className:"od-order-details-panel",children:[(0,Tk.jsx)("h2",{className:"od-panel-title",children:"ORDER INFORMATION"}),(0,Tk.jsxs)("section",{className:"od-section",children:[(0,Tk.jsx)("h3",{children:"Order Details"}),(0,Tk.jsxs)("div",{className:"od-order-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Date"}),(0,Tk.jsx)("p",{children:N})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Type"}),(0,Tk.jsx)("p",{children:S})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Order ID"}),(0,Tk.jsx)("p",{children:E})]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Service Address"}),(0,Tk.jsx)("p",{children:C})]})]}),(0,Tk.jsxs)("section",{className:"od-section",children:[(0,Tk.jsx)("h3",{children:"Ordered Items"}),(0,Tk.jsxs)("div",{className:"od-item-card",children:[_&&(0,Tk.jsx)("img",{src:_,alt:"Product"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Title"}),(0,Tk.jsx)("p",{children:I})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Description"}),(0,Tk.jsx)("p",{children:A})]}),(0,Tk.jsx)("button",{className:"od-btn-view",onClick:()=>window.location.href=`/directorypost/${T}`,children:"View Post"})]})]})]}),(0,Tk.jsxs)("section",{className:"od-section",children:[(0,Tk.jsx)("h3",{children:"Payment Information"}),(0,Tk.jsxs)("div",{className:"od-payment-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Price"}),(0,Tk.jsxs)("p",{children:["$",R.toFixed(2)]}),(0,Tk.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Tk.jsxs)("p",{children:["$",D]}),(0,Tk.jsx)("strong",{children:"Total"}),(0,Tk.jsxs)("p",{children:["$",O]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Payment Method"}),(0,Tk.jsx)("p",{children:L}),(0,Tk.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Tk.jsx)("p",{children:M})]})]})]}),(0,Tk.jsxs)("section",{className:"od-section",children:[(0,Tk.jsx)("h3",{children:"Seller Information"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Seller"}),(0,Tk.jsx)("p",{children:k})]}),(0,Tk.jsx)("button",{className:"od-btn-message",children:"Message User"})]}),(0,Tk.jsxs)("section",{className:"od-section",children:[(0,Tk.jsx)("h3",{children:"Status"}),(0,Tk.jsx)("div",{className:"od-timeline-wrapper",children:F.map((e,n)=>(0,Tk.jsxs)(t.Fragment,{children:[(0,Tk.jsxs)("div",{className:"od-timeline-step",children:[(0,Tk.jsx)("div",{className:"od-circle "+(e.active?"active":""),children:e.active&&(0,Tk.jsx)(Kk,{})}),(0,Tk.jsx)("p",{className:"od-timeline-label "+(e.active?"active-label":""),children:e.label})]}),n<F.length-1&&(0,Tk.jsx)("div",{className:"od-arrow",children:"\u2192"})]},n))}),(0,Tk.jsxs)("div",{className:"od-status-buttons",children:[!(null!==(g=x.sellerInfo)&&void 0!==g&&g.sellerMarkedCompleted)&&!(null!==(v=x.buyerInfo)&&void 0!==v&&v.buyerDispute)&&!(null!==(y=x.sellerInfo)&&void 0!==y&&y.sellerDispute)&&(0,Tk.jsx)("button",{className:"od-btn-complete",children:"Mark as Completed"}),(0,Tk.jsx)("button",{className:"od-btn-dispute",children:"Dispute"})]})]})]})}function HN(e){var n,r,s,i,a,o,l,c,u,d,h,p,f,m,g,v,y,b;let{orderId:x}=e;const[w,k]=(0,t.useState)(null),[j,N]=(0,t.useState)("N/A");if((0,t.useEffect)(()=>{x&&(async()=>{try{const n=Fp(ox,"Orders",x),r=await Hf(n);if(r.exists()){var e;const n=r.data();if(null!==(e=n.sellerInfo)&&void 0!==e&&e.sellerId)try{const e=Fp(ox,"Users",n.sellerInfo.sellerId),t=await Hf(e);t.exists()&&N(t.data().username||"N/A")}catch(t){console.error("Error fetching seller:",t),N("N/A")}k({id:r.id,...n})}else k(null)}catch(n){console.error("Error fetching order:",n)}})()},[x]),!w)return(0,Tk.jsx)("div",{className:"oe-event-details-panel",children:"Loading order..."});const S=null!==(n=w.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*w.orderCreated.seconds).toLocaleDateString("en-US"):"N/A",E=w.type||"N/A",C=w.id||"N/A",_=(null===(r=w.eventSpecific)||void 0===r?void 0:r.ticketFile)||"N/A",T=(null===(s=w.postData)||void 0===s||null===(i=s.images)||void 0===i?void 0:i[0])||"",I=(null===(a=w.postData)||void 0===a?void 0:a.postId)||"N/A",A=(null===(o=w.postData)||void 0===o?void 0:o.title)||"N/A",P=(null===(l=w.postData)||void 0===l?void 0:l.description)||"N/A",R=(null===(c=w.postData)||void 0===c||null===(u=c.price)||void 0===u?void 0:u.replace(/[^0-9.]/g,""))||"0",D=parseFloat(R)||0,O=(.15*D).toFixed(2),L=(D+parseFloat(O)).toFixed(2),M=(null===(d=w.paymentInfo)||void 0===d?void 0:d.paymentmethod)||"N/A",F=(null===(h=w.paymentInfo)||void 0===h?void 0:h.lastfour)||"N/A";let U=[{label:"Order Started",active:!0},{label:"Marked Completed by Seller",active:(null===(p=w.sellerInfo)||void 0===p?void 0:p.sellerMarkedCompleted)||!1},{label:"Completed",active:(null===(f=w.sellerInfo)||void 0===f?void 0:f.sellerMarkedCompleted)||!1}];return(null!==(m=w.buyerInfo)&&void 0!==m&&m.buyerDispute||null!==(g=w.sellerInfo)&&void 0!==g&&g.sellerDispute)&&(U=[{label:"Order Started",active:!0},{label:"Dispute",active:!0}]),(0,Tk.jsxs)("div",{className:"oe-event-details-panel",children:[(0,Tk.jsx)("h2",{className:"oe-panel-title",children:"ORDER INFORMATION"}),(0,Tk.jsxs)("section",{className:"oe-section",children:[(0,Tk.jsx)("h3",{children:"Order Details"}),(0,Tk.jsxs)("div",{className:"oe-order-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Date"}),(0,Tk.jsx)("p",{children:S})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Type"}),(0,Tk.jsx)("p",{children:E})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Order ID"}),(0,Tk.jsx)("p",{children:C})]})]}),(0,Tk.jsxs)("div",{className:"oe-ticket-file",children:[(0,Tk.jsx)("strong",{children:"Ticket File:"}),(0,Tk.jsxs)("div",{className:"oe-ticket-download",children:[(0,Tk.jsx)(Zk,{className:"oe-ticket-icon"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("p",{className:"oe-ticket-name",children:_}),"N/A"!==_&&(0,Tk.jsx)("a",{href:_,target:"_blank",rel:"noreferrer",className:"oe-ticket-link",children:"Download File"})]})]})]})]}),(0,Tk.jsxs)("section",{className:"oe-section",children:[(0,Tk.jsx)("h3",{children:"Ordered Items"}),(0,Tk.jsxs)("div",{className:"oe-item-card",children:[T&&(0,Tk.jsx)("img",{src:T,alt:"Product"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Title"}),(0,Tk.jsx)("p",{children:A})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Description"}),(0,Tk.jsx)("p",{children:P})]}),(0,Tk.jsx)("button",{className:"oe-btn-view",onClick:()=>window.location.href=`/eventpost/${I}`,children:"View Post"})]})]})]}),(0,Tk.jsxs)("section",{className:"oe-section",children:[(0,Tk.jsx)("h3",{children:"Payment Information"}),(0,Tk.jsxs)("div",{className:"oe-payment-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Price"}),(0,Tk.jsxs)("p",{children:["$",D.toFixed(2)]}),(0,Tk.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Tk.jsxs)("p",{children:["$",O]}),(0,Tk.jsx)("strong",{children:"Total"}),(0,Tk.jsxs)("p",{children:["$",L]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Payment Method"}),(0,Tk.jsx)("p",{children:M}),(0,Tk.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Tk.jsx)("p",{children:F})]})]})]}),(0,Tk.jsxs)("section",{className:"oe-section",children:[(0,Tk.jsx)("h3",{children:"Seller Information"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Seller"}),(0,Tk.jsx)("p",{children:j})]}),(0,Tk.jsx)("button",{className:"oe-btn-message",children:"Message User"})]}),(0,Tk.jsxs)("section",{className:"oe-section",children:[(0,Tk.jsx)("h3",{children:"Status"}),(0,Tk.jsx)("div",{className:"oe-timeline-wrapper",children:U.map((e,n)=>(0,Tk.jsxs)(t.Fragment,{children:[(0,Tk.jsxs)("div",{className:"oe-timeline-step",children:[(0,Tk.jsx)("div",{className:"oe-circle "+(e.active?"active":""),children:e.active&&(0,Tk.jsx)(Kk,{})}),(0,Tk.jsx)("p",{className:"oe-timeline-label "+(e.active?"active-label":""),children:e.label})]}),n<U.length-1&&(0,Tk.jsx)("div",{className:"oe-arrow",children:"\u2192"})]},n))}),(0,Tk.jsxs)("div",{className:"oe-status-buttons",children:[!(null!==(v=w.sellerInfo)&&void 0!==v&&v.sellerMarkedCompleted)&&!(null!==(y=w.buyerInfo)&&void 0!==y&&y.buyerDispute)&&!(null!==(b=w.sellerInfo)&&void 0!==b&&b.sellerDispute)&&(0,Tk.jsx)("button",{className:"oe-btn-complete",children:"Mark as Completed"}),(0,Tk.jsx)("button",{className:"oe-btn-dispute",children:"Dispute"})]})]})]})}function WN(e){var n,r,s,i,a,o,l,c,u,d,h,p,f,m,g;let{orderId:v}=e;const[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)("N/A");if((0,t.useEffect)(()=>{(async()=>{try{if(!v)return;const t=Fp(ox,"Orders",v),n=await Hf(t);if(n.exists()){var e;const t=n.data();if(b({id:n.id,...t}),null!==t&&void 0!==t&&null!==(e=t.sellerInfo)&&void 0!==e&&e.sellerId){const e=Fp(ox,"Users",t.sellerInfo.sellerId),n=await Hf(e);n.exists()&&w(n.data().username||"N/A")}}}catch(t){console.error("Error fetching order:",t)}})()},[v]),!y)return(0,Tk.jsx)("p",{children:"Loading order..."});const k=null!==(n=y.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*y.orderCreated.seconds).toLocaleDateString():"N/A",j=y.type||"N/A",N=y.id||"N/A",S=y.deliveryInfo?`${y.deliveryInfo.deliveryStreetAddress||""}, ${y.deliveryInfo.deliveryCity||""} ${y.deliveryInfo.deliveryState||""} ${y.deliveryInfo.deliveryZipCode||""}`:"N/A",E=(null===(r=y.marketSpecific)||void 0===r?void 0:r.Carrier)||"N/A",C=(null===(s=y.marketSpecific)||void 0===s?void 0:s.trackingNumber)||"N/A",_=(null===(i=y.postData)||void 0===i||null===(a=i.images)||void 0===a?void 0:a[0])||"",T=(null===(o=y.postData)||void 0===o?void 0:o.postId)||"N/A",I=(null===(l=y.postData)||void 0===l?void 0:l.title)||"N/A",A=(null===(c=y.postData)||void 0===c?void 0:c.description)||"N/A",P=(null===(u=y.postData)||void 0===u||null===(d=u.price)||void 0===d?void 0:d.replace(/[^0-9.]/g,""))||"0",R=parseFloat(P)||0,D=(.15*R).toFixed(2),O=(R+parseFloat(D)).toFixed(2),L=(null===(h=y.paymentInfo)||void 0===h?void 0:h.paymentmethod)||"N/A",M=(null===(p=y.paymentInfo)||void 0===p?void 0:p.lastfour)||"N/A";let F=[{label:"Order Started",active:!0},{label:"Marked Completed by Seller",active:(null===(f=y.sellerInfo)||void 0===f?void 0:f.sellerMarkedCompleted)||!1},{label:"Completed",active:!1}];return(null!==(m=y.buyerInfo)&&void 0!==m&&m.buyerDispute||null!==(g=y.sellerInfo)&&void 0!==g&&g.sellerDispute)&&(F=[{label:"Order Started",active:!0},{label:"Dispute",active:!0}]),(0,Tk.jsxs)("div",{className:"mv-custom-panel",children:[(0,Tk.jsx)("h2",{className:"mv-custom-title",children:"ORDER INFORMATION"}),(0,Tk.jsxs)("section",{className:"mv-custom-section",children:[(0,Tk.jsx)("h3",{children:"Order Details"}),(0,Tk.jsxs)("div",{className:"mv-custom-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Date"}),(0,Tk.jsx)("p",{children:k})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Type"}),(0,Tk.jsx)("p",{children:j})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Order ID"}),(0,Tk.jsx)("p",{children:N})]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Shipping Address"}),(0,Tk.jsx)("p",{children:S})]}),(0,Tk.jsxs)("div",{className:"mv-custom-tracking-display",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Carrier"}),(0,Tk.jsx)("p",{children:E})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Tracking Number"}),(0,Tk.jsx)("p",{children:C})]})]})]}),(0,Tk.jsxs)("section",{className:"mv-custom-section",children:[(0,Tk.jsx)("h3",{children:"Ordered Items"}),(0,Tk.jsxs)("div",{className:"mv-custom-item",children:[_&&(0,Tk.jsx)("img",{src:_,alt:"Product"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Title"}),(0,Tk.jsx)("p",{children:I})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Description"}),(0,Tk.jsx)("p",{children:A})]}),(0,Tk.jsx)("button",{className:"mv-custom-btn-view",onClick:()=>window.location.href=`/marketpost/${T}`,children:"View Post"})]})]})]}),(0,Tk.jsxs)("section",{className:"mv-custom-section",children:[(0,Tk.jsx)("h3",{children:"Payment Information"}),(0,Tk.jsxs)("div",{className:"mv-custom-payment",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Price"}),(0,Tk.jsxs)("p",{children:["$",R.toFixed(2)]}),(0,Tk.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Tk.jsxs)("p",{children:["$",D]}),(0,Tk.jsx)("strong",{children:"Total"}),(0,Tk.jsxs)("p",{children:["$",O]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Payment Method"}),(0,Tk.jsx)("p",{children:L}),(0,Tk.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Tk.jsx)("p",{children:M})]})]})]}),(0,Tk.jsxs)("section",{className:"mv-custom-section",children:[(0,Tk.jsx)("h3",{children:"Seller Information"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Seller"}),(0,Tk.jsx)("p",{children:x})]}),(0,Tk.jsx)("button",{className:"mv-custom-btn-message",children:"Message User"})]}),(0,Tk.jsxs)("section",{className:"mv-custom-section",children:[(0,Tk.jsx)("h3",{children:"Status"}),(0,Tk.jsx)("div",{className:"mv-custom-timeline-wrapper",children:F.map((e,n)=>(0,Tk.jsxs)(t.Fragment,{children:[(0,Tk.jsxs)("div",{className:"mv-custom-timeline-step",children:[(0,Tk.jsx)("div",{className:"mv-custom-circle "+(e.active?"active":""),children:e.active&&(0,Tk.jsx)(Kk,{})}),(0,Tk.jsx)("p",{className:"mv-custom-timeline-label "+(e.active?"active-label":""),children:e.label})]}),n<F.length-1&&(0,Tk.jsx)("div",{className:"mv-custom-arrow",children:"\u2192"})]},n))}),(0,Tk.jsxs)("div",{className:"mv-custom-status-buttons",children:[(0,Tk.jsx)("button",{className:"mv-custom-btn-complete",children:"Mark as Completed"}),(0,Tk.jsx)("button",{className:"mv-custom-btn-dispute",children:"Dispute"})]})]})]})}function GN(){const[e,n]=(0,t.useState)(null);return(0,Tk.jsxs)("div",{className:"orders-body-container",children:[(0,Tk.jsx)($N,{selectedOrder:e,onCardClick:e=>n(e)}),(0,Tk.jsx)("div",{className:"orders-body-right",children:(()=>{if(!e)return(0,Tk.jsx)("div",{children:"Select an order to see details"});const{id:t,type:n}=e;switch(n){case"market":return(0,Tk.jsx)(WN,{orderId:t});case"event":return(0,Tk.jsx)(HN,{orderId:t});case"directory":return(0,Tk.jsx)(qN,{orderId:t});default:return(0,Tk.jsx)("div",{children:"Unknown order type"})}})()})]})}const KN=()=>(0,Tk.jsxs)("div",{className:"content-page",children:[(0,Tk.jsx)(LN,{}),(0,Tk.jsx)(GN,{})]}),JN=e=>{let{setActiveChat:n}=e;const{currentUser:r}=FN(),[s,i]=(0,t.useState)([]),a=ne();(0,t.useEffect)(()=>{if(!r)return;const e=Xf(Tf(Mp(ox,"chats"),Af("participants","array-contains",r.uid)),async e=>{const t=await Promise.all(e.docs.map(async e=>{var t;const n=e.data(),s=e.id,a=n.userA===r.uid?n.userB:n.userA;let o={username:"Unknown",profilepic:"/Vrumies/default-profile.png"};try{const e=await Hf(Fp(ox,"Users",a));e.exists()&&(o=e.data())}catch(l){console.error("Error fetching user:",l)}try{Xf(Mp(ox,"chats",s,"messages"),e=>{const t=e.docs.filter(e=>{var t;return!(null!==(t=e.data().seenBy)&&void 0!==t&&t.includes(r.uid))});i(e=>e.map(e=>e.chatId===s?{...e,unreadCount:t.length}:e))})}catch(l){console.error("Error counting unread messages:",l)}return{chatId:s,otherUser:o,lastMessage:n.lastMessage||"",lastTimestamp:(null===(t=n.lastTimestamp)||void 0===t?void 0:t.toDate())||null,unreadCount:0}}));if(t.sort((e,t)=>e.lastTimestamp?t.lastTimestamp?t.lastTimestamp-e.lastTimestamp:-1:1),i(t),t.length>0&&!window.location.search.includes("chat=")){const e=t[0];a(`/inbox?chat=${e.chatId}`,{replace:!0}),n&&n(e.chatId)}});return()=>e()},[r,a,n]);return(0,Tk.jsxs)("div",{className:"lsp-panel",children:[(0,Tk.jsx)("input",{type:"text",placeholder:"Search username...",className:"lsp-search"}),(0,Tk.jsx)("ul",{className:"lsp-user-list",children:s.map(e=>{return(0,Tk.jsxs)("li",{className:"lsp-user-item",onClick:()=>{a(`/inbox?chat=${e.chatId}`),n&&n(e.chatId)},children:[(0,Tk.jsxs)("div",{className:"lsp-user-left",children:[(0,Tk.jsxs)("div",{className:"lsp-pic-wrapper",children:[(0,Tk.jsx)("img",{src:e.otherUser.profilepic,alt:e.otherUser.username,className:"lsp-user-pic"}),(0,Tk.jsx)("span",{className:"lsp-online-dot"})]}),(0,Tk.jsxs)("div",{className:"lsp-user-info",children:[(0,Tk.jsx)("h4",{children:e.otherUser.username}),(0,Tk.jsx)("p",{children:e.lastMessage||"No messages yet..."})]})]}),(0,Tk.jsxs)("div",{className:"lsp-right",children:[(0,Tk.jsx)("span",{className:"lsp-timestamp",children:(t=e.lastTimestamp,t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"")}),e.unreadCount>0&&(0,Tk.jsx)("span",{className:"lsp-unread-count",children:e.unreadCount})]})]},e.chatId);var t})})]})},YN=()=>{const{currentUser:e}=FN(),n=Z(),r=new URLSearchParams(n.search).get("chat"),[s,i]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[f,m]=(0,t.useState)(0),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),k=(0,t.useRef)(null),j=(0,t.useRef)(null),N=(0,t.useRef)(null),S=()=>{var e;null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,t.useEffect)(()=>{S()},[s]),(0,t.useEffect)(()=>{if(!r||!e)return;const t=Xf(Tf(Mp(ox,"chats",r,"messages"),Df("timestamp","asc")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));i(n),t.docs.forEach(t=>{var n;null!==(n=t.data().seenBy)&&void 0!==n&&n.includes(e.uid)||Jf(Fp(ox,"chats",r,"messages",t.id),{seenBy:sm(e.uid)}).catch(console.error)})});return()=>t()},[r,e]);const E=async()=>{if(a.trim()||u)try{const t=Mp(ox,"chats",r,"messages");await Qf(t,{senderId:e.uid,text:a.trim(),photos:u?[u]:[],timestamp:rm(),seenBy:[e.uid]});const n=Fp(ox,"chats",r);await Kf(n,{lastMessage:a.trim()||"\ud83d\udcf7 Image",lastTimestamp:rm()},{merge:!0}),o(""),c(null),d(""),p(""),m(0),v(""),b(!1)}catch(t){console.error("Error sending message:",t)}};return(0,Tk.jsxs)("div",{className:"inbox-center-panel",children:[(0,Tk.jsxs)("div",{className:"inbox-chat-messages",ref:k,onScroll:()=>{const e=k.current;if(!e)return;const t=e.scrollHeight-e.scrollTop-e.clientHeight>100;w(t)},children:[s.map(t=>{var n;return(0,Tk.jsxs)("div",{className:"inbox-message "+(t.senderId===e.uid?"inbox-sent":"inbox-received"),children:[t.text&&(0,Tk.jsx)("p",{children:t.text}),t.photos&&t.photos.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Uploaded ${t}`,className:"inbox-message-image"},t)),(0,Tk.jsx)("span",{children:null===(n=t.timestamp)||void 0===n?void 0:n.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},t.id)}),(0,Tk.jsx)("div",{ref:j})]}),x&&(0,Tk.jsx)("button",{className:"scroll-to-bottom-btn",onClick:S,children:"Scroll to bottom"}),(h||u)&&(0,Tk.jsx)("div",{className:"image-preview-container",children:(0,Tk.jsxs)("div",{className:"image-preview",children:[(0,Tk.jsx)("img",{src:h||u,alt:"Preview"}),y&&(0,Tk.jsx)("div",{className:"upload-status "+(f>=100?"completed":""),children:(0,Tk.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif",alt:"Uploading"})}),(0,Tk.jsx)("span",{className:"remove-image",onClick:()=>{c(null),d(""),p(""),m(0),v(""),b(!1)},children:"\xd7"}),f>0&&f<100&&(0,Tk.jsx)("div",{className:"progress-bar-right",children:(0,Tk.jsx)("div",{className:"progress-fill",style:{width:`${f}%`}})})]})}),g&&(0,Tk.jsx)("div",{className:"upload-error",children:g}),(0,Tk.jsxs)("div",{className:"inbox-chat-input",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756579580/Upload-Icon_zdgmqi.png",alt:"Upload",className:"image-upload-icon",onClick:()=>{var e;null===(e=N.current)||void 0===e||e.click()}}),(0,Tk.jsx)("input",{type:"text",placeholder:"Type a message...",value:a,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&E()}}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){c(t),v(""),m(0),b(!0),p(URL.createObjectURL(t));try{const e=new FormData;e.append("file",t),e.append("upload_preset","vrumies_preset");const n=await _k.post("https://api.cloudinary.com/v1_1/dmjvngk3o/image/upload",e,{onUploadProgress:e=>{if(e.total){const t=e.loaded/e.total*100;m(t)}}});d(n.data.secure_url),m(100),b(!1)}catch(n){console.error("Upload failed:",n),v("Image failed to upload"),c(null),d(""),p(""),m(0),b(!1)}}},ref:N}),(0,Tk.jsx)("button",{onClick:E,children:"Send"})]})]})},QN=e=>{let{activeChat:n}=e;const{currentUser:r}=FN(),[s,i]=(0,t.useState)(null),[a,o]=(0,t.useState)([]);return(0,t.useEffect)(()=>{if(!n||!r)return;const e=(async()=>{try{const e=await Hf(Fp(ox,"chats",n));if(!e.exists())return;const t=e.data(),s=t.userA===r.uid?t.userB:t.userA,a=await Hf(Fp(ox,"Users",s));a.exists()?i(a.data()):i({username:"Unknown",profilepic:"/Vrumies/default-profile.png"});const l=Tf(Mp(ox,"chats",n,"messages"),Df("timestamp","asc"));return Xf(l,e=>{const t=[];e.docs.forEach(e=>{const n=e.data();n.photos&&n.photos.length>0&&t.push(...n.photos)}),o(t)})}catch(e){console.error("Error fetching chat info:",e)}})();return()=>{e&&"function"===typeof e&&e()}},[n,r]),n?(0,Tk.jsxs)("div",{className:"rsp-panel",children:[s&&(0,Tk.jsxs)("div",{className:"rsp-profile-header",children:[(0,Tk.jsxs)("div",{className:"rsp-profile-pic-wrapper",children:[(0,Tk.jsx)("img",{src:s.profilepic,alt:s.username,className:"rsp-profile-pic"}),(0,Tk.jsx)("span",{className:"rsp-online-dot"})]}),(0,Tk.jsx)("h3",{className:"rsp-profile-name",children:s.username})]}),(0,Tk.jsx)("h4",{className:"rsp-media-title",children:"Chat Media"}),(0,Tk.jsx)("div",{className:"rsp-media-grid",children:a.length>0?a.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Media ${t+1}`,className:"rsp-media-item"},t)):(0,Tk.jsx)("p",{style:{color:"#aaa"},children:"No media in this chat."})}),(0,Tk.jsx)("button",{className:"rsp-block-button",children:"Block"})]}):null},XN=()=>{const[e,n]=(0,t.useState)(null);return(0,Tk.jsx)("div",{className:"inbox-page",children:(0,Tk.jsxs)("div",{className:"inbox-layout",children:[(0,Tk.jsx)(JN,{setActiveChat:n}),(0,Tk.jsx)(YN,{},e),(0,Tk.jsx)(QN,{activeChat:e})]})})},ZN=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        /* Ensure padding is included in width calculations */\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: 100%; /* Prevents overflow */\n          margin-left: auto;\n          margin-right: auto;\n          padding: 1rem 2rem; /* Reduced horizontal padding */\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://miro.medium.com/v2/resize:fit:1400/1*6mJcjTUqaSlRQA4O58TWCg.jpeg');\n          background-size: cover;\n          background-position: center;\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), \n                      0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          min-height: 60px;\n          overflow: hidden;\n          box-sizing: border-box; /* Includes padding in width */\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap; /* Keeps text on a single line */\n          text-shadow: 2px 2px 6px #000; /* Fixed syntax */\n          margin: 0; /* Remove default h1 margin */\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"My Tokens"})]}),eS=()=>(0,Tk.jsxs)("div",{className:"token-side-panel",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .token-side-panel {\n          background-color: #000;\n          padding: 2rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 300px;\n          min-width: 250px;\n          flex-shrink: 0;\n          border-right: 1px solid #1a202c;\n          box-sizing: border-box;\n          text-align: center;\n          color: #fff;\n        }\n\n        .token-side-panel .logo-icon {\n          width: 160px;\n          height: 160px;\n          margin-bottom: 1.5rem;\n        }\n\n        .token-side-panel .logo-icon img {\n          width: 100%;\n          height: 100%;\n          object-fit: contain;\n          display: block;\n        }\n\n        .token-side-panel h2 {\n          font-family: 'Poppins', sans-serif;\n          font-size: 1.5rem;\n          color: #fff;\n          margin-bottom: 0.5rem;\n        }\n\n        .token-side-panel p {\n          font-family: 'Poppins', sans-serif;\n          font-size: 1.2rem;\n          color: #00FF00;\n          font-weight: bold;\n          margin-bottom: 1.5rem;\n        }\n\n        .token-side-panel .conversion-rate {\n          font-size: 0.9rem;\n          color: #888;\n          margin-bottom: 2rem;\n        }\n\n        .token-side-panel button {\n          font-family: 'Poppins', sans-serif;\n          background-color: #00FF00;\n          color: #000;\n          border: none;\n          padding: 0.8rem 1.5rem;\n          border-radius: 0.5rem;\n          font-size: 1rem;\n          cursor: pointer;\n          transition: background-color 0.3s ease;\n          width: 90%;\n          margin-bottom: 1rem;\n          font-weight: bold;\n        }\n\n        .token-side-panel button:hover {\n          background-color: #00CC00;\n        }\n\n        .token-side-panel .secondary-button {\n          background-color: transparent;\n          color: #00FF00;\n          border: 1px solid #00FF00;\n        }\n\n        .token-side-panel .secondary-button:hover {\n          background-color: rgba(0, 255, 0, 0.1);\n        }\n\n        @media (max-width: 768px) {\n          .token-side-panel {\n            width: 100%;\n            max-width: none;\n            border-right: none;\n            border-bottom: 1px solid #1a202c;\n          }\n        }\n      "}),(0,Tk.jsx)("div",{className:"logo-icon",children:(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon"})}),(0,Tk.jsx)("h2",{children:"Vrumies Bump Tokens"}),(0,Tk.jsx)("p",{children:"You have:"}),(0,Tk.jsx)("p",{children:"100 VBT"}),(0,Tk.jsx)("span",{className:"conversion-rate",children:"1 VBT = $0.25"})]}),tS=()=>(0,Tk.jsxs)("div",{className:"token-body",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .token-body {\n          flex-grow: 1; /* Allow it to take up remaining space */\n          background-color: #1a202c; /* Dark background */\n          padding: 2rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          box-sizing: border-box;\n          color: #fff;\n        }\n\n        .token-body .order-section {\n          background-color: #000;\n          padding: 1.5rem;\n          border-radius: 0.5rem;\n          width: 100%;\n          max-width: 500px;\n          margin-bottom: 2rem;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n\n        .token-body .order-header {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 1.8rem;\n          margin-bottom: 1rem;\n          text-align: left;\n        }\n\n        .token-body .quantity-selector {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 1.5rem;\n        }\n\n        .token-body .quantity-selector label {\n          font-family: 'Poppins', sans-serif;\n          color: #fff;\n          font-size: 1.2rem;\n        }\n\n        .token-body .quantity-controls {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n        }\n\n        .token-body .quantity-button {\n          background-color: #00FF00;\n          color: #000;\n          border: none;\n          border-radius: 50%;\n          width: 35px;\n          height: 35px;\n          font-size: 1.5rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          font-weight: bold;\n        }\n\n        .token-body .quantity-display {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 1.5rem;\n          font-weight: bold;\n        }\n\n        .token-body .total-section {\n          background-color: #333;\n          padding: 1rem 1.5rem;\n          border-radius: 0.5rem;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .token-body .total-section span {\n          font-family: 'Poppins', sans-serif;\n          font-size: 1.2rem;\n          color: #fff;\n        }\n\n        .token-body .card-info-section {\n          background-color: #000;\n          padding: 1.5rem;\n          border-radius: 0.5rem;\n          width: 100%;\n          max-width: 500px;\n          margin-bottom: 2rem;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n\n        .token-body .card-info-header {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 1.2rem;\n          margin-bottom: 1.5rem;\n          text-align: center;\n        }\n\n        .token-body .form-row {\n          display: flex;\n          gap: 1rem;\n          margin-bottom: 1rem;\n        }\n\n        .token-body .form-group {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n        }\n\n        .token-body label {\n          font-family: 'Poppins', sans-serif;\n          font-size: 0.9rem;\n          color: #888;\n          margin-bottom: 0.3rem;\n        }\n\n        .token-body input {\n          background-color: transparent;\n          border: none;\n          border-bottom: 1px solid #555;\n          color: #fff;\n          padding: 0.5rem 0;\n          font-size: 1rem;\n          font-family: 'Poppins', sans-serif;\n          outline: none;\n        }\n\n        .token-body input::placeholder {\n          color: #777;\n        }\n\n        .token-body .bank-icon {\n          font-size: 4rem;\n          color: #00FF00;\n          margin-bottom: 2rem;\n        }\n\n        .token-body .action-buttons {\n          display: flex;\n          justify-content: space-between;\n          width: 100%;\n          max-width: 500px;\n          gap: 1rem;\n        }\n\n        .token-body .action-buttons button {\n          font-family: 'Poppins', sans-serif;\n          padding: 0.8rem 1.5rem;\n          border-radius: 0.5rem;\n          font-size: 1rem;\n          cursor: pointer;\n          transition: background-color 0.3s ease;\n          flex: 1;\n          font-weight: bold;\n        }\n\n        .token-body .back-button {\n          background-color: transparent;\n          color: #00FF00;\n          border: 1px solid #00FF00;\n        }\n\n        .token-body .back-button:hover {\n          background-color: rgba(0, 255, 0, 0.1);\n        }\n\n        .token-body .pay-button {\n          background-color: #00FF00;\n          color: #000;\n          border: none;\n        }\n\n        .token-body .pay-button:hover {\n          background-color: #00CC00;\n        }\n\n        /* Overall App Container Styling */\n        .app-container {\n          min-height: 100vh;\n          background-color: #1a202c;\n          display: flex;\n          flex-direction: column; /* Stack header on top */\n          align-items: center;\n          padding: 0;\n          width: 100%;\n          box-sizing: border-box;\n        }\n\n        .main-content-area {\n          display: flex;\n          flex-grow: 1; /* Takes remaining vertical space */\n          width: 100%;\n          box-sizing: border-box;\n          justify-content: center; /* Center content when side panel is smaller */\n        }\n\n        @media (max-width: 768px) {\n          .main-content-area {\n            flex-direction: column; /* Stack side panel and body vertically on smaller screens */\n          }\n        }\n      "}),(0,Tk.jsxs)("div",{className:"order-section",children:[(0,Tk.jsx)("h3",{className:"order-header",children:"Basic Order"}),(0,Tk.jsxs)("div",{className:"quantity-selector",children:[(0,Tk.jsx)("label",{children:"Select Quantity"}),(0,Tk.jsxs)("div",{className:"quantity-controls",children:[(0,Tk.jsx)("button",{className:"quantity-button",children:"-"}),(0,Tk.jsx)("span",{className:"quantity-display",children:"40"}),(0,Tk.jsx)("button",{className:"quantity-button",children:"+"}),(0,Tk.jsx)("span",{className:"quantity-display",children:"VBT"})]})]}),(0,Tk.jsxs)("div",{className:"total-section",children:[(0,Tk.jsx)("span",{children:"Total"}),(0,Tk.jsx)("span",{children:"$10"})]})]}),(0,Tk.jsxs)("div",{className:"card-info-section",children:[(0,Tk.jsx)("h3",{className:"card-info-header",children:"Card Info"}),(0,Tk.jsxs)("div",{className:"form-row",children:[(0,Tk.jsxs)("div",{className:"form-group",children:[(0,Tk.jsx)("label",{children:"First Name"}),(0,Tk.jsx)("input",{type:"text",value:"John",readOnly:!0})]}),(0,Tk.jsxs)("div",{className:"form-group",children:[(0,Tk.jsx)("label",{children:"Last Name"}),(0,Tk.jsx)("input",{type:"text",value:"Smith",readOnly:!0})]})]}),(0,Tk.jsxs)("div",{className:"form-group",children:[(0,Tk.jsx)("label",{children:"Card Number"}),(0,Tk.jsx)("input",{type:"text",value:"4756 5648 8496 9018",readOnly:!0})]}),(0,Tk.jsxs)("div",{className:"form-row",children:[(0,Tk.jsxs)("div",{className:"form-group",children:[(0,Tk.jsx)("label",{children:"Expiration Date"}),(0,Tk.jsx)("input",{type:"text",value:"07 / 22",readOnly:!0})]}),(0,Tk.jsxs)("div",{className:"form-group",children:[(0,Tk.jsx)("label",{children:"CVV"}),(0,Tk.jsx)("input",{type:"text",value:"319",readOnly:!0})]}),(0,Tk.jsxs)("div",{className:"form-group",children:[(0,Tk.jsx)("label",{children:"Zip Code"}),(0,Tk.jsx)("input",{type:"text",value:"78505",readOnly:!0})]})]})]}),(0,Tk.jsx)("div",{className:"bank-icon",children:"\ud83c\udfe6"}),(0,Tk.jsxs)("div",{className:"action-buttons",children:[(0,Tk.jsx)("button",{className:"back-button",children:"Back"}),(0,Tk.jsx)("button",{className:"pay-button",children:"Pay"})]})]}),nS=()=>(0,Tk.jsxs)("div",{className:"token-history-panel",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .token-history-panel {\n          background-color: #000;\n          padding: 2rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 300px;\n          min-width: 250px;\n          flex-shrink: 0;\n          border-left: 1px solid #1a202c; \n          box-sizing: border-box;\n          color: #fff;\n          overflow-y: auto; \n        }\n\n        .token-history-panel h2 {\n          font-family: 'Poppins', sans-serif;\n          color: #fff;\n          font-size: 1.5rem;\n          margin-bottom: 2rem;\n          text-align: center;\n          font-weight: bold;\n        }\n\n        .token-history-panel .history-item {\n          display: flex;\n          align-items: center;\n          width: 100%;\n          padding: 1rem 0;\n          border-bottom: 1px solid #333; \n        }\n\n        .token-history-panel .history-item:last-child {\n          border-bottom: none; \n        }\n\n        .token-history-panel .item-icon {\n          width: 50px;\n          height: 50px;\n          flex-shrink: 0;\n          margin-right: 1rem;\n        }\n\n        .token-history-panel .item-icon img {\n          width: 100%;\n          height: 100%;\n          object-fit: contain;\n          display: block;\n        }\n\n        .token-history-panel .item-details {\n          flex-grow: 1;\n          display: flex;\n          flex-direction: column;\n          text-align: left;\n        }\n\n        .token-history-panel .item-details p {\n          font-family: 'Poppins', sans-serif;\n          margin: 0;\n          font-size: 0.95rem;\n          color: #fff;\n        }\n\n        .token-history-panel .item-details .item-date {\n          color: #888;\n          font-size: 0.8rem;\n        }\n\n        .token-history-panel .item-values {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          text-align: right;\n          font-family: 'Poppins', sans-serif;\n        }\n\n        .token-history-panel .item-values .item-tokens {\n          color: #00FF00;\n          font-weight: bold;\n          font-size: 0.95rem;\n        }\n\n        .token-history-panel .item-values .item-amount {\n          color: #fff;\n          font-size: 0.8rem;\n        }\n\n        @media (max-width: 768px) {\n          .token-history-panel {\n            width: 100%;\n            max-width: none;\n            border-left: none;\n            border-top: 1px solid #1a202c; \n          }\n        }\n      "}),(0,Tk.jsx)("h2",{children:"Token Purchase History"}),[{id:1,name:"Purchase #1",date:"03/22/2021",tokens:4,amount:"$1"},{id:2,name:"Purchase #2",date:"05/03/2021",tokens:20,amount:"$5"},{id:3,name:"Purchase #3",date:"08/20/2021",tokens:40,amount:"$10"},{id:4,name:"Purchase #4",date:"08/20/2021",tokens:40,amount:"$10"}].map(e=>(0,Tk.jsxs)("div",{className:"history-item",children:[(0,Tk.jsx)("div",{className:"item-icon",children:(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon"})}),(0,Tk.jsxs)("div",{className:"item-details",children:[(0,Tk.jsx)("p",{children:e.name}),(0,Tk.jsx)("p",{className:"item-date",children:e.date})]}),(0,Tk.jsxs)("div",{className:"item-values",children:[(0,Tk.jsxs)("span",{className:"item-tokens",children:[e.tokens," VBT"]}),(0,Tk.jsx)("span",{className:"item-amount",children:e.amount})]})]},e.id))]}),rS=()=>(0,Tk.jsxs)("div",{className:"content-page",children:[(0,Tk.jsx)(ZN,{}),(0,Tk.jsxs)("div",{className:"main-content-area",children:[(0,Tk.jsx)(eS,{}),(0,Tk.jsx)(tS,{}),(0,Tk.jsx)(nS,{})]})]}),sS=()=>{const e=ne();return(0,Tk.jsxs)("div",{className:"vrumies-signin-screen",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1754732908/VrumiesLogo_jxdvsw.png",alt:"Vrumies Logo",className:"vrumies-signin-logo"}),(0,Tk.jsxs)("div",{className:"vrumies-signin-center",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1754732913/Welcome_jngzua.png",alt:"Welcome",className:"vrumies-signin-welcome-image"}),(0,Tk.jsx)("button",{className:"vrumies-signin-google-button",onClick:async()=>{let t;try{t=await(async()=>{try{const e=(await $v(lx,ux)).user;return console.log("\u2705 Signed in as:",e.displayName,e.email),e}catch(e){throw console.error("\u274c Google Sign-In Error:",e),e}})(),e("/videos")}catch(n){return console.error("Google sign-in failed:",n),void alert("Google sign-in failed. Please try again.")}try{const e=Fp(ox,"Users",t.uid);(await Hf(e)).exists()||(await Kf(e,{userid:t.uid,username:t.displayName||"Anonymous",aboutme:"",email:t.email||"",tokens:0,profilepic:t.photoURL||"",photos:[],banned:!1,following:[],followers:[]}),console.log("Firestore user document created successfully"))}catch(r){console.error("Error creating Firestore user document:",r)}},"aria-label":"Sign in with Google",type:"button",children:(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1754732908/GoogleSignIn_gk6tbs.png",alt:"Google Sign-In",className:"vrumies-signin-google-image"})})]})]})},iS={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://www.milesweb.in/blog/wp-content/uploads/2015/06/ecommerce-stores-hosted-vs-licensed-shopping-cart-solutions-min-1.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8}},aS=()=>(0,Tk.jsxs)("div",{style:{...iS.container,height:"260px"},children:[(0,Tk.jsxs)("div",{style:iS.leftSide,children:[(0,Tk.jsx)("h1",{style:iS.title,children:(0,Tk.jsx)("span",{style:iS.greenHighlight,children:"Shopping Cart"})}),(0,Tk.jsx)("p",{style:iS.subtitle,children:"View all items in your cart."})]}),(0,Tk.jsx)("div",{style:iS.rightSide,children:(0,Tk.jsx)("img",{src:"/Vrumies/request-icon.png",alt:"ShoppingCart Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})})]});function oS(){const{currentUser:e}=FN(),[n,r]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!e)return;const t=Xf(Mp(ox,"Users",e.uid,"cart"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));r(t)});return()=>t()},[e]);return(0,Tk.jsxs)("div",{className:"cart-body",children:[(0,Tk.jsx)("h3",{className:"cart-title",children:"CART ITEMS:"}),0===n.length?(0,Tk.jsx)("p",{className:"empty-cart",children:"Your cart is empty."}):n.map(t=>{const n=(r=t.price)&&Number(r.toString().replace("$",""))||0;var r;return(0,Tk.jsxs)("div",{className:"cart-item",children:[(0,Tk.jsx)("div",{className:"cart-remove",onClick:()=>(async t=>{if(e)try{await Yf(Fp(ox,"Users",e.uid,"cart",t))}catch(n){console.error("Error removing item:",n)}})(t.id),children:(0,Tk.jsx)(lj,{})}),(0,Tk.jsxs)("div",{className:"cart-top",children:[(0,Tk.jsx)("img",{src:t.sellerAvatar||"https://randomuser.me/api/portraits/men/32.jpg",alt:t.sellerName||"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{className:"seller-info",children:[(0,Tk.jsx)("span",{className:"seller-name",children:t.sellerName||"Unknown Seller"}),(0,Tk.jsx)("span",{className:"seller-market",children:"Market"}),(0,Tk.jsxs)("div",{className:"stars",children:[Array(5).fill(0).map((e,t)=>(0,Tk.jsx)(sj,{color:"#f6c61d"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[t.reviews||0," Reviews"]})]})]})]}),(0,Tk.jsxs)("div",{className:"cart-content",children:[(0,Tk.jsx)(it,{to:`/eventpost/${t.postId}`,children:(0,Tk.jsx)("img",{src:t.image,alt:t.title,className:"product-image"})}),(0,Tk.jsxs)("div",{className:"product-info",children:[(0,Tk.jsx)(it,{to:`/eventpost/${t.postId}`,style:{color:"white",textDecoration:"none"},children:t.title}),(0,Tk.jsxs)("span",{className:"product-price",children:["$",n.toFixed(2)]})]})]})]},t.id)})]})}var lS,cS=n(393),uS="basil",dS="https://js.stripe.com",hS="".concat(dS,"/").concat(uS,"/stripe.js"),pS=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fS=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,mS="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",gS=function(e){return pS.test(e)||fS.test(e)},vS=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(hS).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},yS=null,bS=null,xS=null,wS=function(e){return null!==yS?yS:(yS=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(mS),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(dS,'"]')),t=0;t<e.length;t++){var n=e[t];if(gS(n.src))return n}return null}();if(r&&e)console.warn(mS);else if(r){if(r&&null!==xS&&null!==bS){var s;r.removeEventListener("load",xS),r.removeEventListener("error",bS),null===(s=r.parentNode)||void 0===s||s.removeChild(r),r=vS(e)}}else r=vS(e);xS=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),bS=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",xS),r.addEventListener("error",bS)}catch(i){return void n(i)}else t(null)})).catch(function(e){return yS=null,Promise.reject(e)})},kS=!1,jS=function(){return lS||(lS=wS(null).catch(function(e){return lS=null,Promise.reject(e)}))};Promise.resolve().then(function(){return jS()}).catch(function(e){kS||console.warn(e)});var NS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];kS=!0;var r=Date.now();return jS().then(function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),s=function(e){return 3===e?"v3":e}(e.version),i=uS;r&&s!==i&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(a,n),a}(e,t,r)})};const SS=NS("pk_test_51JN8mDDR30hjV6c2f6WkKbqaLIJ91qsbyfK9Ho1Ge3hCwL2b3aZnWim7Ew9RhfprRoiInPWDRsXC8gqcdW6v4ST700vBUAakpE");function ES(){const e=(0,cS.useStripe)(),n=(0,cS.useElements)(),{currentUser:r}=FN(),[s,i]=(0,t.useState)({fullName:"",email:"",address:"",city:"",state:"",zip:"",billingFullName:"",billingAddress:"",billingCity:"",billingState:"",billingZip:"",useBillingAsShipping:!1}),[a,o]=(0,t.useState)([]),[l,c]=(0,t.useState)("");(0,t.useEffect)(()=>{if(!r)return;const e=Xf(Mp(ox,"Users",r.uid,"cart"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));o(t)});return()=>e()},[r]),(0,t.useEffect)(()=>{s.useBillingAsShipping&&i(e=>({...e,fullName:e.billingFullName,address:e.billingAddress,city:e.billingCity,state:e.billingState,zip:e.billingZip}))},[s.billingFullName,s.billingAddress,s.billingCity,s.billingState,s.billingZip,s.useBillingAsShipping]);const u=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))},d=e=>Number(e.toString().replace("$",""))||0,h=a.reduce((e,t)=>e+d(t.price),0),p=.15*h,f=h+p;return(0,Tk.jsxs)("form",{className:"cb-checkout-body",onSubmit:t=>{t.preventDefault(),(async()=>{if(!e||!n)return void c("Stripe is not loaded yet.");const t=n.getElement(cS.CardElement),i={name:s.billingFullName,email:s.email,address:{line1:s.billingAddress,city:s.billingCity,state:s.billingState,postal_code:s.billingZip}},{error:o,paymentMethod:l}=await e.createPaymentMethod({type:"card",card:t,billing_details:i});if(o)c(`Error: ${o.message}`);else try{for(let e of a){let t="Posts";"Market"===e.type?t="MarketPosts":"Event"===e.type?t="EventPosts":"Directory"===e.type&&(t="DirectoryPosts");const n=Fp(ox,t,e.postId),i=await Hf(n);if(!i.exists())continue;const a=i.data(),o=Fp(Mp(ox,"Orders"));await Kf(o,{postId:e.postId,postType:e.type,postData:a,buyerInfo:{fullName:s.fullName,email:s.email,address:s.address,city:s.city,state:s.state,zip:s.zip},price:d(e.price),paymentMethod:"Card",timestamp:rm(),status:1,sellerId:a.sellerId||a.sellerUID||""}),await Yf(Fp(ox,"Users",r.uid,"cart",e.id))}c("Payment successful! Orders created.")}catch(u){console.error("Error creating orders:",u),c("Error creating orders. Check console.")}})()},children:[(0,Tk.jsx)("h3",{className:"cb-checkout-title",children:"Checkout"}),(0,Tk.jsxs)("div",{className:"cb-section",children:[(0,Tk.jsx)("h4",{className:"cb-section-title",children:"Delivery Information"}),(0,Tk.jsxs)("label",{className:"cb-toggle-label",children:[(0,Tk.jsx)("span",{children:"Optional - Use only if seller needs an address."}),(0,Tk.jsxs)("div",{className:"cb-toggle",children:[(0,Tk.jsx)("input",{type:"checkbox",checked:s.useBillingAsShipping,onChange:e=>i(t=>({...t,useBillingAsShipping:e.target.checked,fullName:e.target.checked?t.billingFullName:"",email:e.target.checked?t.email:"",address:e.target.checked?t.billingAddress:"",city:e.target.checked?t.billingCity:"",state:e.target.checked?t.billingState:"",zip:e.target.checked?t.billingZip:""}))}),(0,Tk.jsx)("span",{className:"cb-slider"})]})]}),s.useBillingAsShipping&&(0,Tk.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Tk.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",value:s.fullName,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",value:s.email,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"address",placeholder:"Street Address",value:s.address,onChange:u,required:!0}),(0,Tk.jsxs)("div",{className:"cb-two-col",children:[(0,Tk.jsx)("input",{type:"text",name:"city",placeholder:"City",value:s.city,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"state",placeholder:"State",value:s.state,onChange:u,required:!0})]}),(0,Tk.jsx)("input",{type:"text",name:"zip",placeholder:"ZIP Code",value:s.zip,onChange:u,required:!0})]})]}),(0,Tk.jsxs)("div",{className:"cb-section",children:[(0,Tk.jsx)("h4",{className:"cb-section-title",children:"Billing Information"}),(0,Tk.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Tk.jsx)("input",{type:"text",name:"billingFullName",placeholder:"Billing Full Name",value:s.billingFullName,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"billingAddress",placeholder:"Billing Street Address",value:s.billingAddress,onChange:u,required:!0}),(0,Tk.jsxs)("div",{className:"cb-two-col",children:[(0,Tk.jsx)("input",{type:"text",name:"billingCity",placeholder:"Billing City",value:s.billingCity,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"billingState",placeholder:"Billing State",value:s.billingState,onChange:u,required:!0})]}),(0,Tk.jsx)("input",{type:"text",name:"billingZip",placeholder:"Billing ZIP",value:s.billingZip,onChange:u,required:!0})]})]}),(0,Tk.jsxs)("div",{className:"cb-section",children:[(0,Tk.jsx)("h4",{className:"cb-section-title",children:"Payment Information"}),(0,Tk.jsx)("div",{className:"cb-card-light",children:(0,Tk.jsx)(cS.CardElement,{options:{style:_S}})})]}),(0,Tk.jsxs)("div",{className:"cb-section cb-order-summary",children:[(0,Tk.jsxs)("div",{className:"cb-row",children:[(0,Tk.jsx)("span",{children:"Subtotal:"}),(0,Tk.jsxs)("span",{children:["$",h.toFixed(2)]})]}),(0,Tk.jsxs)("div",{className:"cb-row",children:[(0,Tk.jsx)("span",{children:"Taxes & Fees:"}),(0,Tk.jsxs)("span",{children:["$",p.toFixed(2)]})]}),(0,Tk.jsx)("hr",{}),(0,Tk.jsxs)("div",{className:"cb-row cb-total",children:[(0,Tk.jsx)("span",{children:"Total:"}),(0,Tk.jsxs)("span",{children:["$",f.toFixed(2)]})]})]}),(0,Tk.jsx)("button",{type:"submit",className:"cb-submit-btn",disabled:!e,children:"Pay Now"}),l&&(0,Tk.jsx)("p",{style:{marginTop:"15px",color:l.startsWith("Error")?"#ff6b6b":"#00AA00"},children:l})]})}function CS(){return(0,Tk.jsx)(cS.Elements,{stripe:SS,children:(0,Tk.jsx)(ES,{})})}const _S={style:{base:{color:"#000000",iconColor:"#000000",backgroundColor:"#ffffff",fontFamily:"Arial, sans-serif",fontSize:"16px",lineHeight:"24px","::placeholder":{color:"#555"},caretColor:"#000000","::selection":{color:"#fff",backgroundColor:"#000"},":-webkit-autofill":{color:"#000000"}},invalid:{color:"#ff0000",iconColor:"#ff0000"}}},TS=()=>(0,Tk.jsxs)("div",{className:"content-page",children:[(0,Tk.jsx)(aS,{}),(0,Tk.jsxs)("div",{className:"shopping-cart",children:[(0,Tk.jsx)("div",{className:"cart-body-container",children:(0,Tk.jsx)(oS,{})}),(0,Tk.jsx)("div",{className:"cart-side-container",children:(0,Tk.jsx)(CS,{})})]})]}),IS=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://www.roadangelgroup.com/cdn/shop/articles/Driving_Into_The_Future_Featured.png?v=1687957466&width=1500');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Market Post"})]});const AS=function(e){var n,r,s;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:E}=FN(),C=ne();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Fp(ox,"Posts",i),r=await Hf(n);if(!r.exists())return void p(!1);const s=r.data();o(s);const a=Fp(ox,"Users",s.userId),l=await Hf(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"/Vrumies/default-profile.png"}),E){const t=Fp(ox,"Users",E.uid),n=await Hf(t);if(n.exists()){var e;const t=n.data();b((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(E){var t;const e=(null===(t=s.report)||void 0===t?void 0:t.includes(E.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,E]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(h)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["/Vrumies/default-thumbnail.png"],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png";return(0,Tk.jsxs)("div",{className:"post-section",children:[k&&(0,Tk.jsx)("div",{className:"copy-notification",children:k}),(0,Tk.jsxs)("div",{className:"post-left",children:[(0,Tk.jsxs)("div",{className:"post-content",children:[(0,Tk.jsxs)("div",{className:"post-header",children:[(0,Tk.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / EVENTS"}),(0,Tk.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Tk.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Tk.jsxs)("div",{className:"seller-row",children:[(0,Tk.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("div",{className:"seller-name",children:R}),(0,Tk.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Tk.jsxs)("div",{className:"post-action-buttons",children:[(0,Tk.jsx)("button",{className:"post-action-btn follow-btn "+(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Fp(ox,"Users",e);if(!(await Hf(t)).exists())return void _("User not found",4e3);const n=Mp(ox,"chats"),r=Tf(n,Af("participants","array-contains",E.uid)),s=await Gf(r);let i=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await Qf(n,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:rm()});i=t.id,await Qf(Mp(ox,"chats",i,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:rm(),photos:[],seenBy:[E.uid]}),await Kf(Fp(ox,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:rm()},{merge:!0})}C(`/inbox?chat=${i}`)}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Tk.jsxs)("div",{className:"tabs",children:[(0,Tk.jsx)("div",{className:"tab "+("description"===f?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Tk.jsx)("div",{className:"tab "+("details"===f?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Tk.jsx)("div",{className:"tab "+("reviews"===f?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===f&&(0,Tk.jsx)("p",{className:"description",children:A}),"details"===f&&(0,Tk.jsxs)("div",{className:"post-details",children:[(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Location:"})," ",null!==(r=a.location)&&void 0!==r?r:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Link:"})," ",a.link?(0,Tk.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:`https://${O}`:null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===f&&(0,Tk.jsx)("div",{className:"seller-reviews-section",children:(0,Tk.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Tk.jsxs)("div",{className:"actions",children:[(0,Tk.jsxs)("button",{className:"action-btn share "+(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Tk.jsx)(nj,{}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"action-btn bookmark "+(y?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Users",E.uid);try{y?(await Jf(e,{bookmarks:im(i)}),b(!1),_("Removed from bookmarks")):(await Jf(e,{bookmarks:sm(i)}),b(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(Wk,{}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"action-btn report "+(x?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Posts",i);try{const t=await Hf(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await Jf(e,{report:im(E.uid)}),w(!1),_("Report removed")):(await Jf(e,{report:sm(E.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(ej,{}),"REPORT"]})]}),(0,Tk.jsxs)("div",{className:"price-row",children:[(0,Tk.jsx)("span",{className:"price",children:null!==(s=a.price)&&void 0!==s?s:"Price: N/A"}),(0,Tk.jsx)("button",{className:"addtoCart",onClick:async()=>{if(E)try{var e;const t=Fp(Mp(ox,"Users",E.uid,"cart"),i);if((await Hf(t)).exists())return void alert("Already in cart");await Kf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png",image:(null===(e=a.images)||void 0===e?void 0:e[0])||"/Vrumies/default-thumbnail.png",reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Tk.jsxs)("div",{className:"post-right",children:[(0,Tk.jsxs)("div",{className:"image-container",children:[(0,Tk.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Tk.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Tk.jsx)(Xk,{className:"expand-icon"})})]}),(0,Tk.jsxs)("div",{className:"carousel",children:[(0,Tk.jsx)(qk,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Thumb ${t}`,className:"thumb "+(t===u?"active":""),onClick:()=>d(t)},t)),(0,Tk.jsx)(Hk,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const PS=function(e){var n,r;let{postId:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void h({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?h({uid:e.uid}):h({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else h(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!s)return;const e=Xf(Fp(ox,"Posts",s),e=>{e.exists()&&f({id:e.id,...e.data()})});return()=>e()},[s]);const m=async e=>{if(!d)return void alert("You must be signed in to vote.");const t=d.uid,n=Fp(ox,"Posts",s);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const s=await Hf(n);if(s.exists()){var r,i;const e=s.data(),t=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await Jf(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{u(!0);try{const e=Mp(ox,"Posts",s,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{u(!1)}})()},[s]);const g=null===d||void 0===d?void 0:d.uid,v=(null===p||void 0===p?void 0:p.likes)||[],y=(null===p||void 0===p?void 0:p.dislikes)||[],b=g&&v.includes(g),x=g&&y.includes(g);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(b?"active":""),onClick:()=>m("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(n=null===p||void 0===p?void 0:p.likesCounter)&&void 0!==n?n:v.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(x?"active":""),onClick:()=>m("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(r=null===p||void 0===p?void 0:p.dislikesCounter)&&void 0!==r?r:y.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilepic)||"/Vrumies/default-profile.png",alt:(null===d||void 0===d?void 0:d.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===d||void 0===d?void 0:d.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!lx.currentUser||!d)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",s,"comments"),t={name:d.username||"Unknown User",avatar:d.profilepic||"/Vrumies/default-profile.png",text:i,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),c?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},RS=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","market")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading market posts..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Market Posts"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(Sj,{...e},e.id))})]})},DS=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"market"===n.data().type||console.warn("Post not found or not an market post")}catch(t){console.error("Error fetching post:",t)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Tk.jsxs)("div",{className:"vpe-content-page",children:[(0,Tk.jsx)(IS,{}),(0,Tk.jsx)(AS,{postId:e}),(0,Tk.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Tk.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Tk.jsx)(PS,{postId:e})}),(0,Tk.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Tk.jsx)(RS,{postId:e})})]})]})};function OS(e){let{onSelect:n}=e;const[r,s]=(0,t.useState)("referral"),i=e=>{s(e),n&&n(e)};return(0,Tk.jsxs)("div",{className:"settings-panel",children:[(0,Tk.jsx)("h2",{className:"settings-title",children:(0,Tk.jsx)("span",{children:"Settings"})}),(0,Tk.jsxs)("button",{className:"settings-btn "+("referral"===r?"active":""),onClick:()=>i("referral"),children:[(0,Tk.jsx)(Jk,{className:"settings-icon"}),(0,Tk.jsx)("span",{children:"Vrumies Referral Code"})]}),(0,Tk.jsxs)("button",{className:"settings-btn "+("blocked"===r?"active":""),onClick:()=>i("blocked"),children:[(0,Tk.jsx)(cj,{className:"settings-icon"}),(0,Tk.jsx)("span",{children:"Blocked Users"})]})]})}function LS(){return(0,Tk.jsxs)("div",{className:"blocked-users-container",children:[(0,Tk.jsx)("h2",{className:"blocked-title",children:"Blocked Users"}),(0,Tk.jsxs)("div",{className:"block-input-row",children:[(0,Tk.jsx)("input",{type:"text",placeholder:"Insert Username to Block...",className:"block-input"}),(0,Tk.jsx)("button",{className:"block-btn",children:"BLOCK USER"})]}),[{name:"Jessica Collyard",avatar:"https://randomuser.me/api/portraits/women/68.jpg",note:""},{name:"Rayna Culhane",avatar:"https://randomuser.me/api/portraits/men/45.jpg",note:""},{name:"Lattisha Williams",avatar:"https://randomuser.me/api/portraits/women/12.jpg",note:"They kept spamming me with random messages that had nothing to do with what I was interested in."}].map((e,t)=>(0,Tk.jsxs)("div",{className:"blocked-card",children:[(0,Tk.jsx)("img",{src:e.avatar,alt:e.name,className:"blocked-avatar"}),(0,Tk.jsxs)("div",{className:"blocked-info",children:[(0,Tk.jsx)("h3",{children:e.name}),(0,Tk.jsx)("p",{className:"why-block",children:"Why did I block this user?"}),(0,Tk.jsx)("textarea",{placeholder:"Insert notes here...",defaultValue:e.note,className:"blocked-textarea"})]}),(0,Tk.jsxs)("div",{className:"unblock-section",children:[(0,Tk.jsx)("p",{children:"Unblock User?"}),(0,Tk.jsx)("button",{className:"unblock-btn",children:"YES, UNBLOCK"})]})]},t))]})}function MS(){return(0,Tk.jsxs)("div",{className:"referral-container",children:[(0,Tk.jsx)("h2",{className:"referral-title",children:"Vrumies Referral Code"}),(0,Tk.jsx)("p",{className:"referral-text",children:"Your personal referral code is:"}),(0,Tk.jsx)("div",{className:"referral-code-box",children:"ABC123"}),(0,Tk.jsx)("button",{className:"copy-btn",children:"Copy Code"})]})}function FS(e){let{selected:t}=e;return(0,Tk.jsxs)("div",{className:"settings-body",children:["blocked"===t&&(0,Tk.jsx)(LS,{}),"referral"===t&&(0,Tk.jsx)(MS,{})]})}const US=()=>{const[e,n]=(0,t.useState)("referral");return(0,Tk.jsx)("div",{className:"content-page",children:(0,Tk.jsxs)("div",{className:"settings-page",children:[(0,Tk.jsx)(OS,{onSelect:n,selected:e}),(0,Tk.jsx)(FS,{selected:e})]})})};function VS(){const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(Cy(),async e=>{if(e)try{u(e.uid);const t=Fp(ox,"Users",e.uid),r=await Hf(t);r.exists()?(n(r.data()),l(r.data().aboutme||"")):(console.warn("No Firestore profile found, using Auth info only."),n({username:e.displayName,profilepic:e.photoURL,email:e.email}))}catch(t){console.error("Error fetching user profile:",t)}else n(null);s(!1)});return()=>e()},[]);if(r)return(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading profile..."});if(!e)return(0,Tk.jsx)("p",{style:{color:"white"},children:"No user logged in."});const{username:d,profilepic:h,email:p}=e;return(0,Tk.jsxs)("div",{className:"mpsp-card",children:[(0,Tk.jsxs)("div",{className:"mpsp-image-wrapper",children:[(0,Tk.jsx)("img",{src:h,alt:"Profile",className:"mpsp-image"}),(0,Tk.jsx)(Gk,{className:"mpsp-camera-icon",onClick:()=>alert("Change profile picture clicked")}),(0,Tk.jsx)(Xk,{className:"mpsp-maximize-icon",onClick:()=>window.open(h,"_blank")})]}),(0,Tk.jsxs)("div",{className:"mpsp-name",children:[(0,Tk.jsx)("span",{className:"mpsp-first-name",children:d||"No Name"}),(0,Tk.jsx)(tj,{className:"mpsp-edit-icon"})]}),(0,Tk.jsx)("div",{className:"mpsp-email",children:p}),(0,Tk.jsx)("div",{className:"mpsp-stars",children:[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{className:"mpsp-star"},t))}),(0,Tk.jsx)("button",{className:"mpsp-reviews-btn",children:"Show All Reviews"}),(0,Tk.jsxs)("div",{className:"mpsp-about-section",children:[(0,Tk.jsxs)("div",{className:"mpsp-about-header",children:[(0,Tk.jsx)("span",{children:"About me"}),i?(0,Tk.jsx)("button",{className:"mpsp-edit-about",onClick:async()=>{if(c)try{const e=Fp(ox,"Users",c);await Jf(e,{aboutme:o}).catch(async()=>{await Kf(e,{aboutme:o},{merge:!0})}),n(e=>({...e,aboutme:o})),a(!1)}catch(e){console.error("Error updating about me:",e)}},children:"Save"}):(0,Tk.jsx)("span",{className:"mpsp-edit-about",onClick:()=>a(!0),children:"Edit"})]}),i?(0,Tk.jsx)("textarea",{className:"mpsp-about-input",value:o,onChange:e=>l(e.target.value)}):(0,Tk.jsx)("p",{className:"mpsp-about-text",children:e.aboutme||"No bio yet."})]})]})}const zS=[{id:"content",label:"My Content Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164529/Content_fbid4j.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164521/Content-Selected_qoroo3.png"},{id:"request",label:"My Request Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164530/Request_jvwi6g.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164520/Request-Selected_xbnyfs.png"},{id:"market",label:"My Market Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164523/Market-Selected_q99jmx.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164523/Market-Selected_q99jmx.png"},{id:"event",label:"My Event Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164532/Event_ytzll2.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164522/Event-Selected_igrcff.png"},{id:"directory",label:"My Directory Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164531/Directory_gchfhm.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164521/Directory-Selected_ae5jpp.png"}];function BS(e){let{selected:t,setSelected:n}=e;return(0,Tk.jsx)("div",{className:"profile-categories",children:zS.map(e=>(0,Tk.jsxs)("div",{className:"category-card "+(t===e.id?"selected":""),onClick:()=>n(e.id),children:[(0,Tk.jsx)("img",{src:t===e.id?e.iconSelected:e.icon,alt:e.label}),(0,Tk.jsx)("span",{children:e.label})]},e.id))})}const $S=[{id:0,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"First Video Post",creator:"Gryan Duminson",date:"Dec 20, 2024",views:1200,likes:60,comments:9,duration:"13:30",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:1,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstart Innovations Explained",creator:"Gryan Duminson",date:"Jan 5, 2025",views:980,likes:48,comments:7,duration:"14:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:2,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How Jumpstarters Are Changing the Game",creator:"Gryan Duminson",date:"Feb 15, 2025",views:1500,likes:80,comments:15,duration:"12:45",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:3,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Top 10 Jumpstarter Tips",creator:"Gryan Duminson",date:"Mar 10, 2025",views:700,likes:35,comments:4,duration:"11:50",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:4,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters: What You Need to Know",creator:"Gryan Duminson",date:"Apr 1, 2025",views:1300,likes:55,comments:10,duration:"13:05",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:5,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Maintenance Tips",creator:"Gryan Duminson",date:"Apr 15, 2025",views:900,likes:42,comments:6,duration:"10:20",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:6,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Choosing the Right Jumpstarter",creator:"Gryan Duminson",date:"May 3, 2025",views:1100,likes:50,comments:8,duration:"12:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:7,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Common Jumpstarter Mistakes to Avoid",creator:"Gryan Duminson",date:"May 20, 2025",views:850,likes:38,comments:5,duration:"11:15",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:8,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters and Car Battery Care",creator:"Gryan Duminson",date:"Jun 5, 2025",views:1200,likes:60,comments:9,duration:"13:40",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:9,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Innovative Jumpstarter Features",creator:"Gryan Duminson",date:"Jun 22, 2025",views:1e3,likes:45,comments:7,duration:"12:25",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:10,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Safety Guidelines",creator:"Gryan Duminson",date:"Jul 10, 2025",views:1300,likes:55,comments:11,duration:"14:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:11,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How to Store Your Jumpstarter",creator:"Gryan Duminson",date:"Jul 25, 2025",views:950,likes:44,comments:6,duration:"11:35",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:12,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Troubleshooting Jumpstarter Issues",creator:"Gryan Duminson",date:"Aug 8, 2025",views:1050,likes:48,comments:8,duration:"12:55",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:13,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters for Extreme Conditions",creator:"Gryan Duminson",date:"Aug 22, 2025",views:980,likes:50,comments:7,duration:"13:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:14,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Future Trends in Jumpstarters",creator:"Gryan Duminson",date:"Sep 5, 2025",views:1150,likes:52,comments:9,duration:"14:20",profilePic:"/Vrumies/gryan-pfp.jpg"}],qS=[{id:0,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"First Request Post",creator:"Gryan Duminson",date:"Dec 20, 2024",views:1200,likes:60,comments:9,duration:"13:30",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:1,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstart Innovations Explained",creator:"Gryan Duminson",date:"Jan 5, 2025",views:980,likes:48,comments:7,duration:"14:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:2,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How Jumpstarters Are Changing the Game",creator:"Gryan Duminson",date:"Feb 15, 2025",views:1500,likes:80,comments:15,duration:"12:45",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:3,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Top 10 Jumpstarter Tips",creator:"Gryan Duminson",date:"Mar 10, 2025",views:700,likes:35,comments:4,duration:"11:50",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:4,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters: What You Need to Know",creator:"Gryan Duminson",date:"Apr 1, 2025",views:1300,likes:55,comments:10,duration:"13:05",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:5,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Maintenance Tips",creator:"Gryan Duminson",date:"Apr 15, 2025",views:900,likes:42,comments:6,duration:"10:20",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:6,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Choosing the Right Jumpstarter",creator:"Gryan Duminson",date:"May 3, 2025",views:1100,likes:50,comments:8,duration:"12:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:7,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Common Jumpstarter Mistakes to Avoid",creator:"Gryan Duminson",date:"May 20, 2025",views:850,likes:38,comments:5,duration:"11:15",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:8,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters and Car Battery Care",creator:"Gryan Duminson",date:"Jun 5, 2025",views:1200,likes:60,comments:9,duration:"13:40",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:9,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Innovative Jumpstarter Features",creator:"Gryan Duminson",date:"Jun 22, 2025",views:1e3,likes:45,comments:7,duration:"12:25",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:10,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Safety Guidelines",creator:"Gryan Duminson",date:"Jul 10, 2025",views:1300,likes:55,comments:11,duration:"14:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:11,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How to Store Your Jumpstarter",creator:"Gryan Duminson",date:"Jul 25, 2025",views:950,likes:44,comments:6,duration:"11:35",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:12,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Troubleshooting Jumpstarter Issues",creator:"Gryan Duminson",date:"Aug 8, 2025",views:1050,likes:48,comments:8,duration:"12:55",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:13,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters for Extreme Conditions",creator:"Gryan Duminson",date:"Aug 22, 2025",views:980,likes:50,comments:7,duration:"13:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:14,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Future Trends in Jumpstarters",creator:"Gryan Duminson",date:"Sep 5, 2025",views:1150,likes:52,comments:9,duration:"14:20",profilePic:"/Vrumies/gryan-pfp.jpg"}],HS=[{id:0,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Firt Market Post",creator:"Gryan Duminson",date:"Dec 20, 2024",views:1200,likes:60,comments:9,duration:"13:30",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:1,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstart Innovations Explained",creator:"Gryan Duminson",date:"Jan 5, 2025",views:980,likes:48,comments:7,duration:"14:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:2,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How Jumpstarters Are Changing the Game",creator:"Gryan Duminson",date:"Feb 15, 2025",views:1500,likes:80,comments:15,duration:"12:45",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:3,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Top 10 Jumpstarter Tips",creator:"Gryan Duminson",date:"Mar 10, 2025",views:700,likes:35,comments:4,duration:"11:50",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:4,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters: What You Need to Know",creator:"Gryan Duminson",date:"Apr 1, 2025",views:1300,likes:55,comments:10,duration:"13:05",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:5,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Maintenance Tips",creator:"Gryan Duminson",date:"Apr 15, 2025",views:900,likes:42,comments:6,duration:"10:20",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:6,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Choosing the Right Jumpstarter",creator:"Gryan Duminson",date:"May 3, 2025",views:1100,likes:50,comments:8,duration:"12:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:7,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Common Jumpstarter Mistakes to Avoid",creator:"Gryan Duminson",date:"May 20, 2025",views:850,likes:38,comments:5,duration:"11:15",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:8,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters and Car Battery Care",creator:"Gryan Duminson",date:"Jun 5, 2025",views:1200,likes:60,comments:9,duration:"13:40",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:9,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Innovative Jumpstarter Features",creator:"Gryan Duminson",date:"Jun 22, 2025",views:1e3,likes:45,comments:7,duration:"12:25",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:10,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Safety Guidelines",creator:"Gryan Duminson",date:"Jul 10, 2025",views:1300,likes:55,comments:11,duration:"14:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:11,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How to Store Your Jumpstarter",creator:"Gryan Duminson",date:"Jul 25, 2025",views:950,likes:44,comments:6,duration:"11:35",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:12,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Troubleshooting Jumpstarter Issues",creator:"Gryan Duminson",date:"Aug 8, 2025",views:1050,likes:48,comments:8,duration:"12:55",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:13,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters for Extreme Conditions",creator:"Gryan Duminson",date:"Aug 22, 2025",views:980,likes:50,comments:7,duration:"13:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:14,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Future Trends in Jumpstarters",creator:"Gryan Duminson",date:"Sep 5, 2025",views:1150,likes:52,comments:9,duration:"14:20",profilePic:"/Vrumies/gryan-pfp.jpg"}],WS=[{id:0,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"First Event Post",creator:"Gryan Duminson",date:"Dec 20, 2024",views:1200,likes:60,comments:9,duration:"13:30",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:1,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstart Innovations Explained",creator:"Gryan Duminson",date:"Jan 5, 2025",views:980,likes:48,comments:7,duration:"14:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:2,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How Jumpstarters Are Changing the Game",creator:"Gryan Duminson",date:"Feb 15, 2025",views:1500,likes:80,comments:15,duration:"12:45",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:3,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Top 10 Jumpstarter Tips",creator:"Gryan Duminson",date:"Mar 10, 2025",views:700,likes:35,comments:4,duration:"11:50",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:4,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters: What You Need to Know",creator:"Gryan Duminson",date:"Apr 1, 2025",views:1300,likes:55,comments:10,duration:"13:05",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:5,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Maintenance Tips",creator:"Gryan Duminson",date:"Apr 15, 2025",views:900,likes:42,comments:6,duration:"10:20",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:6,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Choosing the Right Jumpstarter",creator:"Gryan Duminson",date:"May 3, 2025",views:1100,likes:50,comments:8,duration:"12:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:7,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Common Jumpstarter Mistakes to Avoid",creator:"Gryan Duminson",date:"May 20, 2025",views:850,likes:38,comments:5,duration:"11:15",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:8,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters and Car Battery Care",creator:"Gryan Duminson",date:"Jun 5, 2025",views:1200,likes:60,comments:9,duration:"13:40",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:9,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Innovative Jumpstarter Features",creator:"Gryan Duminson",date:"Jun 22, 2025",views:1e3,likes:45,comments:7,duration:"12:25",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:10,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Safety Guidelines",creator:"Gryan Duminson",date:"Jul 10, 2025",views:1300,likes:55,comments:11,duration:"14:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:11,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How to Store Your Jumpstarter",creator:"Gryan Duminson",date:"Jul 25, 2025",views:950,likes:44,comments:6,duration:"11:35",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:12,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Troubleshooting Jumpstarter Issues",creator:"Gryan Duminson",date:"Aug 8, 2025",views:1050,likes:48,comments:8,duration:"12:55",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:13,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters for Extreme Conditions",creator:"Gryan Duminson",date:"Aug 22, 2025",views:980,likes:50,comments:7,duration:"13:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:14,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Future Trends in Jumpstarters",creator:"Gryan Duminson",date:"Sep 5, 2025",views:1150,likes:52,comments:9,duration:"14:20",profilePic:"/Vrumies/gryan-pfp.jpg"}],GS=[{id:0,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"First Directory Post",creator:"Gryan Duminson",date:"Dec 20, 2024",views:1200,likes:60,comments:9,duration:"13:30",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:1,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstart Innovations Explained",creator:"Gryan Duminson",date:"Jan 5, 2025",views:980,likes:48,comments:7,duration:"14:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:2,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How Jumpstarters Are Changing the Game",creator:"Gryan Duminson",date:"Feb 15, 2025",views:1500,likes:80,comments:15,duration:"12:45",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:3,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Top 10 Jumpstarter Tips",creator:"Gryan Duminson",date:"Mar 10, 2025",views:700,likes:35,comments:4,duration:"11:50",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:4,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters: What You Need to Know",creator:"Gryan Duminson",date:"Apr 1, 2025",views:1300,likes:55,comments:10,duration:"13:05",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:5,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Maintenance Tips",creator:"Gryan Duminson",date:"Apr 15, 2025",views:900,likes:42,comments:6,duration:"10:20",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:6,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Choosing the Right Jumpstarter",creator:"Gryan Duminson",date:"May 3, 2025",views:1100,likes:50,comments:8,duration:"12:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:7,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Common Jumpstarter Mistakes to Avoid",creator:"Gryan Duminson",date:"May 20, 2025",views:850,likes:38,comments:5,duration:"11:15",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:8,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters and Car Battery Care",creator:"Gryan Duminson",date:"Jun 5, 2025",views:1200,likes:60,comments:9,duration:"13:40",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:9,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Innovative Jumpstarter Features",creator:"Gryan Duminson",date:"Jun 22, 2025",views:1e3,likes:45,comments:7,duration:"12:25",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:10,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarter Safety Guidelines",creator:"Gryan Duminson",date:"Jul 10, 2025",views:1300,likes:55,comments:11,duration:"14:00",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:11,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"How to Store Your Jumpstarter",creator:"Gryan Duminson",date:"Jul 25, 2025",views:950,likes:44,comments:6,duration:"11:35",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:12,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Troubleshooting Jumpstarter Issues",creator:"Gryan Duminson",date:"Aug 8, 2025",views:1050,likes:48,comments:8,duration:"12:55",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:13,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Jumpstarters for Extreme Conditions",creator:"Gryan Duminson",date:"Aug 22, 2025",views:980,likes:50,comments:7,duration:"13:10",profilePic:"/Vrumies/gryan-pfp.jpg"},{id:14,thumbnail:"/Vrumies/jumpstart-thumb.jpg",title:"Future Trends in Jumpstarters",creator:"Gryan Duminson",date:"Sep 5, 2025",views:1150,likes:52,comments:9,duration:"14:20",profilePic:"/Vrumies/gryan-pfp.jpg"}],KS={content:"My Content Posts",request:"My Request Posts",market:"My Market Posts",event:"My Event Posts",directory:"My Directory Posts"};function JS(e){let{selectedCategory:t}=e,n=[];switch(t){case"content":n=$S;break;case"request":n=qS;break;case"market":n=HS;break;case"event":n=WS;break;case"directory":n=GS;break;default:n=[]}return n=n.slice(0,9),(0,Tk.jsxs)("div",{className:"my-profile-body",children:[(0,Tk.jsx)("h2",{className:"profile-body-title",children:KS[t]}),(0,Tk.jsx)(vj,{posts:n})]})}const YS=()=>{const[e,n]=(0,t.useState)("content");return(0,Tk.jsx)("div",{className:"content-page",children:(0,Tk.jsxs)("div",{className:"my-profile",children:[(0,Tk.jsx)("div",{className:"my-profile-sidepanel",children:(0,Tk.jsx)(VS,{})}),(0,Tk.jsxs)("div",{className:"my-profile-right",children:[(0,Tk.jsx)("div",{className:"my-profile-section",children:(0,Tk.jsx)(BS,{selected:e,setSelected:n})}),(0,Tk.jsx)("div",{className:"my-profile-section",children:(0,Tk.jsx)(JS,{selectedCategory:e})})]})]})})},QS=()=>{const{userId:e}=re(),[n,r]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[a,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{i(!0);try{const t=Tf(Mp(ox,"Users"),Af("userid","==",e)),n=await Gf(t);n.empty?(console.warn("User not found"),r(null)):r(n.docs[0].data())}catch(t){console.error("Error fetching user:",t),r(null)}finally{i(!1)}})()},[e]);return s?(0,Tk.jsx)("div",{className:"vpsp-profile-card",children:(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."})}):n?(0,Tk.jsxs)("div",{className:"vpsp-profile-card",children:[(0,Tk.jsxs)("div",{className:"vpsp-profile-image-wrapper",children:[(0,Tk.jsx)("img",{src:n.profilepic||"https://via.placeholder.com/150",alt:n.username,className:"vpsp-profile-image"}),(0,Tk.jsx)(Xk,{className:"vpsp-maximize-icon",onClick:()=>window.open(n.profilepic,"_blank")})]}),(0,Tk.jsx)("div",{className:"vpsp-profile-name",children:(0,Tk.jsx)("span",{className:"vpsp-first-name",children:n.username})}),(0,Tk.jsx)("div",{className:"vpsp-profile-email",children:n.email}),(0,Tk.jsx)("div",{className:"vpsp-stars",children:[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{className:"vpsp-star"},t))}),(0,Tk.jsxs)("div",{className:"vpsp-button-stack",children:[(0,Tk.jsx)("button",{className:"vpsp-action-btn vpsp-follow-btn "+(a?"following":""),onClick:()=>o(!a),children:a?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"vpsp-action-btn",children:"Message Me"}),(0,Tk.jsx)("button",{className:"vpsp-action-btn",children:"View Reviews"})]}),(0,Tk.jsxs)("div",{className:"vpsp-about-section",children:[(0,Tk.jsx)("div",{className:"vpsp-about-header",children:"About me"}),(0,Tk.jsx)("p",{className:"vpsp-about-text",children:n.aboutme&&""!==n.aboutme.trim()?n.aboutme:"No bio yet."})]})]}):(0,Tk.jsx)("div",{className:"vpsp-profile-card",children:(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"User not found"})})},XS=[{id:"content",label:"My Content Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164529/Content_fbid4j.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164521/Content-Selected_qoroo3.png"},{id:"request",label:"My Request Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164530/Request_jvwi6g.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164520/Request-Selected_xbnyfs.png"},{id:"market",label:"My Market Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164523/Market-Selected_q99jmx.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164523/Market-Selected_q99jmx.png"},{id:"event",label:"My Event Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164532/Event_ytzll2.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164522/Event-Selected_igrcff.png"},{id:"directory",label:"My Directory Posts",icon:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164531/Directory_gchfhm.png",iconSelected:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755164521/Directory-Selected_ae5jpp.png"}];function ZS(){const[e,n]=(0,t.useState)("content");return(0,Tk.jsx)("div",{className:"vpc-profile-categories",children:XS.map(t=>(0,Tk.jsxs)("div",{className:"vpc-category-card "+(e===t.id?"vpc-selected":""),onClick:()=>n(t.id),children:[(0,Tk.jsx)("img",{src:e===t.id?t.iconSelected:t.icon,alt:t.label}),(0,Tk.jsx)("span",{children:t.label})]},t.id))})}const eE=()=>(0,Tk.jsx)("div",{className:"content-page",children:(0,Tk.jsxs)("div",{className:"view-profile",children:[(0,Tk.jsx)("div",{className:"view-profile-sidepanel",children:(0,Tk.jsx)(QS,{})}),(0,Tk.jsx)("div",{className:"view-profile-categories",children:(0,Tk.jsx)(ZS,{})})]})});function tE(e){let{onClose:t}=e;return(0,Tk.jsx)("div",{className:"pmo-overlay",children:(0,Tk.jsxs)("div",{className:"pmo-overlay-content",children:[(0,Tk.jsx)("button",{className:"pmo-close-btn",onClick:t,children:"\u2715"}),(0,Tk.jsxs)("div",{className:"pmo-payment-method",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/CashApp-Icon_kykgyd.png",alt:"Cash App"}),(0,Tk.jsx)("input",{type:"text",placeholder:"TYPE YOUR CASH APP USERNAME HERE..."}),(0,Tk.jsx)("button",{className:"pmo-cancel-btn",children:"Cancel"}),(0,Tk.jsx)("button",{className:"pmo-save-btn",children:"Save"})]}),(0,Tk.jsxs)("div",{className:"pmo-payment-method",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/Venmo-Icon_wbjipo.png",alt:"Venmo"}),(0,Tk.jsx)("input",{type:"text",placeholder:"TYPE YOUR VENMO USERNAME HERE..."}),(0,Tk.jsx)("button",{className:"pmo-cancel-btn",children:"Cancel"}),(0,Tk.jsx)("button",{className:"pmo-save-btn",children:"Save"})]}),(0,Tk.jsxs)("div",{className:"pmo-payment-method",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/Paypal-Icon_isktt9.png",alt:"PayPal"}),(0,Tk.jsx)("input",{type:"text",placeholder:"TYPE YOUR PAYPAL USERNAME HERE..."}),(0,Tk.jsx)("button",{className:"pmo-cancel-btn",children:"Cancel"}),(0,Tk.jsx)("button",{className:"pmo-save-btn",children:"Save"})]}),(0,Tk.jsxs)("div",{className:"pmo-bank-method",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/Stripe-Icon_f5i6vd.png",alt:"Stripe"}),(0,Tk.jsx)("button",{className:"pmo-connect-btn",children:"Connect"}),(0,Tk.jsxs)("div",{className:"pmo-bank-status",children:["Status: ",(0,Tk.jsx)("span",{style:{color:"#00ff00"},children:"Connected"}),(0,Tk.jsx)("br",{}),"Bank Account ending in: ",(0,Tk.jsx)("span",{style:{color:"#00ff00"},children:"8948"})]})]}),(0,Tk.jsxs)("div",{className:"pmo-total-balance",children:[(0,Tk.jsx)("div",{className:"pmo-label",children:"TOTAL BALANCE"}),(0,Tk.jsx)("div",{className:"pmo-amount",children:"$56.95"})]}),(0,Tk.jsx)("div",{className:"pmo-footer-note",children:"PAYOUTS ARE DONE MANUALLY BY VRUMIES AFTER VERIFICATION OF ORDER COMPLETION"})]})})}const nE={Market:()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",tokens:"",images:[],condition:"",shippingTime:"",price:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)([]),m=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_PLACES_API_KEY&libraries=places",e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const g=e=>{n(t=>t===e?null:e)},v=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))},y="/Vrumies";return o?(0,Tk.jsx)("div",{className:"mpf-post-success-message",children:(0,Tk.jsx)("p",{children:i})}):(0,Tk.jsxs)("form",{className:"mpf-post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void a("\u274c You must be signed in to submit a post.");const n={...r,tokens:r.tokens||0,createdAt:ta.now(),type:"market",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),a("\u2705 Market post added!"),l(!0)}catch(s){console.error("\u274c Firestore error:",s),a("\u274c Failed to add post.")}},children:[(0,Tk.jsx)("label",{className:"mpf-form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:v,required:!0}),(0,Tk.jsx)("label",{className:"mpf-form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:v,required:!0}),(0,Tk.jsxs)("div",{className:"mpf-toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Map-Icon.png`,alt:"Location",onClick:()=>g("location")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Link-Icon.png`,alt:"Link",onClick:()=>g("link")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Image-Icon.png`,alt:"Image",onClick:()=>g("image")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Token-Icon.png`,alt:"Tokens",onClick:()=>g("tokens")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Condition-Icon.png`,alt:"Condition",onClick:()=>g("condition")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/ShippingTime-Icon.png`,alt:"Shipping Time",onClick:()=>g("shippingTime")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Price-Icon.png`,alt:"Price",onClick:()=>g("price")})]}),"location"===e&&(0,Tk.jsxs)("div",{className:"autocomplete-wrapper",children:[(0,Tk.jsx)("input",{type:"text",placeholder:"Type a city...",value:d,onChange:e=>{const t=e.target.value;h(t),m.current&&t?m.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{f("OK"===t&&e?e:[])}):f([])},required:!0}),p.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:p.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t,n;const r=e.terms,i=(null===(t=r[0])||void 0===t?void 0:t.value)||"",a=(null===(n=r[1])||void 0===n?void 0:n.value)||"",o=`${i}, ${a}`;s(e=>({...e,location:o,city:i,state:a})),h(o),f([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:v,className:"link"===e?"":"mpf-hidden-input"}),"image"===e&&(0,Tk.jsxs)("div",{className:"mpf-upload-container",children:[(0,Tk.jsxs)("label",{className:"mpf-form-label",children:["Upload Images (max ",7,")"]}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files);if(t.length)if(r.images.length+t.length>7)alert("You can upload a maximum of 7 images.");else{u(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","vrumies_preset");return(await _k.post("https://api.cloudinary.com/v1_1/dmjvngk3o/image/upload",t)).data.secure_url}),n=await Promise.all(e);s(e=>({...e,images:[...e.images,...n]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{u(!1)}}}}),c&&(0,Tk.jsx)("p",{className:"mpf-uploading-text",children:"Uploading images..."}),(0,Tk.jsx)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"10px"},children:r.images.map((e,t)=>(0,Tk.jsxs)("div",{style:{position:"relative"},children:[(0,Tk.jsx)("img",{src:e,alt:`Uploaded ${t}`,className:"mpf-preview-media"}),(0,Tk.jsx)("button",{type:"button",style:{position:"absolute",top:"-8px",right:"-8px",background:"red",color:"#fff",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer"},onClick:()=>(e=>{s(t=>({...t,images:t.images.filter((t,n)=>n!==e)}))})(t),children:"\xd7"})]},t))})]}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:v,className:"tokens"===e?"":"mpf-hidden-input"}),"condition"===e&&(0,Tk.jsxs)("select",{name:"condition",value:r.condition,onChange:v,className:"mpf-dropdown",children:[(0,Tk.jsx)("option",{value:"",children:"Select condition"}),(0,Tk.jsx)("option",{value:"New",children:"New"}),(0,Tk.jsx)("option",{value:"Used",children:"Used"})]}),"shippingTime"===e&&(0,Tk.jsxs)("select",{name:"shippingTime",value:r.shippingTime,onChange:v,className:"mpf-dropdown",children:[(0,Tk.jsx)("option",{value:"",children:"Select shipping time"}),(0,Tk.jsx)("option",{value:"Local Pickup",children:"Local Pickup"}),(0,Tk.jsx)("option",{value:"2-4 days",children:"2-4 days"}),(0,Tk.jsx)("option",{value:"4-7 days",children:"4-7 days"}),(0,Tk.jsx)("option",{value:"7-10 days",children:"7-10 days"})]}),"price"===e&&(0,Tk.jsx)("input",{type:"text",name:"price",placeholder:"$0.00",value:r.price||"",onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const n=parseFloat(t);t=isNaN(n)?"$0.00":`$${n.toFixed(2)}`,s(e=>({...e,price:t}))},className:"mpf-dropdown"}),(0,Tk.jsx)("button",{type:"submit",className:"mpf-submit-btn",children:"Submit"}),i&&(0,Tk.jsx)("p",{children:i})]})},Event:()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",images:[],location:"",city:"",state:"",link:"",tokens:"",eventDateTime:"",price:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)([]),m=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_PLACES_API_KEY&libraries=places",e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const g=e=>{n(t=>t===e?null:e)},v=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))},y="/Vrumies";return o?(0,Tk.jsx)("div",{className:"event-success-message",children:(0,Tk.jsx)("p",{children:i})}):(0,Tk.jsxs)("form",{className:"event-post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void a("\u274c You must be signed in to submit a post.");const n={...r,tokens:r.tokens||0,eventDateTime:r.eventDateTime?ta.fromDate(new Date(r.eventDateTime)):null,createdAt:ta.now(),type:"event",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),a("\u2705 Event post added!"),l(!0)}catch(s){console.error("Firestore error:",s),a("\u274c Failed to add post.")}},children:[(0,Tk.jsx)("label",{className:"event-form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:v,required:!0}),(0,Tk.jsx)("label",{className:"event-form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:v,required:!0}),(0,Tk.jsxs)("div",{className:"event-toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Map-Icon.png`,alt:"Location",onClick:()=>g("location")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Link-Icon.png`,alt:"Link",onClick:()=>g("link")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Image-Icon.png`,alt:"Image",onClick:()=>g("images")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Token-Icon.png`,alt:"Tokens",onClick:()=>g("tokens")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Calendar-Icon.png`,alt:"Calendar",onClick:()=>g("eventDateTime")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Price-Icon.png`,alt:"Price",onClick:()=>g("price")})]}),"location"===e&&(0,Tk.jsxs)("div",{className:"autocomplete-wrapper",children:[(0,Tk.jsx)("input",{type:"text",placeholder:"Type a city...",value:d,onChange:e=>{const t=e.target.value;h(t),m.current&&t?m.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{f("OK"===t&&e?e:[])}):f([])},required:!0}),p.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:p.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t,n;const r=e.terms,i=(null===(t=r[0])||void 0===t?void 0:t.value)||"",a=(null===(n=r[1])||void 0===n?void 0:n.value)||"",o=`${i}, ${a}`;s(e=>({...e,location:o,city:i,state:a})),h(o),f([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:v,className:"link"===e?"":"event-hidden-input"}),"images"===e&&(0,Tk.jsxs)("div",{className:"event-upload-container",children:[(0,Tk.jsxs)("label",{className:"event-form-label",children:["Upload Images (max ",7,")"]}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files);if(t.length)if(r.images.length+t.length>7)alert("Maximum 7 images allowed.");else{u(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","vrumies_preset");return(await _k.post("https://api.cloudinary.com/v1_1/dmjvngk3o/image/upload",t)).data.secure_url}),n=await Promise.all(e);s(e=>({...e,images:[...e.images,...n]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{u(!1)}}}}),c&&(0,Tk.jsx)("p",{className:"event-uploading-text",children:"Uploading images..."}),(0,Tk.jsx)("div",{className:"event-images-preview",children:r.images.map((e,t)=>(0,Tk.jsxs)("div",{className:"event-image-wrapper",children:[(0,Tk.jsx)("img",{src:e,alt:`Uploaded ${t}`,className:"event-preview-media"}),(0,Tk.jsx)("button",{type:"button",className:"event-remove-btn",onClick:()=>(e=>{s(t=>({...t,images:t.images.filter((t,n)=>n!==e)}))})(t),children:"\xd7"})]},t))})]}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:v,className:"tokens"===e?"":"event-hidden-input"}),"eventDateTime"===e&&(0,Tk.jsx)("input",{type:"datetime-local",name:"eventDateTime",value:r.eventDateTime,onChange:v,className:"event-datetime-input"}),"price"===e&&(0,Tk.jsx)("input",{type:"text",name:"price",placeholder:"$0.00",value:r.price||"",onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const n=parseFloat(t);t=isNaN(n)?"$0.00":`$${n.toFixed(2)}`,s(e=>({...e,price:t}))},className:"event-datetime-input"}),(0,Tk.jsx)("button",{type:"submit",className:"event-submit-btn",children:"Submit"}),i&&(0,Tk.jsx)("p",{children:i})]})},Directory:()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",tokens:"",images:[],serviceLocation:"",businessAddress:"",price:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)([]),m=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF-Y9M2YTMmMBu6RU7sDh4vRM9gFdC5MI&libraries=places",e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const g=e=>{n(t=>t===e?null:e)},v=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:"tokens"===t?Number(n)||0:n}))},y="/Vrumies";return o?(0,Tk.jsx)("div",{className:"directory-success-message",children:(0,Tk.jsx)("p",{children:i})}):(0,Tk.jsxs)("form",{className:"directory-post-form",onSubmit:async e=>{e.preventDefault();const t=Cy().currentUser;if(!t)return void a("\u274c You must be signed in to submit a post.");const n={...r,tokens:r.tokens||0,createdAt:ta.now(),type:"directory",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]};try{await Qf(Mp(ox,"Posts"),n),a("\u2705 Directory post added!"),l(!0)}catch(s){console.error("Firestore error:",s),a("\u274c Failed to add directory post.")}},children:[(0,Tk.jsx)("label",{className:"directory-form-label",children:"Title"}),(0,Tk.jsx)("input",{type:"text",name:"title",value:r.title,onChange:v,required:!0}),(0,Tk.jsx)("label",{className:"directory-form-label",children:"Description"}),(0,Tk.jsx)("textarea",{name:"description",value:r.description,onChange:v,required:!0}),(0,Tk.jsxs)("div",{className:"directory-toggle-buttons-row",children:[(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Map-Icon.png`,alt:"Location",onClick:()=>g("location")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Link-Icon.png`,alt:"Link",onClick:()=>g("link")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Image-Icon.png`,alt:"Images",onClick:()=>g("images")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Token-Icon.png`,alt:"Tokens",onClick:()=>g("tokens")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/ServiceLocation-Icon.png`,alt:"Service Location",onClick:()=>g("serviceLocation")}),(0,Tk.jsx)("img",{src:`${y}/PostCreationIcons/Price-Icon.png`,alt:"Price",onClick:()=>g("price")})]}),"location"===e&&(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("input",{type:"text",placeholder:"Type a city...",value:d,onChange:e=>{const t=e.target.value;if(h(t),!m.current)return;if(!t)return f([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};m.current.getPlacePredictions(n,(e,t)=>{if("OK"!==t||!e)return f([]);f(e)})},required:!0}),p.length>0&&(0,Tk.jsx)("ul",{className:"autocomplete-suggestions",children:p.map(e=>(0,Tk.jsxs)("li",{onClick:()=>(e=>{var t,n;const r=e.terms,i=(null===(t=r[0])||void 0===t?void 0:t.value)||"",a=(null===(n=r[1])||void 0===n?void 0:n.value)||"",o=`${i}, ${a}`;s(e=>({...e,location:o,city:i,state:a})),h(o),f([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]}),(0,Tk.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:r.link,onChange:v,className:"link"===e?"":"directory-hidden-input"}),"images"===e&&(0,Tk.jsxs)("div",{className:"directory-upload-container",children:[(0,Tk.jsxs)("label",{className:"directory-form-label",children:["Upload Images (max ",7,")"]}),(0,Tk.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files);if(t.length)if(r.images.length+t.length>7)alert("You can upload up to 7 images.");else{u(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","vrumies_preset");return(await _k.post("https://api.cloudinary.com/v1_1/dmjvngk3o/image/upload",t)).data.secure_url}),n=await Promise.all(e);s(e=>({...e,images:[...e.images,...n]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{u(!1)}}}}),c&&(0,Tk.jsx)("p",{className:"directory-uploading-text",children:"Uploading images..."}),(0,Tk.jsx)("div",{className:"directory-preview-images-row",children:r.images.map((e,t)=>(0,Tk.jsxs)("div",{className:"directory-preview-wrapper",children:[(0,Tk.jsx)("img",{src:e,alt:`Uploaded ${t+1}`,className:"directory-preview-media"}),(0,Tk.jsx)("button",{type:"button",onClick:()=>{return e=t,void s(t=>({...t,images:t.images.filter((t,n)=>n!==e)}));var e},className:"directory-remove-image-btn",children:"\u2716"})]},t))})]}),(0,Tk.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:r.tokens,onChange:v,className:"tokens"===e?"":"directory-hidden-input"}),"serviceLocation"===e&&(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsxs)("select",{name:"serviceLocation",value:r.serviceLocation,onChange:v,className:"directory-dropdown",children:[(0,Tk.jsx)("option",{value:"",children:"Select service location"}),(0,Tk.jsx)("option",{value:"Business Address",children:"Business Address"}),(0,Tk.jsx)("option",{value:"Customer Address",children:"Customer Address"})]}),"Business Address"===r.serviceLocation&&(0,Tk.jsx)("input",{type:"text",name:"businessAddress",placeholder:"Enter business address",value:r.businessAddress,onChange:v,className:"directory-post-form-input"})]}),"price"===e&&(0,Tk.jsx)("input",{type:"text",name:"price",placeholder:"$0.00",value:r.price||"",onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const n=parseFloat(t);t=isNaN(n)?"$0.00":`$${n.toFixed(2)}`,s(e=>({...e,price:t}))},className:"directory-post-form-input"}),(0,Tk.jsx)("button",{type:"submit",className:"directory-submit-btn",children:"Submit"}),i&&(0,Tk.jsx)("p",{children:i})]})}};const rE=function(e){let{isOpen:n,onClose:r}=e;const[s,i]=(0,t.useState)("Market");if((0,t.useEffect)(()=>{n&&i("Market")},[n]),!n)return null;const a=nE[s];return(0,Tk.jsx)("div",{className:"cspo-overlay",children:(0,Tk.jsxs)("div",{className:"cspo-overlay-content",children:[(0,Tk.jsx)("button",{className:"cspo-close-btn",onClick:r,children:"\u2715"}),(0,Tk.jsx)("h2",{className:"cspo-main-header",children:"CREATE SELLER POST"}),(0,Tk.jsx)("div",{className:"cspo-post-type-buttons",children:Object.keys(nE).map(e=>(0,Tk.jsx)("button",{className:"cspo-post-type-btn "+(s===e?"cspo-selected":""),onClick:()=>i(e),children:e},e))}),(0,Tk.jsxs)("h3",{className:"cspo-subtitle",children:["Creating a ",s," Post"]}),(0,Tk.jsx)("div",{className:"cspo-form-container",children:(0,Tk.jsx)(a,{onClose:r})})]})})},sE={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://uptivity.co.uk/wp-content/uploads/2021/07/female-seller-scanning-ecommerce-shipping-box-in-d-Y9FABLM-scaled.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left"},greenHighlight:{color:"#00FF00",textShadow:"2px 2px 6px #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px rgba(0,0,0,0.6)"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},bottomBar:{position:"absolute",bottom:"20px",left:"40px",right:"40px",display:"flex",justifyContent:"space-between",alignItems:"center"},createPostButton:{background:"linear-gradient(to right, #8B0000, #FF0000)",border:"none",padding:"19px 31px",borderRadius:"40px",color:"#fff",fontSize:"24px",fontWeight:"700",cursor:"pointer",boxShadow:"0px 2px 6px rgba(0,0,0,0.4)",marginTop:"80px"},balanceContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px",backgroundColor:"black",padding:"18px 30px",borderRadius:"8px"},balanceLabel:{fontSize:"14px",fontWeight:"600",color:"#aaa",textTransform:"uppercase"},balanceValue:{fontSize:"42px",fontWeight:"900",color:"#fff",alignSelf:"center"},payoutButton:{background:"linear-gradient(to right, #800080, #FF00FF)",border:"none",padding:"15px 80px",borderRadius:"40px",color:"#fff",fontSize:"20px",fontWeight:"700",cursor:"pointer",boxShadow:"0px 2px 6px rgba(0,0,0,0.4)"}},iE=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)(!1);return(0,Tk.jsxs)("div",{style:{...sE.container,height:"260px"},children:[(0,Tk.jsxs)("div",{style:sE.leftSide,children:[(0,Tk.jsx)("h1",{style:sE.title,children:(0,Tk.jsx)("span",{style:sE.greenHighlight,children:"SELLER"})}),(0,Tk.jsx)("p",{style:sE.subtitle,children:"View and track your customer orders here."})]}),(0,Tk.jsx)("div",{style:sE.rightSide,children:(0,Tk.jsx)("img",{src:"/Vrumies/request-icon.png",alt:"OrdersPage Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})}),(0,Tk.jsxs)("div",{style:sE.bottomBar,children:[(0,Tk.jsx)("button",{style:sE.createPostButton,onClick:()=>s(!0),children:"Create Sell Post"}),(0,Tk.jsxs)("div",{style:sE.balanceContainer,children:[(0,Tk.jsx)("div",{style:sE.balanceLabel,children:"TOTAL BALANCE"}),(0,Tk.jsx)("div",{style:sE.balanceValue,children:"$56.95"}),(0,Tk.jsx)("button",{style:sE.payoutButton,onClick:()=>n(!0),children:"Payout Methods"})]})]}),e&&(0,Tk.jsx)(tE,{onClose:()=>n(!1)}),r&&(0,Tk.jsx)(rE,{onClose:()=>s(!1),isOpen:r})]})};function aE(e){let{orderId:n}=e;const[r,s]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,r,i,a,o;const l=Fp(ox,"Orders",n),c=await Hf(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",f=!0===(null===u||void 0===u||null===(r=u.buyerInfo)||void 0===r?void 0:r.buyerDispute),m=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";f||m?y="dispute":!f&&!m&&g&&v&&(y="completed"),s({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)("div",{className:"market-card-title",children:r.title}),(0,Tk.jsxs)("div",{className:"market-card-bottom",children:[(0,Tk.jsx)("span",{className:"market-card-type",children:r.type}),(0,Tk.jsx)("span",{className:"market-card-date",children:r.date}),(0,Tk.jsx)("span",{className:`market-card-status status-${r.status.replace(" ","-")}`,children:r.status})]})]})}function oE(e){let{orderId:n}=e;const[r,s]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,r,i,a,o;const l=Fp(ox,"Orders",n),c=await Hf(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",f=!0===(null===u||void 0===u||null===(r=u.buyerInfo)||void 0===r?void 0:r.buyerDispute),m=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";f||m?y="dispute":!f&&!m&&g&&v&&(y="completed"),s({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)("div",{className:"event-card-title",children:r.title}),(0,Tk.jsxs)("div",{className:"event-card-bottom",children:[(0,Tk.jsx)("span",{className:"event-card-type",children:r.type}),(0,Tk.jsx)("span",{className:"event-card-date",children:r.date}),(0,Tk.jsx)("span",{className:`event-card-status status-${r.status.replace(" ","-")}`,children:r.status})]})]})}function lE(e){let{orderId:n}=e;const[r,s]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,r,i,a,o;const l=Fp(ox,"Orders",n),c=await Hf(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",f=!0===(null===u||void 0===u||null===(r=u.buyerInfo)||void 0===r?void 0:r.buyerDispute),m=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";f||m?y="dispute":!f&&!m&&g&&v&&(y="completed"),s({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)("div",{className:"directory-card-title",children:r.title}),(0,Tk.jsxs)("div",{className:"directory-card-bottom",children:[(0,Tk.jsx)("span",{className:"directory-card-type",children:r.type}),(0,Tk.jsx)("span",{className:"directory-card-date",children:r.date}),(0,Tk.jsx)("span",{className:`directory-card-status status-${r.status.replace(" ","-")}`,children:r.status})]})]})}function cE(e){let{selectedOrder:n,onCardClick:r}=e;const{currentUser:s}=FN(),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!s)return;(async()=>{try{const e=Tf(Mp(ox,"Orders"),Af("sellerInfo.sellerId","==",s.uid),Af("paymentInfo.paymentSuccessful","==",!0)),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>t.orderCreated.seconds-e.orderCreated.seconds),a(t)}catch(e){console.error("Error fetching user orders:",e)}finally{l(!1)}})()},[s]);return s?(0,Tk.jsxs)("div",{className:"osp-panel",children:[(0,Tk.jsx)("h2",{className:"osp-title",children:"SELLER ORDERS"}),(0,Tk.jsx)("div",{className:"osp-list",children:o?(0,Tk.jsx)("div",{children:"Loading orders..."}):i.length>0?i.map(e=>(e=>{let t;switch(e.type){case"market":t=aE;break;case"event":t=oE;break;case"directory":t=lE;break;default:return null}return(0,Tk.jsx)("div",{className:"osp-card "+((null===n||void 0===n?void 0:n.id)===e.id?"selected-card":""),onClick:()=>r(e),children:(0,Tk.jsx)(t,{orderId:e.id})},e.id)})(e)):(0,Tk.jsx)("div",{children:"No orders found."})})]}):(0,Tk.jsx)("div",{children:"Please log in to see your orders."})}function uE(e){let{orderId:n}=e;const[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)("N/A"),o=ne();if((0,t.useEffect)(()=>{n&&(async()=>{try{const f=Fp(ox,"Orders",n),m=await Hf(f);if(m.exists()){var e,t,r,i,o,l,c,u,d,h,p;const n=m.data(),f=(null===(e=n.buyerInfo)||void 0===e?void 0:e.buyerId)||n.buyerId;if(f){const e=Fp(ox,"Users",f),t=await Hf(e);t.exists()&&a(t.data().username||"N/A")}let g="N/A";null!==n&&void 0!==n&&n.orderCreated&&(n.orderCreated.toDate?g=n.orderCreated.toDate().toLocaleDateString():n.orderCreated.seconds&&(g=new Date(1e3*n.orderCreated.seconds).toLocaleDateString()));let v=0;if(null!==(t=n.postData)&&void 0!==t&&t.price){const e=n.postData.price.toString().replace("$","");v=parseFloat(e)||0}s({date:g,type:n.type||"N/A",id:m.id||"N/A",serviceAddress:n.deliveryInfo?`${n.deliveryInfo.deliveryStreetAddress||""} ${n.deliveryInfo.deliveryCity||""} ${n.deliveryInfo.deliveryState||""} ${n.deliveryInfo.deliveryZipCode||""}`:"N/A",image:(null===(r=n.postData)||void 0===r||null===(i=r.images)||void 0===i?void 0:i[0])||null,title:(null===(o=n.postData)||void 0===o?void 0:o.title)||"N/A",description:(null===(l=n.postData)||void 0===l?void 0:l.description)||"N/A",price:v,postId:(null===(c=n.postData)||void 0===c?void 0:c.postId)||"N/A",paymentMethod:(null===(u=n.paymentInfo)||void 0===u?void 0:u.paymentmethod)||(null===(d=n.paymentInfo)||void 0===d?void 0:d.paymentMethod)||"N/A",lastFour:(null===(h=n.paymentInfo)||void 0===h?void 0:h.lastfour)||(null===(p=n.paymentInfo)||void 0===p?void 0:p.lastFour)||"N/A",buyerMarketCompleted:n.buyerMarketCompleted||!1,buyerDispute:n.buyerDispute||!1,sellerDispute:n.sellerDispute||!1})}else s(null)}catch(f){console.error("Error fetching order:",f),s(null)}})()},[n]),!r)return(0,Tk.jsx)("p",{children:"Loading order..."});const l=(.15*r.price).toFixed(2),c=(r.price+parseFloat(l)).toFixed(2);let u=[{label:"Order Started",active:!0},{label:"Marked Completed by Buyer",active:r.buyerMarketCompleted},{label:"Completed",active:r.buyerMarketCompleted}];return(r.buyerDispute||r.sellerDispute)&&u.push({label:"Dispute",active:!0}),(0,Tk.jsxs)("div",{className:"seller-order-details-panel",children:[(0,Tk.jsx)("h2",{className:"seller-panel-title",children:"ORDER DETAILS"}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Order Details"}),(0,Tk.jsxs)("div",{className:"seller-order-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Date"}),(0,Tk.jsx)("p",{children:r.date})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Type"}),(0,Tk.jsx)("p",{children:r.type})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Order ID"}),(0,Tk.jsx)("p",{children:r.id})]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Service Address"}),(0,Tk.jsx)("p",{children:r.serviceAddress})]})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Ordered Items"}),(0,Tk.jsxs)("div",{className:"seller-item-card",children:[r.image&&(0,Tk.jsx)("img",{src:r.image,alt:"Product"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Title"}),(0,Tk.jsx)("p",{children:r.title})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Description"}),(0,Tk.jsx)("p",{children:r.description})]}),r.postId&&(0,Tk.jsx)("button",{className:"seller-btn-view",onClick:()=>o(`/directorypost/${r.postId}`),children:"View Post"})]})]})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Payment Information"}),(0,Tk.jsxs)("div",{className:"seller-payment-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Price"}),(0,Tk.jsxs)("p",{children:["$",r.price.toFixed(2)]}),(0,Tk.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Tk.jsxs)("p",{children:["$",l]}),(0,Tk.jsx)("strong",{children:"Total"}),(0,Tk.jsxs)("p",{children:["$",c]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Payment Method"}),(0,Tk.jsx)("p",{children:r.paymentMethod}),(0,Tk.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Tk.jsx)("p",{children:r.lastFour})]})]})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Buyer Information"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Buyer"}),(0,Tk.jsx)("p",{children:i})]}),(0,Tk.jsx)("button",{className:"seller-btn-message",children:"Message User"})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Status"}),(0,Tk.jsx)("div",{className:"seller-timeline-wrapper",children:u.map((e,n)=>(0,Tk.jsxs)(t.Fragment,{children:[(0,Tk.jsxs)("div",{className:"seller-timeline-step",children:[(0,Tk.jsx)("div",{className:"seller-circle "+(e.active?"active":""),children:e.active&&(0,Tk.jsx)(Kk,{})}),(0,Tk.jsx)("p",{className:"seller-timeline-label "+(e.active?"seller-active-label":""),children:e.label})]}),n<u.length-1&&(0,Tk.jsx)("div",{className:"seller-arrow",children:"\u2192"})]},n))}),(0,Tk.jsxs)("div",{className:"seller-status-buttons",children:[(0,Tk.jsx)("button",{className:"seller-btn-complete",children:"Mark as Completed"}),(0,Tk.jsx)("button",{className:"seller-btn-dispute",children:"Dispute"})]})]})]})}function dE(e){var n,r,s,i,a,o,l,c,u,d,h,p,f;let{orderId:m}=e;const[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)("N/A"),[x,w]=(0,t.useState)(""),[k,j]=(0,t.useState)(null),N=(0,t.useRef)(null),S=ne();(0,t.useEffect)(()=>{m&&(async()=>{try{const n=Fp(ox,"Orders",m),r=await Hf(n);if(r.exists()){var e,t;const n=r.data();if(v({...n,id:r.id}),w((null===(e=n.eventSpecific)||void 0===e?void 0:e.ticketFile)||""),null!==(t=n.buyerInfo)&&void 0!==t&&t.buyerId){const e=Fp(ox,"Users",n.buyerInfo.buyerId),t=await Hf(e);t.exists()&&b(t.data().username||"N/A")}}}catch(n){console.error("Error fetching event order:",n)}})()},[m]);if(!g)return(0,Tk.jsx)("div",{className:"seller-event-details-panel",children:"Loading order..."});const E=null!==(n=g.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*g.orderCreated.seconds).toLocaleDateString():"N/A",C=g.type||"N/A",_=g.id||"N/A",T=(null===(r=g.postData)||void 0===r||null===(s=r.images)||void 0===s?void 0:s[0])||"",I=(null===(i=g.postData)||void 0===i?void 0:i.title)||"N/A",A=(null===(a=g.postData)||void 0===a?void 0:a.description)||"N/A",P=(null===(o=g.postData)||void 0===o||null===(l=o.price)||void 0===l?void 0:l.replace("$",""))||"0",R=parseFloat(P)||0,D=(.15*R).toFixed(2),O=(R+parseFloat(D)).toFixed(2),L=(null===(c=g.paymentInfo)||void 0===c?void 0:c.paymentmethod)||"N/A",M=(null===(u=g.paymentInfo)||void 0===u?void 0:u.lastfour)||"N/A",F=(null===(d=g.postData)||void 0===d?void 0:d.postId)||"",U=(null===(h=g.buyerInfo)||void 0===h?void 0:h.buyerMarkedCompleted)||!1,V=(null===(p=g.buyerInfo)||void 0===p?void 0:p.buyerDispute)||!1,z=(null===(f=g.sellerInfo)||void 0===f?void 0:f.sellerDispute)||!1;let B=[{label:"Order Started",active:!0},{label:"Marked Completed by Buyer",active:U},{label:"Completed",active:U}];return(V||z)&&B.push({label:"Dispute",active:!0}),(0,Tk.jsxs)("div",{className:"seller-event-details-panel",children:[(0,Tk.jsx)("h2",{className:"seller-panel-title",children:"ORDER DETAILS"}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Order Details"}),(0,Tk.jsxs)("div",{className:"seller-order-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Date"}),(0,Tk.jsx)("p",{children:E})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Type"}),(0,Tk.jsx)("p",{children:C})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Order ID"}),(0,Tk.jsx)("p",{children:_})]})]}),(0,Tk.jsxs)("div",{className:"seller-ticket-file",children:[(0,Tk.jsx)("strong",{children:"Ticket File:"}),(0,Tk.jsx)("div",{className:"seller-drag-drop-area",onClick:()=>N.current.click(),children:k?k.name:x||"Drag & Drop PDF here or click to select file"}),(0,Tk.jsx)("input",{type:"file",accept:".pdf",ref:N,className:"seller-file-input",onChange:e=>j(e.target.files[0])}),(0,Tk.jsxs)("div",{className:"seller-upload-clear-buttons",children:[(0,Tk.jsx)("button",{onClick:async()=>{if(k)try{const e=Fp(ox,"Orders",m);await Jf(e,{"eventSpecific.ticketFile":k.name}),w(k.name),alert(`File "${k.name}" uploaded!`)}catch(e){console.error("Error saving ticket file:",e)}else alert("No file selected!")},className:"seller-btn-upload",children:"Upload"}),(0,Tk.jsx)("button",{onClick:()=>{j(null),N.current&&(N.current.value=null)},className:"seller-btn-clear",children:"Clear"})]}),x&&(0,Tk.jsxs)("div",{className:"seller-ticket-download",children:[(0,Tk.jsx)(Zk,{className:"seller-ticket-icon"}),(0,Tk.jsx)("div",{children:(0,Tk.jsx)("p",{className:"seller-ticket-name",children:x})})]})]})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Ordered Items"}),(0,Tk.jsxs)("div",{className:"seller-item-card",children:[T&&(0,Tk.jsx)("img",{src:T,alt:"Event"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Title"}),(0,Tk.jsx)("p",{children:I})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Description"}),(0,Tk.jsx)("p",{children:A})]}),F&&(0,Tk.jsx)("button",{className:"seller-btn-view",onClick:()=>S(`/eventpost/${F}`),children:"View Post"})]})]})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Payment Information"}),(0,Tk.jsxs)("div",{className:"seller-payment-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Price"}),(0,Tk.jsxs)("p",{children:["$",R.toFixed(2)]}),(0,Tk.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Tk.jsxs)("p",{children:["$",D]}),(0,Tk.jsx)("strong",{children:"Total"}),(0,Tk.jsxs)("p",{children:["$",O]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Payment Method"}),(0,Tk.jsx)("p",{children:L}),(0,Tk.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Tk.jsx)("p",{children:M})]})]})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Buyer Information"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Buyer"}),(0,Tk.jsx)("p",{children:y})]}),(0,Tk.jsx)("button",{className:"seller-btn-message",children:"Message User"})]}),(0,Tk.jsxs)("section",{className:"seller-section",children:[(0,Tk.jsx)("h3",{children:"Status"}),(0,Tk.jsx)("div",{className:"seller-timeline-wrapper",children:B.map((e,n)=>(0,Tk.jsxs)(t.Fragment,{children:[(0,Tk.jsxs)("div",{className:"seller-timeline-step",children:[(0,Tk.jsx)("div",{className:"seller-circle "+(e.active?"active":""),children:e.active&&(0,Tk.jsx)(Kk,{})}),(0,Tk.jsx)("p",{className:"seller-timeline-label "+(e.active?"seller-active-label":""),children:e.label})]}),n<B.length-1&&(0,Tk.jsx)("div",{className:"seller-arrow",children:"\u2192"})]},n))}),(0,Tk.jsxs)("div",{className:"seller-status-buttons",children:[(0,Tk.jsx)("button",{className:"seller-btn-complete",children:"Mark as Completed"}),(0,Tk.jsx)("button",{className:"seller-btn-dispute",children:"Dispute"})]})]})]})}function hE(e){var n,r,s,i,a,o,l,c,u,d,h,p,f;let{orderId:m}=e;const[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)("N/A"),[x,w]=(0,t.useState)(""),[k,j]=(0,t.useState)(""),N=ne();(0,t.useEffect)(()=>{m&&(async()=>{try{const r=Fp(ox,"Orders",m),s=await Hf(r);if(s.exists()){var e,t,n;const r=s.data();if(v({...r,id:s.id}),w((null===(e=r.marketSpecific)||void 0===e?void 0:e.Carrier)||""),j((null===(t=r.marketSpecific)||void 0===t?void 0:t.trackingNumber)||""),null!==(n=r.buyerInfo)&&void 0!==n&&n.buyerId){const e=Fp(ox,"Users",r.buyerInfo.buyerId),t=await Hf(e);t.exists()&&b(t.data().username||"N/A")}}else v(null)}catch(r){console.error("Error fetching order:",r),v(null)}})()},[m]);if(!g)return(0,Tk.jsx)("div",{className:"sm-panel",children:"Loading order..."});const S=null!==(n=g.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*g.orderCreated.seconds).toLocaleDateString():"N/A",E=g.type||"N/A",C=g.id||"N/A",_=g.deliveryInfo?`${g.deliveryInfo.deliveryStreetAddress||""} ${g.deliveryInfo.deliveryCity||""} ${g.deliveryInfo.deliveryState||""} ${g.deliveryInfo.deliveryZipCode||""}`:"N/A",T=(null===(r=g.postData)||void 0===r||null===(s=r.images)||void 0===s?void 0:s[0])||"",I=(null===(i=g.postData)||void 0===i?void 0:i.title)||"N/A",A=(null===(a=g.postData)||void 0===a?void 0:a.description)||"N/A",P=(null===(o=g.postData)||void 0===o||null===(l=o.price)||void 0===l?void 0:l.replace("$",""))||"0",R=parseFloat(P)||0,D=(.15*R).toFixed(2),O=(R+parseFloat(D)).toFixed(2),L=(null===(c=g.paymentInfo)||void 0===c?void 0:c.paymentmethod)||"N/A",M=(null===(u=g.paymentInfo)||void 0===u?void 0:u.lastfour)||"N/A",F=(null===(d=g.postData)||void 0===d?void 0:d.postId)||"",U=(null===(h=g.buyerInfo)||void 0===h?void 0:h.buyerMarkedCompleted)||!1,V=(null===(p=g.buyerInfo)||void 0===p?void 0:p.buyerDispute)||!1,z=(null===(f=g.sellerInfo)||void 0===f?void 0:f.sellerDispute)||!1;let B=[{label:"Order Started",active:!0},{label:"Marked Completed by Buyer",active:U},{label:"Completed",active:U}];return(V||z)&&B.push({label:"Dispute",active:!0}),(0,Tk.jsxs)("div",{className:"sm-panel",children:[(0,Tk.jsx)("h2",{className:"sm-title",children:"ORDER DETAILS"}),(0,Tk.jsxs)("section",{className:"sm-section",children:[(0,Tk.jsx)("h3",{children:"Order Details"}),(0,Tk.jsxs)("div",{className:"sm-info",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Date"}),(0,Tk.jsx)("p",{children:S})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Type"}),(0,Tk.jsx)("p",{children:E})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Order ID"}),(0,Tk.jsx)("p",{children:C})]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Shipping Address"}),(0,Tk.jsx)("p",{children:_})]}),(0,Tk.jsxs)("div",{className:"sm-tracking-fields",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Carrier"}),(0,Tk.jsx)("input",{type:"text",placeholder:"Enter Carrier (e.g., FEDEX)",value:x,onChange:e=>w(e.target.value)})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Tracking Number"}),(0,Tk.jsx)("input",{type:"text",placeholder:"Enter Tracking Number",value:k,onChange:e=>j(e.target.value)})]})]}),(0,Tk.jsxs)("div",{className:"sm-tracking-btn-wrapper",children:[(0,Tk.jsx)("button",{className:"sm-btn-save",onClick:async()=>{if(m)try{const e=Fp(ox,"Orders",m);await Jf(e,{"marketSpecific.Carrier":x,"marketSpecific.trackingNumber":k}),alert("Tracking info saved!")}catch(e){console.error("Error saving tracking info:",e)}},children:"Save"}),(0,Tk.jsx)("button",{className:"sm-btn-clear",onClick:()=>{w(""),j("")},children:"Clear"})]})]}),(0,Tk.jsxs)("section",{className:"sm-section",children:[(0,Tk.jsx)("h3",{children:"Ordered Items"}),(0,Tk.jsxs)("div",{className:"sm-item",children:[T&&(0,Tk.jsx)("img",{src:T,alt:"Product"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Title"}),(0,Tk.jsx)("p",{children:I})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Description"}),(0,Tk.jsx)("p",{children:A})]}),F&&(0,Tk.jsx)("button",{className:"sm-btn-view",onClick:()=>N(`/marketpost/${F}`),children:"View Post"})]})]})]}),(0,Tk.jsxs)("section",{className:"sm-section",children:[(0,Tk.jsx)("h3",{children:"Payment Information"}),(0,Tk.jsxs)("div",{className:"sm-payment",children:[(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Price"}),(0,Tk.jsxs)("p",{children:["$",R.toFixed(2)]}),(0,Tk.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Tk.jsxs)("p",{children:["$",D]}),(0,Tk.jsx)("strong",{children:"Total"}),(0,Tk.jsxs)("p",{children:["$",O]})]}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Payment Method"}),(0,Tk.jsx)("p",{children:L}),(0,Tk.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Tk.jsx)("p",{children:M})]})]})]}),(0,Tk.jsxs)("section",{className:"sm-section",children:[(0,Tk.jsx)("h3",{children:"Buyer Information"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("strong",{children:"Buyer"}),(0,Tk.jsx)("p",{children:y})]}),(0,Tk.jsx)("button",{className:"sm-btn-message",children:"Message User"})]}),(0,Tk.jsxs)("section",{className:"sm-section",children:[(0,Tk.jsx)("h3",{children:"Status"}),(0,Tk.jsx)("div",{className:"sm-timeline-wrapper",children:B.map((e,n)=>(0,Tk.jsxs)(t.Fragment,{children:[(0,Tk.jsxs)("div",{className:"sm-timeline-step",children:[(0,Tk.jsx)("div",{className:"sm-circle "+(e.active?"active":""),children:e.active&&(0,Tk.jsx)(Kk,{})}),(0,Tk.jsx)("p",{className:"sm-timeline-label "+(e.active?"active-label":""),children:e.label})]}),n<B.length-1&&(0,Tk.jsx)("div",{className:"sm-arrow",children:"\u2192"})]},n))}),(0,Tk.jsxs)("div",{className:"sm-status-buttons",children:[(0,Tk.jsx)("button",{className:"sm-btn-complete",children:"Mark as Completed"}),(0,Tk.jsx)("button",{className:"sm-btn-dispute",children:"Dispute"})]})]})]})}function pE(){const[e,n]=(0,t.useState)(null);return(0,Tk.jsxs)("div",{className:"orders-body-container",children:[(0,Tk.jsx)(cE,{selectedOrder:e,onCardClick:e=>n(e)}),(0,Tk.jsx)("div",{className:"orders-body-right",children:(()=>{if(!e)return(0,Tk.jsx)("div",{children:"Select an order to see details"});const{id:t,type:n}=e;switch(n){case"market":return(0,Tk.jsx)(hE,{orderId:t});case"event":return(0,Tk.jsx)(dE,{orderId:t});case"directory":return(0,Tk.jsx)(uE,{orderId:t});default:return(0,Tk.jsx)("div",{children:"Unknown order type"})}})()})]})}const fE=()=>(0,Tk.jsxs)("div",{className:"content-page",children:[(0,Tk.jsx)(iE,{}),(0,Tk.jsx)(pE,{})]}),mE=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://images.squarespace-cdn.com/content/v1/6598c8e83ff0af0197ff19f9/a05c7d5e-3711-48bb-a4c8-f3ce0f076355/JCCI-2024-Banner.jpg');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Event Post"})]});const gE=function(e){var n,r,s;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:E}=FN(),C=ne();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Fp(ox,"Posts",i),r=await Hf(n);if(!r.exists())return void p(!1);const s=r.data();o(s);const a=Fp(ox,"Users",s.userId),l=await Hf(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"/Vrumies/default-profile.png"}),E){const t=Fp(ox,"Users",E.uid),n=await Hf(t);if(n.exists()){var e;const t=n.data();b((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(E){var t;const e=(null===(t=s.report)||void 0===t?void 0:t.includes(E.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,E]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(h)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["/Vrumies/default-thumbnail.png"],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png";return(0,Tk.jsxs)("div",{className:"post-section",children:[k&&(0,Tk.jsx)("div",{className:"copy-notification",children:k}),(0,Tk.jsxs)("div",{className:"post-left",children:[(0,Tk.jsxs)("div",{className:"post-content",children:[(0,Tk.jsxs)("div",{className:"post-header",children:[(0,Tk.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / EVENTS"}),(0,Tk.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Tk.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Tk.jsxs)("div",{className:"seller-row",children:[(0,Tk.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("div",{className:"seller-name",children:R}),(0,Tk.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Tk.jsxs)("div",{className:"post-action-buttons",children:[(0,Tk.jsx)("button",{className:"post-action-btn follow-btn "+(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Fp(ox,"Users",e);if(!(await Hf(t)).exists())return void _("User not found",4e3);const n=Mp(ox,"chats"),r=Tf(n,Af("participants","array-contains",E.uid)),s=await Gf(r);let i=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await Qf(n,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:rm()});i=t.id,await Qf(Mp(ox,"chats",i,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:rm(),photos:[],seenBy:[E.uid]}),await Kf(Fp(ox,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:rm()},{merge:!0})}C(`/inbox?chat=${i}`)}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Tk.jsxs)("div",{className:"tabs",children:[(0,Tk.jsx)("div",{className:"tab "+("description"===f?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Tk.jsx)("div",{className:"tab "+("details"===f?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Tk.jsx)("div",{className:"tab "+("reviews"===f?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===f&&(0,Tk.jsx)("p",{className:"description",children:A}),"details"===f&&(0,Tk.jsxs)("div",{className:"post-details",children:[(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Location:"})," ",null!==(r=a.location)&&void 0!==r?r:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Link:"})," ",a.link?(0,Tk.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:`https://${O}`:null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===f&&(0,Tk.jsx)("div",{className:"seller-reviews-section",children:(0,Tk.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Tk.jsxs)("div",{className:"actions",children:[(0,Tk.jsxs)("button",{className:"action-btn share "+(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Tk.jsx)(nj,{}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"action-btn bookmark "+(y?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Users",E.uid);try{y?(await Jf(e,{bookmarks:im(i)}),b(!1),_("Removed from bookmarks")):(await Jf(e,{bookmarks:sm(i)}),b(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(Wk,{}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"action-btn report "+(x?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Posts",i);try{const t=await Hf(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await Jf(e,{report:im(E.uid)}),w(!1),_("Report removed")):(await Jf(e,{report:sm(E.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(ej,{}),"REPORT"]})]}),(0,Tk.jsxs)("div",{className:"price-row",children:[(0,Tk.jsx)("span",{className:"price",children:null!==(s=a.price)&&void 0!==s?s:"Price: N/A"}),(0,Tk.jsx)("button",{className:"addtoCart",onClick:async()=>{if(E)try{var e;const t=Fp(Mp(ox,"Users",E.uid,"cart"),i);if((await Hf(t)).exists())return void alert("Already in cart");await Kf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png",image:(null===(e=a.images)||void 0===e?void 0:e[0])||"/Vrumies/default-thumbnail.png",reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Tk.jsxs)("div",{className:"post-right",children:[(0,Tk.jsxs)("div",{className:"image-container",children:[(0,Tk.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Tk.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Tk.jsx)(Xk,{className:"expand-icon"})})]}),(0,Tk.jsxs)("div",{className:"carousel",children:[(0,Tk.jsx)(qk,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Thumb ${t}`,className:"thumb "+(t===u?"active":""),onClick:()=>d(t)},t)),(0,Tk.jsx)(Hk,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const vE=function(e){var n,r;let{postId:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void h({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?h({uid:e.uid}):h({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else h(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!s)return;const e=Xf(Fp(ox,"Posts",s),e=>{e.exists()&&f({id:e.id,...e.data()})});return()=>e()},[s]);const m=async e=>{if(!d)return void alert("You must be signed in to vote.");const t=d.uid,n=Fp(ox,"Posts",s);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const s=await Hf(n);if(s.exists()){var r,i;const e=s.data(),t=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await Jf(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{u(!0);try{const e=Mp(ox,"Posts",s,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{u(!1)}})()},[s]);const g=null===d||void 0===d?void 0:d.uid,v=(null===p||void 0===p?void 0:p.likes)||[],y=(null===p||void 0===p?void 0:p.dislikes)||[],b=g&&v.includes(g),x=g&&y.includes(g);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(b?"active":""),onClick:()=>m("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(n=null===p||void 0===p?void 0:p.likesCounter)&&void 0!==n?n:v.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(x?"active":""),onClick:()=>m("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(r=null===p||void 0===p?void 0:p.dislikesCounter)&&void 0!==r?r:y.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilepic)||"/Vrumies/default-profile.png",alt:(null===d||void 0===d?void 0:d.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===d||void 0===d?void 0:d.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!lx.currentUser||!d)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",s,"comments"),t={name:d.username||"Unknown User",avatar:d.profilepic||"/Vrumies/default-profile.png",text:i,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),c?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},yE=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","event")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading events..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Events"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(Ij,{...e},e.id))})]})},bE=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"event"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Tk.jsxs)("div",{className:"vpe-content-page",children:[(0,Tk.jsx)(mE,{}),(0,Tk.jsx)(gE,{postId:e}),(0,Tk.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Tk.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Tk.jsx)(vE,{postId:e})}),(0,Tk.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Tk.jsx)(yE,{postId:e})})]})]})},xE=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://assets.goaaa.com/image/upload/w_2880,c_fill,q_auto,f_auto/v1742591982/AAAGilbert-428_retouched.jpg');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Directory Post"})]});const wE=function(e){var n,r,s;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:E}=FN(),C=ne();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Fp(ox,"Posts",i),r=await Hf(n);if(!r.exists())return void p(!1);const s=r.data();o(s);const a=Fp(ox,"Users",s.userId),l=await Hf(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"/Vrumies/default-profile.png"}),E){const t=Fp(ox,"Users",E.uid),n=await Hf(t);if(n.exists()){var e;const t=n.data();b((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(E){var t;const e=(null===(t=s.report)||void 0===t?void 0:t.includes(E.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,E]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(h)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["/Vrumies/default-thumbnail.png"],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png";return(0,Tk.jsxs)("div",{className:"post-section",children:[k&&(0,Tk.jsx)("div",{className:"copy-notification",children:k}),(0,Tk.jsxs)("div",{className:"post-left",children:[(0,Tk.jsxs)("div",{className:"post-content",children:[(0,Tk.jsxs)("div",{className:"post-header",children:[(0,Tk.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / DIRECTORY"}),(0,Tk.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Tk.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Tk.jsxs)("div",{className:"seller-row",children:[(0,Tk.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("div",{className:"seller-name",children:R}),(0,Tk.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Tk.jsxs)("div",{className:"post-action-buttons",children:[(0,Tk.jsx)("button",{className:"post-action-btn follow-btn "+(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Fp(ox,"Users",e);if(!(await Hf(t)).exists())return void _("User not found",4e3);const n=Mp(ox,"chats"),r=Tf(n,Af("participants","array-contains",E.uid)),s=await Gf(r);let i=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await Qf(n,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:rm()});i=t.id,await Qf(Mp(ox,"chats",i,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:rm(),photos:[],seenBy:[E.uid]}),await Kf(Fp(ox,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:rm()},{merge:!0})}C(`/inbox?chat=${i}`)}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Tk.jsxs)("div",{className:"tabs",children:[(0,Tk.jsx)("div",{className:"tab "+("description"===f?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Tk.jsx)("div",{className:"tab "+("details"===f?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Tk.jsx)("div",{className:"tab "+("reviews"===f?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===f&&(0,Tk.jsx)("p",{className:"description",children:A}),"details"===f&&(0,Tk.jsxs)("div",{className:"post-details",children:[(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Location:"})," ",null!==(r=a.location)&&void 0!==r?r:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Link:"})," ",a.link?(0,Tk.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:`https://${O}`:null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===f&&(0,Tk.jsx)("div",{className:"seller-reviews-section",children:(0,Tk.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Tk.jsxs)("div",{className:"actions",children:[(0,Tk.jsxs)("button",{className:"action-btn share "+(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Tk.jsx)(nj,{}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"action-btn bookmark "+(y?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Users",E.uid);try{y?(await Jf(e,{bookmarks:im(i)}),b(!1),_("Removed from bookmarks")):(await Jf(e,{bookmarks:sm(i)}),b(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(Wk,{}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"action-btn report "+(x?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Posts",i);try{const t=await Hf(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await Jf(e,{report:im(E.uid)}),w(!1),_("Report removed")):(await Jf(e,{report:sm(E.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(ej,{}),"REPORT"]})]}),(0,Tk.jsxs)("div",{className:"price-row",children:[(0,Tk.jsx)("span",{className:"price",children:null!==(s=a.price)&&void 0!==s?s:"Price: N/A"}),(0,Tk.jsx)("button",{className:"addtoCart",onClick:async()=>{if(E)try{var e;const t=Fp(Mp(ox,"Users",E.uid,"cart"),i);if((await Hf(t)).exists())return void alert("Already in cart");await Kf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png",image:(null===(e=a.images)||void 0===e?void 0:e[0])||"/Vrumies/default-thumbnail.png",reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Tk.jsxs)("div",{className:"post-right",children:[(0,Tk.jsxs)("div",{className:"image-container",children:[(0,Tk.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Tk.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Tk.jsx)(Xk,{className:"expand-icon"})})]}),(0,Tk.jsxs)("div",{className:"carousel",children:[(0,Tk.jsx)(qk,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Thumb ${t}`,className:"thumb "+(t===u?"active":""),onClick:()=>d(t)},t)),(0,Tk.jsx)(Hk,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const kE=function(e){var n,r;let{postId:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void h({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?h({uid:e.uid}):h({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else h(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!s)return;const e=Xf(Fp(ox,"Posts",s),e=>{e.exists()&&f({id:e.id,...e.data()})});return()=>e()},[s]);const m=async e=>{if(!d)return void alert("You must be signed in to vote.");const t=d.uid,n=Fp(ox,"Posts",s);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const s=await Hf(n);if(s.exists()){var r,i;const e=s.data(),t=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await Jf(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{u(!0);try{const e=Mp(ox,"Posts",s,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{u(!1)}})()},[s]);const g=null===d||void 0===d?void 0:d.uid,v=(null===p||void 0===p?void 0:p.likes)||[],y=(null===p||void 0===p?void 0:p.dislikes)||[],b=g&&v.includes(g),x=g&&y.includes(g);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(b?"active":""),onClick:()=>m("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(n=null===p||void 0===p?void 0:p.likesCounter)&&void 0!==n?n:v.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(x?"active":""),onClick:()=>m("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(r=null===p||void 0===p?void 0:p.dislikesCounter)&&void 0!==r?r:y.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilepic)||"/Vrumies/default-profile.png",alt:(null===d||void 0===d?void 0:d.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===d||void 0===d?void 0:d.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!lx.currentUser||!d)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",s,"comments"),t={name:d.username||"Unknown User",avatar:d.profilepic||"/Vrumies/default-profile.png",text:i,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),c?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},jE=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","directory")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading directory posts..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Directory Posts"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(Oj,{...e},e.id))})]})},NE=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"directory"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Tk.jsxs)("div",{className:"vpe-content-page",children:[(0,Tk.jsx)(xE,{}),(0,Tk.jsx)(wE,{postId:e}),(0,Tk.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Tk.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Tk.jsx)(kE,{postId:e})}),(0,Tk.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Tk.jsx)(jE,{postId:e})})]})]})},SE=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://www.mauth.cc/wp-content/uploads/2024/01/Depositphotos_91312248_L.jpg');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Forum Post"})]});const EE=function(e){var n,r,s;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:E}=FN(),C=ne();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Fp(ox,"Posts",i),r=await Hf(n);if(!r.exists())return void p(!1);const s=r.data();o(s);const a=Fp(ox,"Users",s.userId),l=await Hf(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"/Vrumies/default-profile.png"}),E){const t=Fp(ox,"Users",E.uid),n=await Hf(t);if(n.exists()){var e;const t=n.data();b((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(E){var t;const e=(null===(t=s.report)||void 0===t?void 0:t.includes(E.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,E]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(h)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["/Vrumies/default-thumbnail.png"],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png";return(0,Tk.jsxs)("div",{className:"post-section",children:[k&&(0,Tk.jsx)("div",{className:"copy-notification",children:k}),(0,Tk.jsxs)("div",{className:"post-left",children:[(0,Tk.jsxs)("div",{className:"post-content",children:[(0,Tk.jsxs)("div",{className:"post-header",children:[(0,Tk.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / FORUMS"}),(0,Tk.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Tk.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Tk.jsxs)("div",{className:"seller-row",children:[(0,Tk.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("div",{className:"seller-name",children:R}),(0,Tk.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Tk.jsxs)("div",{className:"post-action-buttons",children:[(0,Tk.jsx)("button",{className:"post-action-btn follow-btn "+(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Fp(ox,"Users",e);if(!(await Hf(t)).exists())return void _("User not found",4e3);const n=Mp(ox,"chats"),r=Tf(n,Af("participants","array-contains",E.uid)),s=await Gf(r);let i=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await Qf(n,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:rm()});i=t.id,await Qf(Mp(ox,"chats",i,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:rm(),photos:[],seenBy:[E.uid]}),await Kf(Fp(ox,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:rm()},{merge:!0})}C(`/inbox?chat=${i}`)}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Tk.jsxs)("div",{className:"tabs",children:[(0,Tk.jsx)("div",{className:"tab "+("description"===f?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Tk.jsx)("div",{className:"tab "+("details"===f?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Tk.jsx)("div",{className:"tab "+("reviews"===f?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===f&&(0,Tk.jsx)("p",{className:"description",children:A}),"details"===f&&(0,Tk.jsxs)("div",{className:"post-details",children:[(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Location:"})," ",null!==(r=a.location)&&void 0!==r?r:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Link:"})," ",a.link?(0,Tk.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:`https://${O}`:null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===f&&(0,Tk.jsx)("div",{className:"seller-reviews-section",children:(0,Tk.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Tk.jsxs)("div",{className:"actions",children:[(0,Tk.jsxs)("button",{className:"action-btn share "+(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Tk.jsx)(nj,{}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"action-btn bookmark "+(y?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Users",E.uid);try{y?(await Jf(e,{bookmarks:im(i)}),b(!1),_("Removed from bookmarks")):(await Jf(e,{bookmarks:sm(i)}),b(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(Wk,{}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"action-btn report "+(x?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Posts",i);try{const t=await Hf(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await Jf(e,{report:im(E.uid)}),w(!1),_("Report removed")):(await Jf(e,{report:sm(E.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(ej,{}),"REPORT"]})]}),(0,Tk.jsxs)("div",{className:"price-row",children:[(0,Tk.jsx)("span",{className:"price",children:null!==(s=a.price)&&void 0!==s?s:"Price: N/A"}),(0,Tk.jsx)("button",{className:"addtoCart",onClick:async()=>{if(E)try{var e;const t=Fp(Mp(ox,"Users",E.uid,"cart"),i);if((await Hf(t)).exists())return void alert("Already in cart");await Kf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png",image:(null===(e=a.images)||void 0===e?void 0:e[0])||"/Vrumies/default-thumbnail.png",reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Tk.jsxs)("div",{className:"post-right",children:[(0,Tk.jsxs)("div",{className:"image-container",children:[(0,Tk.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Tk.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Tk.jsx)(Xk,{className:"expand-icon"})})]}),(0,Tk.jsxs)("div",{className:"carousel",children:[(0,Tk.jsx)(qk,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Thumb ${t}`,className:"thumb "+(t===u?"active":""),onClick:()=>d(t)},t)),(0,Tk.jsx)(Hk,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const CE=function(e){var n,r;let{postId:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void h({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?h({uid:e.uid}):h({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else h(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!s)return;const e=Xf(Fp(ox,"Posts",s),e=>{e.exists()&&f({id:e.id,...e.data()})});return()=>e()},[s]);const m=async e=>{if(!d)return void alert("You must be signed in to vote.");const t=d.uid,n=Fp(ox,"Posts",s);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const s=await Hf(n);if(s.exists()){var r,i;const e=s.data(),t=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await Jf(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{u(!0);try{const e=Mp(ox,"Posts",s,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{u(!1)}})()},[s]);const g=null===d||void 0===d?void 0:d.uid,v=(null===p||void 0===p?void 0:p.likes)||[],y=(null===p||void 0===p?void 0:p.dislikes)||[],b=g&&v.includes(g),x=g&&y.includes(g);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(b?"active":""),onClick:()=>m("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(n=null===p||void 0===p?void 0:p.likesCounter)&&void 0!==n?n:v.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(x?"active":""),onClick:()=>m("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(r=null===p||void 0===p?void 0:p.dislikesCounter)&&void 0!==r?r:y.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilepic)||"/Vrumies/default-profile.png",alt:(null===d||void 0===d?void 0:d.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===d||void 0===d?void 0:d.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!lx.currentUser||!d)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",s,"comments"),t={name:d.username||"Unknown User",avatar:d.profilepic||"/Vrumies/default-profile.png",text:i,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),c?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},_E=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","forum")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading Forums..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Forums"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(AN,{...e},e.id))})]})},TE=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"forum"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Tk.jsxs)("div",{className:"vpe-content-page",children:[(0,Tk.jsx)(SE,{}),(0,Tk.jsx)(EE,{postId:e}),(0,Tk.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Tk.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Tk.jsx)(CE,{postId:e})}),(0,Tk.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Tk.jsx)(_E,{postId:e})})]})]})},IE=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://blog.shift4shop.com/hubfs/How%20to%20Manage%20an%20eCommerce%20Blog.jpg');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Blog Post"})]});const AE=function(e){var n,r,s;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:E}=FN(),C=ne();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Fp(ox,"Posts",i),r=await Hf(n);if(!r.exists())return void p(!1);const s=r.data();o(s);const a=Fp(ox,"Users",s.userId),l=await Hf(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"/Vrumies/default-profile.png"}),E){const t=Fp(ox,"Users",E.uid),n=await Hf(t);if(n.exists()){var e;const t=n.data();b((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(E){var t;const e=(null===(t=s.report)||void 0===t?void 0:t.includes(E.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,E]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(h)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["/Vrumies/default-thumbnail.png"],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png";return(0,Tk.jsxs)("div",{className:"post-section",children:[k&&(0,Tk.jsx)("div",{className:"copy-notification",children:k}),(0,Tk.jsxs)("div",{className:"post-left",children:[(0,Tk.jsxs)("div",{className:"post-content",children:[(0,Tk.jsxs)("div",{className:"post-header",children:[(0,Tk.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / BLOGS"}),(0,Tk.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Tk.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Tk.jsxs)("div",{className:"seller-row",children:[(0,Tk.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("div",{className:"seller-name",children:R}),(0,Tk.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Tk.jsxs)("div",{className:"post-action-buttons",children:[(0,Tk.jsx)("button",{className:"post-action-btn follow-btn "+(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Fp(ox,"Users",e);if(!(await Hf(t)).exists())return void _("User not found",4e3);const n=Mp(ox,"chats"),r=Tf(n,Af("participants","array-contains",E.uid)),s=await Gf(r);let i=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await Qf(n,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:rm()});i=t.id,await Qf(Mp(ox,"chats",i,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:rm(),photos:[],seenBy:[E.uid]}),await Kf(Fp(ox,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:rm()},{merge:!0})}C(`/inbox?chat=${i}`)}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Tk.jsxs)("div",{className:"tabs",children:[(0,Tk.jsx)("div",{className:"tab "+("description"===f?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Tk.jsx)("div",{className:"tab "+("details"===f?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Tk.jsx)("div",{className:"tab "+("reviews"===f?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===f&&(0,Tk.jsx)("p",{className:"description",children:A}),"details"===f&&(0,Tk.jsxs)("div",{className:"post-details",children:[(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Location:"})," ",null!==(r=a.location)&&void 0!==r?r:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Link:"})," ",a.link?(0,Tk.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:`https://${O}`:null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===f&&(0,Tk.jsx)("div",{className:"seller-reviews-section",children:(0,Tk.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Tk.jsxs)("div",{className:"actions",children:[(0,Tk.jsxs)("button",{className:"action-btn share "+(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Tk.jsx)(nj,{}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"action-btn bookmark "+(y?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Users",E.uid);try{y?(await Jf(e,{bookmarks:im(i)}),b(!1),_("Removed from bookmarks")):(await Jf(e,{bookmarks:sm(i)}),b(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(Wk,{}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"action-btn report "+(x?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Posts",i);try{const t=await Hf(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await Jf(e,{report:im(E.uid)}),w(!1),_("Report removed")):(await Jf(e,{report:sm(E.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(ej,{}),"REPORT"]})]}),(0,Tk.jsxs)("div",{className:"price-row",children:[(0,Tk.jsx)("span",{className:"price",children:null!==(s=a.price)&&void 0!==s?s:"Price: N/A"}),(0,Tk.jsx)("button",{className:"addtoCart",onClick:async()=>{if(E)try{var e;const t=Fp(Mp(ox,"Users",E.uid,"cart"),i);if((await Hf(t)).exists())return void alert("Already in cart");await Kf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png",image:(null===(e=a.images)||void 0===e?void 0:e[0])||"/Vrumies/default-thumbnail.png",reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Tk.jsxs)("div",{className:"post-right",children:[(0,Tk.jsxs)("div",{className:"image-container",children:[(0,Tk.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Tk.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Tk.jsx)(Xk,{className:"expand-icon"})})]}),(0,Tk.jsxs)("div",{className:"carousel",children:[(0,Tk.jsx)(qk,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Thumb ${t}`,className:"thumb "+(t===u?"active":""),onClick:()=>d(t)},t)),(0,Tk.jsx)(Hk,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const PE=function(e){var n,r;let{postId:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void h({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?h({uid:e.uid}):h({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else h(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!s)return;const e=Xf(Fp(ox,"Posts",s),e=>{e.exists()&&f({id:e.id,...e.data()})});return()=>e()},[s]);const m=async e=>{if(!d)return void alert("You must be signed in to vote.");const t=d.uid,n=Fp(ox,"Posts",s);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const s=await Hf(n);if(s.exists()){var r,i;const e=s.data(),t=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await Jf(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{u(!0);try{const e=Mp(ox,"Posts",s,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{u(!1)}})()},[s]);const g=null===d||void 0===d?void 0:d.uid,v=(null===p||void 0===p?void 0:p.likes)||[],y=(null===p||void 0===p?void 0:p.dislikes)||[],b=g&&v.includes(g),x=g&&y.includes(g);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(b?"active":""),onClick:()=>m("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(n=null===p||void 0===p?void 0:p.likesCounter)&&void 0!==n?n:v.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(x?"active":""),onClick:()=>m("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(r=null===p||void 0===p?void 0:p.dislikesCounter)&&void 0!==r?r:y.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilepic)||"/Vrumies/default-profile.png",alt:(null===d||void 0===d?void 0:d.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===d||void 0===d?void 0:d.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!lx.currentUser||!d)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",s,"comments"),t={name:d.username||"Unknown User",avatar:d.profilepic||"/Vrumies/default-profile.png",text:i,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),c?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},RE=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","blog")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading blogs..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Blogs"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(bN,{...e},e.id))})]})},DE=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"blog"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Tk.jsxs)("div",{className:"vpe-content-page",children:[(0,Tk.jsx)(IE,{}),(0,Tk.jsx)(AE,{postId:e}),(0,Tk.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Tk.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Tk.jsx)(PE,{postId:e})}),(0,Tk.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Tk.jsx)(RE,{postId:e})})]})]})},OE=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://media.istockphoto.com/id/1271779268/photo/calling-roadside-assistance.jpg?s=612x612&w=0&k=20&c=JxOZbwpnSE_vxFWZ5Te1-Y4QrUMsiLFaDyXu_uMX1ok=');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Request Post"})]});const LE=function(e){var n,r,s;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:E}=FN(),C=ne();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Fp(ox,"Posts",i),r=await Hf(n);if(!r.exists())return void p(!1);const s=r.data();o(s);const a=Fp(ox,"Users",s.userId),l=await Hf(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"/Vrumies/default-profile.png"}),E){const t=Fp(ox,"Users",E.uid),n=await Hf(t);if(n.exists()){var e;const t=n.data();b((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(E){var t;const e=(null===(t=s.report)||void 0===t?void 0:t.includes(E.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,E]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(h)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["/Vrumies/default-thumbnail.png"],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png";return(0,Tk.jsxs)("div",{className:"post-section",children:[k&&(0,Tk.jsx)("div",{className:"copy-notification",children:k}),(0,Tk.jsxs)("div",{className:"post-left",children:[(0,Tk.jsxs)("div",{className:"post-content",children:[(0,Tk.jsxs)("div",{className:"post-header",children:[(0,Tk.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / REQUESTS"}),(0,Tk.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Tk.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Tk.jsxs)("div",{className:"seller-row",children:[(0,Tk.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("div",{className:"seller-name",children:R}),(0,Tk.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Tk.jsxs)("div",{className:"post-action-buttons",children:[(0,Tk.jsx)("button",{className:"post-action-btn follow-btn "+(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Fp(ox,"Users",e);if(!(await Hf(t)).exists())return void _("User not found",4e3);const n=Mp(ox,"chats"),r=Tf(n,Af("participants","array-contains",E.uid)),s=await Gf(r);let i=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await Qf(n,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:rm()});i=t.id,await Qf(Mp(ox,"chats",i,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:rm(),photos:[],seenBy:[E.uid]}),await Kf(Fp(ox,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:rm()},{merge:!0})}C(`/inbox?chat=${i}`)}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Tk.jsxs)("div",{className:"tabs",children:[(0,Tk.jsx)("div",{className:"tab "+("description"===f?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Tk.jsx)("div",{className:"tab "+("details"===f?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Tk.jsx)("div",{className:"tab "+("reviews"===f?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===f&&(0,Tk.jsx)("p",{className:"description",children:A}),"details"===f&&(0,Tk.jsxs)("div",{className:"post-details",children:[(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Location:"})," ",null!==(r=a.location)&&void 0!==r?r:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Link:"})," ",a.link?(0,Tk.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:`https://${O}`:null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===f&&(0,Tk.jsx)("div",{className:"seller-reviews-section",children:(0,Tk.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Tk.jsxs)("div",{className:"actions",children:[(0,Tk.jsxs)("button",{className:"action-btn share "+(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Tk.jsx)(nj,{}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"action-btn bookmark "+(y?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Users",E.uid);try{y?(await Jf(e,{bookmarks:im(i)}),b(!1),_("Removed from bookmarks")):(await Jf(e,{bookmarks:sm(i)}),b(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(Wk,{}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"action-btn report "+(x?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Posts",i);try{const t=await Hf(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await Jf(e,{report:im(E.uid)}),w(!1),_("Report removed")):(await Jf(e,{report:sm(E.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(ej,{}),"REPORT"]})]}),(0,Tk.jsxs)("div",{className:"price-row",children:[(0,Tk.jsx)("span",{className:"price",children:null!==(s=a.price)&&void 0!==s?s:"Price: N/A"}),(0,Tk.jsx)("button",{className:"addtoCart",onClick:async()=>{if(E)try{var e;const t=Fp(Mp(ox,"Users",E.uid,"cart"),i);if((await Hf(t)).exists())return void alert("Already in cart");await Kf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png",image:(null===(e=a.images)||void 0===e?void 0:e[0])||"/Vrumies/default-thumbnail.png",reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Tk.jsxs)("div",{className:"post-right",children:[(0,Tk.jsxs)("div",{className:"image-container",children:[(0,Tk.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Tk.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Tk.jsx)(Xk,{className:"expand-icon"})})]}),(0,Tk.jsxs)("div",{className:"carousel",children:[(0,Tk.jsx)(qk,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Thumb ${t}`,className:"thumb "+(t===u?"active":""),onClick:()=>d(t)},t)),(0,Tk.jsx)(Hk,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const ME=function(e){var n,r;let{postId:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void h({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?h({uid:e.uid}):h({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else h(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!s)return;const e=Xf(Fp(ox,"Posts",s),e=>{e.exists()&&f({id:e.id,...e.data()})});return()=>e()},[s]);const m=async e=>{if(!d)return void alert("You must be signed in to vote.");const t=d.uid,n=Fp(ox,"Posts",s);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const s=await Hf(n);if(s.exists()){var r,i;const e=s.data(),t=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await Jf(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{u(!0);try{const e=Mp(ox,"Posts",s,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{u(!1)}})()},[s]);const g=null===d||void 0===d?void 0:d.uid,v=(null===p||void 0===p?void 0:p.likes)||[],y=(null===p||void 0===p?void 0:p.dislikes)||[],b=g&&v.includes(g),x=g&&y.includes(g);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(b?"active":""),onClick:()=>m("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(n=null===p||void 0===p?void 0:p.likesCounter)&&void 0!==n?n:v.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(x?"active":""),onClick:()=>m("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(r=null===p||void 0===p?void 0:p.dislikesCounter)&&void 0!==r?r:y.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilepic)||"/Vrumies/default-profile.png",alt:(null===d||void 0===d?void 0:d.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===d||void 0===d?void 0:d.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!lx.currentUser||!d)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",s,"comments"),t={name:d.username||"Unknown User",avatar:d.profilepic||"/Vrumies/default-profile.png",text:i,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),c?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},FE=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","request")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading request posts..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Requests"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(xj,{...e},e.id))})]})},UE=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"request"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Tk.jsxs)("div",{className:"vpe-content-page",children:[(0,Tk.jsx)(OE,{}),(0,Tk.jsx)(LE,{postId:e}),(0,Tk.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Tk.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Tk.jsx)(ME,{postId:e})}),(0,Tk.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Tk.jsx)(FE,{postId:e})})]})]})},VE=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .app-container {\n          min-height: 100vh;\n          background-color: #191b22ff;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n        }\n\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: flex;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 2rem 3rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://hips.hearstapps.com/autoweek/assets/craing_0.jpg');\n          background-size: cover;       /* Makes image fill container */\n        background-position: center;  /* Centers the image */\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          height: 60px;\n          overflow: hidden;\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap;\n          text-shadow:\n            -1px -1px 0 #000,  \n            1px -1px 0 #000,\n            -1px  1px 0 #000,\n            1px  1px 0 #000;\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Vehicle Post"})]});const zE=function(e){var n,r,s;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:E}=FN(),C=ne();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Fp(ox,"Posts",i),r=await Hf(n);if(!r.exists())return void p(!1);const s=r.data();o(s);const a=Fp(ox,"Users",s.userId),l=await Hf(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"/Vrumies/default-profile.png"}),E){const t=Fp(ox,"Users",E.uid),n=await Hf(t);if(n.exists()){var e;const t=n.data();b((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(E){var t;const e=(null===(t=s.report)||void 0===t?void 0:t.includes(E.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,E]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(h)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["/Vrumies/default-thumbnail.png"],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png";return(0,Tk.jsxs)("div",{className:"post-section",children:[k&&(0,Tk.jsx)("div",{className:"copy-notification",children:k}),(0,Tk.jsxs)("div",{className:"post-left",children:[(0,Tk.jsxs)("div",{className:"post-content",children:[(0,Tk.jsxs)("div",{className:"post-header",children:[(0,Tk.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / VEHICLES"}),(0,Tk.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Tk.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Tk.jsxs)("div",{className:"seller-row",children:[(0,Tk.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("div",{className:"seller-name",children:R}),(0,Tk.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Tk.jsx)(sj,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Tk.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Tk.jsxs)("div",{className:"post-action-buttons",children:[(0,Tk.jsx)("button",{className:"post-action-btn follow-btn "+(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Tk.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Fp(ox,"Users",e);if(!(await Hf(t)).exists())return void _("User not found",4e3);const n=Mp(ox,"chats"),r=Tf(n,Af("participants","array-contains",E.uid)),s=await Gf(r);let i=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await Qf(n,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:rm()});i=t.id,await Qf(Mp(ox,"chats",i,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:rm(),photos:[],seenBy:[E.uid]}),await Kf(Fp(ox,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:rm()},{merge:!0})}C(`/inbox?chat=${i}`)}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Tk.jsxs)("div",{className:"tabs",children:[(0,Tk.jsx)("div",{className:"tab "+("description"===f?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Tk.jsx)("div",{className:"tab "+("details"===f?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Tk.jsx)("div",{className:"tab "+("reviews"===f?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===f&&(0,Tk.jsx)("p",{className:"description",children:A}),"details"===f&&(0,Tk.jsxs)("div",{className:"post-details",children:[(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Location:"})," ",null!==(r=a.location)&&void 0!==r?r:"N/A"]}),(0,Tk.jsxs)("p",{children:[(0,Tk.jsx)("strong",{children:"Link:"})," ",a.link?(0,Tk.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:`https://${O}`:null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===f&&(0,Tk.jsx)("div",{className:"seller-reviews-section",children:(0,Tk.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Tk.jsxs)("div",{className:"actions",children:[(0,Tk.jsxs)("button",{className:"action-btn share "+(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Tk.jsx)(nj,{}),"SHARE"]}),(0,Tk.jsxs)("button",{className:"action-btn bookmark "+(y?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Users",E.uid);try{y?(await Jf(e,{bookmarks:im(i)}),b(!1),_("Removed from bookmarks")):(await Jf(e,{bookmarks:sm(i)}),b(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(Wk,{}),"BOOKMARK"]}),(0,Tk.jsxs)("button",{className:"action-btn report "+(x?"active":""),onClick:async()=>{if(!E)return;const e=Fp(ox,"Posts",i);try{const t=await Hf(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await Jf(e,{report:im(E.uid)}),w(!1),_("Report removed")):(await Jf(e,{report:sm(E.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Tk.jsx)(ej,{}),"REPORT"]})]}),(0,Tk.jsxs)("div",{className:"price-row",children:[(0,Tk.jsx)("span",{className:"price",children:null!==(s=a.price)&&void 0!==s?s:"Price: N/A"}),(0,Tk.jsx)("button",{className:"addtoCart",onClick:async()=>{if(E)try{var e;const t=Fp(Mp(ox,"Users",E.uid,"cart"),i);if((await Hf(t)).exists())return void alert("Already in cart");await Kf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"/Vrumies/default-profile.png",image:(null===(e=a.images)||void 0===e?void 0:e[0])||"/Vrumies/default-thumbnail.png",reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Tk.jsxs)("div",{className:"post-right",children:[(0,Tk.jsxs)("div",{className:"image-container",children:[(0,Tk.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Tk.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Tk.jsx)(Xk,{className:"expand-icon"})})]}),(0,Tk.jsxs)("div",{className:"carousel",children:[(0,Tk.jsx)(qk,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Tk.jsx)("img",{src:e,alt:`Thumb ${t}`,className:"thumb "+(t===u?"active":""),onClick:()=>d(t)},t)),(0,Tk.jsx)(Hk,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const BE=function(e){var n,r;let{postId:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=iv(lx,async e=>{if(e)try{const t=Fp(ox,"Users",e.uid),n=await Hf(t);if(n.exists())return void h({uid:e.uid,...n.data()});const r=Tf(Mp(ox,"Users"),Af("id","==",e.uid)),s=await Gf(r);s.empty?h({uid:e.uid}):h({uid:e.uid,...s.docs[0].data()})}catch(t){console.error("Error fetching current user:",t)}else h(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!s)return;const e=Xf(Fp(ox,"Posts",s),e=>{e.exists()&&f({id:e.id,...e.data()})});return()=>e()},[s]);const m=async e=>{if(!d)return void alert("You must be signed in to vote.");const t=d.uid,n=Fp(ox,"Posts",s);try{"like"===e?await Jf(n,{likes:sm(t),dislikes:im(t)}):"dislike"===e&&await Jf(n,{dislikes:sm(t),likes:im(t)});const s=await Hf(n);if(s.exists()){var r,i;const e=s.data(),t=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await Jf(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{u(!0);try{const e=Mp(ox,"Posts",s,"comments"),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{u(!1)}})()},[s]);const g=null===d||void 0===d?void 0:d.uid,v=(null===p||void 0===p?void 0:p.likes)||[],y=(null===p||void 0===p?void 0:p.dislikes)||[],b=g&&v.includes(g),x=g&&y.includes(g);return(0,Tk.jsxs)("div",{className:"event-comments-section",children:[(0,Tk.jsxs)("div",{className:"section-header",children:[(0,Tk.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Tk.jsxs)("div",{className:"votes",children:[(0,Tk.jsxs)("button",{className:"vote-btn like-btn "+(b?"active":""),onClick:()=>m("like"),children:[(0,Tk.jsx)(oj,{className:"vote-icon"})," ",null!==(n=null===p||void 0===p?void 0:p.likesCounter)&&void 0!==n?n:v.length]}),(0,Tk.jsxs)("button",{className:"vote-btn dislike-btn "+(x?"active":""),onClick:()=>m("dislike"),children:[(0,Tk.jsx)(aj,{className:"vote-icon"})," ",null!==(r=null===p||void 0===p?void 0:p.dislikesCounter)&&void 0!==r?r:y.length]})]})]}),(0,Tk.jsxs)("div",{className:"comment-input-row",children:[(0,Tk.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilepic)||"/Vrumies/default-profile.png",alt:(null===d||void 0===d?void 0:d.username)||"Current User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"input-container",children:[(0,Tk.jsxs)("div",{className:"input-header",children:[(0,Tk.jsx)("span",{className:"username",children:(null===d||void 0===d?void 0:d.username)||"Current User"}),(0,Tk.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Tk.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Tk.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Tk.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!lx.currentUser||!d)return void alert("You must be signed in to comment.");const e=Mp(ox,"Posts",s,"comments"),t={name:d.username||"Unknown User",avatar:d.profilepic||"/Vrumies/default-profile.png",text:i,date:(new Date).toLocaleDateString(),createdAt:ta.now()};await Qf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),c?(0,Tk.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Tk.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Tk.jsxs)("div",{className:"comment-row",children:[(0,Tk.jsx)("img",{src:e.avatar||"/Vrumies/default-profile.png",alt:e.name||"User",className:"avatar"}),(0,Tk.jsxs)("div",{className:"comment-content",children:[(0,Tk.jsxs)("div",{className:"comment-header",children:[(0,Tk.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Tk.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Tk.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})},$E=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","vehicle")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched posts:",t),n(t)}catch(e){console.error("Error fetching posts:",e)}finally{s(!1)}})()},[]),r?(0,Tk.jsx)("div",{className:"event-post-side-panel",children:"Loading vehicle posts..."}):(0,Tk.jsxs)("div",{className:"event-post-side-panel",children:[(0,Tk.jsx)("div",{className:"panel-title",children:"Related Vehicle Posts"}),(0,Tk.jsx)("div",{className:"panel-posts",children:e.map(e=>(0,Tk.jsx)(SN,{...e},e.id))})]})},qE=()=>{const{id:e}=re(),[n,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{r(!0);try{const t=Fp(ox,"Posts",e),n=await Hf(t);n.exists()&&"vehicle"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{r(!1)}})()},[e]),n?(0,Tk.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Tk.jsxs)("div",{className:"vpe-content-page",children:[(0,Tk.jsx)(VE,{}),(0,Tk.jsx)(zE,{postId:e}),(0,Tk.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Tk.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Tk.jsx)(BE,{postId:e})}),(0,Tk.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Tk.jsx)($E,{postId:e})})]})]})},HE=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Tk.jsxs)("div",{className:"events-header-container",children:[(0,Tk.jsxs)("div",{className:"left-side",children:[(0,Tk.jsx)("h1",{className:"title",children:(0,Tk.jsx)("span",{className:"green-highlight",children:"BOOKMARKS"})}),(0,Tk.jsx)("p",{className:"subtitle",children:"VIEW ALL YOUR SAVED POSTS"})]}),(0,Tk.jsx)("div",{className:"right-side",children:(0,Tk.jsx)("img",{src:"/Vrumies/category-icons/bookmark.png",alt:"Events Icon",width:"70",height:"70",className:"events-icon"})}),(0,Tk.jsxs)("div",{className:"bottom-bar",children:[(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Location of Post"}),(0,Tk.jsxs)("select",{className:"select location-select",value:e,onChange:e=>n(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Houston, TX"}),(0,Tk.jsx)("option",{children:"Dallas, TX"}),(0,Tk.jsx)("option",{children:"San Antonio, TX"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Filter Options"}),(0,Tk.jsxs)("select",{className:"select filter-select",value:r,onChange:e=>s(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Today"}),(0,Tk.jsx)("option",{children:"This Week"}),(0,Tk.jsx)("option",{children:"This Month"})]})]}),(0,Tk.jsxs)("div",{className:"select-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Sort By"}),(0,Tk.jsxs)("select",{className:"select sort-select",value:i,onChange:e=>a(e.target.value),children:[(0,Tk.jsx)("option",{children:"Show All"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Likes"}),(0,Tk.jsx)("option",{children:"Highest Rating"})]})]}),(0,Tk.jsxs)("div",{className:"search-wrapper",children:[(0,Tk.jsx)("label",{className:"select-label",children:"Search"}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",className:"search-input",value:o,onChange:e=>l(e.target.value)})]})]})]})};const WE=function(e){let{id:n,images:r,title:s,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("/Vrumies/default-profile.png"),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,f]=(0,t.useState)(0),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Fp(ox,"Users",a),t=await Hf(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"/Vrumies/default-profile.png")}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Fp(ox,"Posts",n),t=await Hf(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),f(e.dislikesCounter||0),y(e.tokens||0)}const r=await Gf(Mp(ox,"Posts",n,"comments"));g(r.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Tk.jsxs)(it,{to:`/eventpost/${n}`,className:"events-post-layout",children:[(0,Tk.jsxs)("div",{className:"card-header",children:[(0,Tk.jsxs)("div",{className:"header-left",children:[(0,Tk.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Tk.jsxs)("div",{className:"creator-info",children:[(0,Tk.jsx)("p",{className:"creator-name",children:c}),(0,Tk.jsx)("span",{className:"date",children:b})]})]}),(0,Tk.jsxs)("div",{className:"header-right",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Tk.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Tk.jsx)("div",{className:"thumbnail-container",children:(0,Tk.jsx)("img",{src:r&&r.length>0?r[0]:"/Vrumies/default-thumbnail.png",alt:s||"Event Thumbnail",className:"thumbnail"})}),(0,Tk.jsx)("h4",{className:"events-post-title",children:(s||"Untitled Event").toUpperCase()}),(0,Tk.jsxs)("div",{className:"card-footer",children:[(0,Tk.jsxs)("div",{className:"footer-left",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Tk.jsxs)("div",{className:"footer-right",children:[(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Tk.jsxs)("span",{className:"footer-item",children:[(0,Tk.jsx)(Qk,{className:"footer-icon comment"}),m]})]})]})]})};const GE=function(e){let{posts:t}=e;if(!t||0===t.length)return null;const n=t.slice(0,4);return(0,Tk.jsxs)("div",{className:"right-side-panel",children:[(0,Tk.jsx)("h3",{className:"panel-title",children:"Following"}),(0,Tk.jsx)("div",{className:"panel-posts",children:n.map((e,t)=>(0,Tk.jsx)(WE,{...e,compact:!0},e.id||t))})]})};const KE=function(e){let{posts:t}=e;if(!t||0===t.length)return(0,Tk.jsx)("p",{children:"No Data Found."});const n=t.slice(0,16);return(0,Tk.jsx)("div",{className:"events-post-grid",children:n.map((e,t)=>(0,Tk.jsx)("div",{children:(0,Tk.jsx)(it,{to:`/bookmarkpost/${e.id}`,style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Tk.jsx)(WE,{...e})})},e.id||t))})},JE=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Tf(Mp(ox,"Posts"),Af("type","==","event")),t=(await Gf(e)).docs.map(e=>({id:e.id,...e.data()}));n(t)}catch(e){console.error("Error fetching event posts:",e)}})()},[]),(0,Tk.jsxs)("div",{className:"events-page",children:[(0,Tk.jsx)(HE,{}),(0,Tk.jsx)("div",{className:"main-events",children:0===e.length?(0,Tk.jsx)("p",{className:"no-events",children:"No bookmarks yet..."}):(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(KE,{posts:e}),(0,Tk.jsx)(GE,{posts:e})]})})]})},YE=()=>(0,Tk.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Tk.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        /* Ensure padding is included in width calculations */\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: 100%; /* Prevents overflow */\n          margin-left: auto;\n          margin-right: auto;\n          padding: 1rem 2rem; /* Reduced horizontal padding */\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://miro.medium.com/v2/resize:fit:1400/1*6mJcjTUqaSlRQA4O58TWCg.jpeg');\n          background-size: cover;\n          background-position: center;\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), \n                      0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          min-height: 60px;\n          overflow: hidden;\n          box-sizing: border-box; /* Includes padding in width */\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap; /* Keeps text on a single line */\n          text-shadow: 2px 2px 6px #000; /* Fixed syntax */\n          margin: 0; /* Remove default h1 margin */\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Tk.jsx)("h1",{className:"poppins-font",children:"Test Page"})]}),QE=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(0),[o,l]=(0,t.useState)("");return(0,Tk.jsxs)("div",{children:[(0,Tk.jsx)("h2",{children:"Firebase Upload Test"}),(0,Tk.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(!t)return;n(t),s(URL.createObjectURL(t)),a(0),l("");var r,i;const o=rx((r=cx,i=`testUploads/${Date.now()}_${t.name}`,Qb(r=Kt(r),i)),t);o.on("state_changed",e=>a(e.bytesTransferred/e.totalBytes*100),e=>console.error("Upload failed:",e),async()=>{const e=await function(e){return Kb(e=Kt(e))}(o.snapshot.ref);l(e),console.log("Upload success! URL:",e)})}}),r&&(0,Tk.jsx)("img",{src:r,alt:"preview",style:{width:200}}),i>0&&(0,Tk.jsxs)("p",{children:["Progress: ",Math.round(i),"%"]}),o&&(0,Tk.jsxs)("p",{children:["Download URL: ",(0,Tk.jsx)("a",{href:o,children:o})]})]})};function XE(){const[e,n]=(0,t.useState)(""),r=async e=>{try{let t={};"market"===e?t={orderCreated:rm(),type:"market",marketSpecific:{Carrier:"",trackingNumber:""},sellerInfo:{sellerId:"WGuHMRLO3GckbNVLFdf3VbnJaZi1",sellerMarkedCompleted:!1,sellerDispute:!1},buyerInfo:{buyerId:"qC6szmLNPdYFiPPYBFASOeCm4Hv2",buyerMarkedCompleted:!1,buyerDispute:!1},postData:{postId:"0",title:"Hammaka Hitch Stand Combo",description:"Upgrade your outdoor relaxation setup with the Hammaka Hitch Stand Combo \u2013 the ultimate solution for effortless comfort anywhere! This versatile combo includes a durable hitch-mounted stand and a premium hammock, providing a secure and portable lounging experience. Crafted with high-quality materials, the stand supports your hammock safely while being easy to assemble and transport. Perfect for camping, tailgating, backyard lounging, or road trips, the Hammaka Hitch Stand Combo delivers unmatched convenience and relaxation. Lightweight yet sturdy, it\u2019s designed to fit most vehicles with a standard hitch receiver, giving you the freedom to unwind wherever you go.",images:["https://m.media-amazon.com/images/I/61TDUwjqKCL._UF894,1000_QL80_.jpg","https://res.cloudinary.com/dmjvngk3o/image/upload/v1756576955/dzd5x758ezczi6m9f7om.jpg"],price:"$375.99",condition:"new",shippingTime:"2-4 days"},deliveryInfo:{deliveryName:"Michael Brown",deliveryStreetAddress:"126 Marylane Drive",deliveryCity:"Houston",deliveryState:"TX",deliveryZipCode:"77024"},paymentInfo:{paymentmethod:"Card",lastfour:"4538",paymentSuccessful:!0}}:"event"===e?t={orderCreated:rm(),type:"event",eventSpecific:{ticketFile:""},sellerInfo:{sellerId:"WGuHMRLO3GckbNVLFdf3VbnJaZi1",sellerMarkedCompleted:!1,sellerDispute:!1},buyerInfo:{buyerId:"qC6szmLNPdYFiPPYBFASOeCm4Hv2",buyerMarkedCompleted:!1,buyerDispute:!1},postData:{postId:"U2drlp1CDkPorUVh280K",title:"Cars & Cofee Meetup",description:"Start your weekend engines and fuel your passion for automobiles at the Cars & Coffee Meetup! Join fellow car enthusiasts for a casual, fun-filled morning where exotic cars, classic rides, and everything in between come together. Enjoy a relaxed atmosphere with coffee, great conversation, and the chance to show off your ride or admire others. Whether you're a seasoned collector, a weekend hobbyist, or simply a car fan, this meetup is the perfect way to connect with like-minded enthusiasts.",images:["https://www.nrgpark.com/wp-content/uploads/event-super-car-show.webp","https://res.cloudinary.com/dmjvngk3o/image/upload/v1756576955/edojkhhabccqlflsvlbp.jpg"],price:"$25",eventDateTime:{type:"firestore/timestamp/1.0",seconds:1767203940,nanoseconds:0}},deliveryInfo:{deliveryName:"",deliveryStreetAddress:"",deliveryCity:"",deliveryState:"",deliveryZipCode:""},paymentInfo:{paymentmethod:"Card",lastfour:"5468",paymentSuccessful:!0}}:"directory"===e&&(t={orderCreated:rm(),type:"directory",sellerInfo:{sellerId:"WGuHMRLO3GckbNVLFdf3VbnJaZi1",sellerMarkedCompleted:!1,sellerDispute:!1},buyerInfo:{buyerId:"qC6szmLNPdYFiPPYBFASOeCm4Hv2",buyerMarkedCompleted:!1,buyerDispute:!1},postData:{postId:"2",title:"Frame & Body Repair Service",description:"Restore your vehicle to its original condition with our expert Frame & Body Repair Service. Whether it\u2019s a minor dent, a major collision, or structural damage, our certified technicians use state-of-the-art equipment and proven techniques to ensure your car looks and drives like new. From precision frame alignment to flawless paint matching, we handle every repair with attention to detail and quality craftsmanship.",images:["https://www.libertycollision.center/wp-content/uploads/IMG_8757-1-rotated.jpg"],price:"$550.00",serviceLocation:"Customer Address"},deliveryInfo:{deliveryName:"Matthew Gomez",deliveryStreetAddress:"1548 Willowbrook Drive",deliveryCity:"Dallas",deliveryState:"TX",deliveryZipCode:"75001"},paymentInfo:{paymentmethod:"Card",lastfour:"5476",paymentSuccessful:!0}}),await Qf(Mp(ox,"Orders"),t),n(`\u2705 ${e} order created successfully!`)}catch(t){console.error("Error creating dummy order:",t),n("\u274c Failed to create order. Check console.")}};return(0,Tk.jsxs)("div",{className:"dummy-seeder",children:[(0,Tk.jsx)("h2",{children:"Create Dummy Orders"}),(0,Tk.jsxs)("div",{className:"button-group",children:[(0,Tk.jsx)("button",{onClick:()=>r("market"),children:"Add Market Order"}),(0,Tk.jsx)("button",{onClick:()=>r("event"),children:"Add Event Order"}),(0,Tk.jsx)("button",{onClick:()=>r("directory"),children:"Add Directory Order"})]}),e&&(0,Tk.jsx)("p",{className:"status-message",children:e})]})}const ZE=()=>(0,Tk.jsxs)("div",{className:"content-page",children:[(0,Tk.jsx)(YE,{}),(0,Tk.jsx)(QE,{}),(0,Tk.jsx)(XE,{})]}),eC={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://www.milesweb.in/blog/wp-content/uploads/2015/06/ecommerce-stores-hosted-vs-licensed-shopping-cart-solutions-min-1.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},bottomBar:{marginTop:"94px",display:"flex",alignItems:"center",gap:"15px"},locationButton:{border:"1px solid #00FF00",background:"black",color:"#00FF00",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},select:{border:"1px solid #00FF00",background:"black",color:"#fff",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},searchInput:{flexGrow:1,padding:"8px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:"#111",color:"#fff"}},tC=()=>(0,Tk.jsxs)("div",{style:{...eC.container,height:"260px",minHeight:void 0},children:[(0,Tk.jsxs)("div",{style:eC.leftSide,children:[(0,Tk.jsx)("h1",{style:eC.title,children:(0,Tk.jsx)("span",{style:eC.greenHighlight,children:"Checkout"})}),(0,Tk.jsx)("p",{style:eC.subtitle,children:"Finalize delivery and payment method."})]}),(0,Tk.jsx)("div",{style:eC.rightSide,children:(0,Tk.jsx)("img",{src:"/Vrumies/request-icon.png",alt:"ShoppingCart Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})}),(0,Tk.jsxs)("div",{style:eC.bottomBar,children:[(0,Tk.jsxs)("button",{style:eC.locationButton,children:[(0,Tk.jsx)("span",{role:"img","aria-label":"location",children:"\ud83d\udccd"})," Location of Post"]}),(0,Tk.jsxs)("select",{style:eC.select,children:[(0,Tk.jsx)("option",{children:"Filter Options \u25bc"}),(0,Tk.jsx)("option",{children:"Option 1"}),(0,Tk.jsx)("option",{children:"Option 2"})]}),(0,Tk.jsxs)("select",{style:eC.select,children:[(0,Tk.jsx)("option",{children:"Sort By Best Match \u25bc"}),(0,Tk.jsx)("option",{children:"Newest"}),(0,Tk.jsx)("option",{children:"Oldest"})]}),(0,Tk.jsx)("input",{type:"search",placeholder:"Type your search here...",style:eC.searchInput})]})]}),nC=NS("pk_test_XXXX"),rC=(0,t.forwardRef)(()=>{const e=(0,cS.useStripe)(),n=(0,cS.useElements)(),{currentUser:r}=FN(),[s,i]=(0,t.useState)({fullName:"",email:"",address:"",city:"",state:"",zip:"",billingFullName:"",billingAddress:"",billingCity:"",billingState:"",billingZip:"",useBillingAsShipping:!1}),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!r)return;const e=Xf(Mp(ox,"Users",r.uid,"cart"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));c(t)});return()=>e()},[r]),(0,t.useEffect)(()=>{s.useBillingAsShipping&&i(e=>({...e,fullName:e.billingFullName,address:e.billingAddress,city:e.billingCity,state:e.billingState,zip:e.billingZip}))},[s.billingFullName,s.billingAddress,s.billingCity,s.billingState,s.billingZip,s.useBillingAsShipping]);const u=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))},d=l.reduce((e,t)=>{return e+(n=t.price,Number(n.toString().replace("$",""))||0);var n},0),h=.15*d,p=d+h;return(0,Tk.jsxs)("div",{className:"cb-checkout-body",children:[(0,Tk.jsx)("h3",{className:"cb-checkout-title",children:"Checkout"}),(0,Tk.jsxs)("form",{className:"cb-checkout-form",onSubmit:t=>{t.preventDefault(),(async()=>{if(!e||!n)return void o("Stripe is not loaded yet.");const t=n.getElement(cS.CardElement),r={name:s.billingFullName,email:s.email,address:{line1:s.billingAddress,city:s.billingCity,state:s.billingState,postal_code:s.billingZip}},{error:i,paymentMethod:a}=await e.createPaymentMethod({type:"card",card:t,billing_details:r});i?o(`Error: ${i.message}`):(o("Success! Payment method created."),console.log(a))})()},children:[(0,Tk.jsxs)("div",{className:"cb-section",children:[(0,Tk.jsx)("h4",{className:"cb-section-title",children:"Delivery Information"}),(0,Tk.jsxs)("label",{className:"cb-toggle-label",children:[(0,Tk.jsx)("span",{children:"Optional - Use only if seller needs an address."}),(0,Tk.jsxs)("div",{className:"cb-toggle",children:[(0,Tk.jsx)("input",{type:"checkbox",checked:s.useBillingAsShipping,onChange:e=>{const t=e.target.checked;i(e=>({...e,useBillingAsShipping:t,fullName:t?e.billingFullName:"",email:t?e.email:"",address:t?e.billingAddress:"",city:t?e.billingCity:"",state:t?e.billingState:"",zip:t?e.billingZip:""}))}}),(0,Tk.jsx)("span",{className:"cb-slider"})]})]}),s.useBillingAsShipping&&(0,Tk.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Tk.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",value:s.fullName,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",value:s.email,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"address",placeholder:"Street Address",value:s.address,onChange:u,required:!0}),(0,Tk.jsxs)("div",{className:"cb-two-col",children:[(0,Tk.jsx)("input",{type:"text",name:"city",placeholder:"City",value:s.city,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"state",placeholder:"State",value:s.state,onChange:u,required:!0})]}),(0,Tk.jsx)("input",{type:"text",name:"zip",placeholder:"ZIP Code",value:s.zip,onChange:u,required:!0})]})]}),(0,Tk.jsxs)("div",{className:"cb-section",children:[(0,Tk.jsx)("h4",{className:"cb-section-title",children:"Billing Information"}),(0,Tk.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Tk.jsx)("input",{type:"text",name:"billingFullName",placeholder:"Billing Full Name",value:s.billingFullName,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"billingAddress",placeholder:"Billing Street Address",value:s.billingAddress,onChange:u,required:!0}),(0,Tk.jsxs)("div",{className:"cb-two-col",children:[(0,Tk.jsx)("input",{type:"text",name:"billingCity",placeholder:"Billing City",value:s.billingCity,onChange:u,required:!0}),(0,Tk.jsx)("input",{type:"text",name:"billingState",placeholder:"Billing State",value:s.billingState,onChange:u,required:!0})]}),(0,Tk.jsx)("input",{type:"text",name:"billingZip",placeholder:"Billing ZIP",value:s.billingZip,onChange:u,required:!0})]})]}),(0,Tk.jsxs)("div",{className:"cb-section",children:[(0,Tk.jsx)("h4",{className:"cb-section-title",children:"Payment Information"}),(0,Tk.jsx)("div",{className:"cb-card-element cb-card-light",children:(0,Tk.jsx)(cS.CardElement,{options:{style:iC}})})]}),(0,Tk.jsxs)("div",{className:"cb-section cb-order-summary",children:[(0,Tk.jsxs)("div",{className:"cb-row",children:[(0,Tk.jsx)("span",{children:"Subtotal:"}),(0,Tk.jsxs)("span",{children:["$",d.toFixed(2)]})]}),(0,Tk.jsxs)("div",{className:"cb-row",children:[(0,Tk.jsx)("span",{children:"Taxes & Fees:"}),(0,Tk.jsxs)("span",{children:["$",h.toFixed(2)]})]}),(0,Tk.jsx)("hr",{}),(0,Tk.jsxs)("div",{className:"cb-row cb-total",children:[(0,Tk.jsx)("span",{children:"Total:"}),(0,Tk.jsxs)("span",{children:["$",p.toFixed(2)]})]})]}),(0,Tk.jsx)("button",{type:"submit",className:"cb-submit-btn",disabled:!e,children:"Pay Now"})]}),a&&(0,Tk.jsx)("p",{style:{marginTop:"15px",color:a.startsWith("Error")?"#ff6b6b":"#00AA00"},children:a})]})});function sC(){return(0,Tk.jsx)(cS.Elements,{stripe:nC,children:(0,Tk.jsx)(rC,{})})}const iC={style:{base:{color:"#000000",iconColor:"#000000",backgroundColor:"#ffffff",fontFamily:"Arial, sans-serif",fontSize:"16px",lineHeight:"24px","::placeholder":{color:"#555"},caretColor:"#000000","::selection":{color:"#fff",backgroundColor:"#000"},":-webkit-autofill":{color:"#000000"}},invalid:{color:"#ff0000",iconColor:"#ff0000"}}},aC=()=>(0,Tk.jsxs)("div",{className:"content-page",children:[(0,Tk.jsx)(tC,{}),(0,Tk.jsx)("div",{className:"co-checkout-main",children:(0,Tk.jsx)(sC,{})})]}),oC=e=>{let{children:t}=e;return(0,Tk.jsxs)(Tk.Fragment,{children:[(0,Tk.jsx)(hj,{}),t]})},lC=()=>(0,Tk.jsxs)(je,{children:[(0,Tk.jsx)(we,{path:"/",element:(0,Tk.jsx)(xe,{to:"/signin",replace:!0})}),(0,Tk.jsx)(we,{path:"/signin",element:(0,Tk.jsx)(sS,{})}),(0,Tk.jsx)(we,{path:"/videos",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(yj,{})})}),(0,Tk.jsx)(we,{path:"/blogs",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(kN,{})})}),(0,Tk.jsx)(we,{path:"/forums",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(DN,{})})}),(0,Tk.jsx)(we,{path:"/vehicles",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(_N,{})})}),(0,Tk.jsx)(we,{path:"/request",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(jj,{})})}),(0,Tk.jsx)(we,{path:"/market",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(_j,{})})}),(0,Tk.jsx)(we,{path:"/marketpost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(DS,{})})}),(0,Tk.jsx)(we,{path:"/events",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(Rj,{})})}),(0,Tk.jsx)(we,{path:"/eventpost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(bE,{})})}),(0,Tk.jsx)(we,{path:"/directorypost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(NE,{})})}),(0,Tk.jsx)(we,{path:"/blogpost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(DE,{})})}),(0,Tk.jsx)(we,{path:"/requestpost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(UE,{})})}),(0,Tk.jsx)(we,{path:"/forumpost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(TE,{})})}),(0,Tk.jsx)(we,{path:"/vehiclepost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(qE,{})})}),(0,Tk.jsx)(we,{path:"/directory",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(Fj,{})})}),(0,Tk.jsx)(we,{path:"/videopost/:id",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(eN,{})})}),(0,Tk.jsx)(we,{path:"/adminpanel",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(gN,{})})}),(0,Tk.jsx)(we,{path:"/orders",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(KN,{})})}),(0,Tk.jsx)(we,{path:"/inbox",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(XN,{})})}),(0,Tk.jsx)(we,{path:"/tokens",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(rS,{})})}),(0,Tk.jsx)(we,{path:"/cart",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(TS,{})})}),(0,Tk.jsx)(we,{path:"/settings",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(US,{})})}),(0,Tk.jsx)(we,{path:"/myprofile",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(YS,{})})}),(0,Tk.jsx)(we,{path:"/viewprofile/:userId",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(eE,{})})}),(0,Tk.jsx)(we,{path:"/seller",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(fE,{})})}),(0,Tk.jsx)(we,{path:"/bookmarks",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(JE,{})})}),(0,Tk.jsx)(we,{path:"/testpage",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(ZE,{})})}),(0,Tk.jsx)(we,{path:"/checkout",element:(0,Tk.jsx)(oC,{children:(0,Tk.jsx)(aC,{})})})]});const cC=function(){return(0,Tk.jsx)("div",{className:"App",children:(0,Tk.jsx)(UN,{children:(0,Tk.jsx)(rt,{children:(0,Tk.jsx)(lC,{})})})})},uC=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)})};r.createRoot(document.getElementById("root")).render((0,Tk.jsx)(t.StrictMode,{children:(0,Tk.jsx)(cC,{})})),uC()})()})();
//# sourceMappingURL=main.8de3613a.js.map