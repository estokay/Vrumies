/*! For license information please see main.5f8b695c.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var s=n(853),r=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],U=-1;function F(e){return{current:e}}function V(e){0>U||(e.current=M[U],M[U]=null,U--)}function z(e,t){U++,M[U]=e.current,e.current=t}var B=F(null),q=F(null),H=F(null),W=F(null);function K(e,t){switch(z(H,t),z(q,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),z(B,e)}function G(){V(B),V(q),V(H)}function Q(e){null!==e.memoizedState&&z(W,e);var t=B.current,n=id(t,e.type);t!==n&&(z(q,e),z(B,n))}function Y(e){q.current===e&&(V(B),V(q)),W.current===e&&(V(W),Qd._currentValue=L)}var $=Object.prototype.hasOwnProperty,X=s.unstable_scheduleCallback,J=s.unstable_cancelCallback,Z=s.unstable_shouldYield,ee=s.unstable_requestPaint,te=s.unstable_now,ne=s.unstable_getCurrentPriorityLevel,se=s.unstable_ImmediatePriority,re=s.unstable_UserBlockingPriority,ie=s.unstable_NormalPriority,ae=s.unstable_LowPriority,oe=s.unstable_IdlePriority,le=s.log,ce=s.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var s=e.pendingLanes;if(0===s)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&s;return 0!==o?0!==(s=o&~i)?r=ye(s):0!==(a&=o)?r=ye(a):n||0!==(n=o&~e)&&(r=ye(n)):0!==(o=s&~i)?r=ye(o):0!==a?r=ye(a):n||0!==(n=s&~e)&&(r=ye(n)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-pe(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pe(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,Re="__reactProps$"+Ae,De="__reactContainer$"+Ae,Oe="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,Me="__reactHandles$"+Ae,Ue="__reactResources$"+Ae,Fe="__reactMarker$"+Ae;function Ve(e){delete e[Pe],delete e[Re],delete e[Oe],delete e[Le],delete e[Me]}function ze(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Pe])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function He(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(r=t,$.call(et,r)||!$.call(Ze,r)&&(Je.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,s){if(null===s)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+s)}}function rt(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Xe}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var s=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){s=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){s=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&s&&"string"===typeof o.stack)return[o.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(r=s=0;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(s===l.length||r===c.length)for(s=l.length-1,r=c.length-1;1<=s&&0<=r&&l[s]!==c[r];)r--;for(;1<=s&&0<=r;s--,r--)if(l[s]!==c[r]){if(1!==s||1!==r)do{if(s--,0>--r||l[s]!==c[r]){var u="\n"+l[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=r);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ut(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,s,r,i,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=s&&e.removeAttribute("value"),null==r&&null!=i&&(e.defaultChecked=!!i),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,s,r,i,a,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}s="function"!==typeof(s=null!=s?s:r)&&"symbol"!==typeof s&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,s){if(null==t){if(null!=s){if(null!=n)throw Error(a(92));if(R(s)){if(1<s.length)throw Error(a(93));s=s[0]}n=s}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(s=e.textContent)===n&&""!==s&&null!==s&&(e.value=s)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var s=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var s in n)!n.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&Nt(e,r,s)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[Re]||null;if(!r)throw Error(a(90));gt(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(s=n[t]).form===e.form&&ht(s)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Lt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Pt||null!==Rt)&&(zc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var s=n[Re]||null;if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Ut)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Rh){Ft=!1}var zt=null,Bt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Bt,s=n.length,r="value"in zt?zt.value:zt.textContent,i=r.length;for(e=0;e<s&&n[e]===r[e];e++);var a=s-e;for(t=1;t<=a&&n[s-t]===r[i-t];t++);return qt=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,s,r,i){for(var a in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,$t,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,$t=e.screenY-Xt.screenY):$t=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),sn=Qt(nn),rn=Qt(h({},nn,{dataTransfer:0})),an=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function mn(){return pn}var fn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),yn=Qt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Qt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=Ut&&"CompositionEvent"in window,kn=null;Ut&&"documentMode"in document&&(kn=document.documentMode);var Nn=Ut&&"TextEvent"in window&&!kn,Sn=Ut&&(!jn||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),En=!1;function _n(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Rn(e,t,n,s){Pt?Rt?Rt.push(s):Rt=[s]:Pt=s,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Dn=null,On=null;function Ln(e){Lu(e,0)}function Mn(e){if(ht(qe(e)))return e}function Un(e,t){if("change"===e)return t}var Fn=!1;if(Ut){var Vn;if(Ut){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}Vn=zn}else Vn=!1;Fn=Vn&&(!document.documentMode||9<document.documentMode)}function qn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),On=Dn=null)}function Hn(e){if("value"===e.propertyName&&Mn(On)){var t=[];Rn(t,On,e,At(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?(qn(),On=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(On)}function Gn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!$.call(t,r)||!Yn(e[r],t[r]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,s=Xn(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Xn(s)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function es(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ns=Ut&&"documentMode"in document&&11>=document.documentMode,ss=null,rs=null,is=null,as=!1;function os(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;as||null==ss||ss!==pt(s)||("selectionStart"in(s=ss)&&ts(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},is&&$n(is,s)||(is=s,0<(s=Hu(rs,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ss)))}function ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cs={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},us={},ds={};function hs(e){if(us[e])return us[e];if(!cs[e])return e;var t,n=cs[e];for(t in n)if(n.hasOwnProperty(t)&&t in ds)return us[e]=n[t];return e}Ut&&(ds=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);var ps=hs("animationend"),ms=hs("animationiteration"),fs=hs("animationstart"),gs=hs("transitionrun"),vs=hs("transitionstart"),ys=hs("transitioncancel"),xs=hs("transitionend"),bs=new Map,ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(e,t){bs.set(e,t),Qe(t,[e])}ws.push("scrollEnd");var ks=new WeakMap;function Ns(e,t){if("object"===typeof e&&null!==e){var n=ks.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},ks.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ss=[],Cs=0,Es=0;function _s(){for(var e=Cs,t=Es=Cs=0;t<e;){var n=Ss[t];Ss[t++]=null;var s=Ss[t];Ss[t++]=null;var r=Ss[t];Ss[t++]=null;var i=Ss[t];if(Ss[t++]=null,null!==s&&null!==r){var a=s.pending;null===a?r.next=r:(r.next=a.next,a.next=r),s.pending=r}0!==i&&Ps(n,r,i)}}function Ts(e,t,n,s){Ss[Cs++]=e,Ss[Cs++]=t,Ss[Cs++]=n,Ss[Cs++]=s,Es|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Is(e,t,n,s){return Ts(e,t,n,s),Rs(e)}function As(e,t){return Ts(e,null,null,t),Rs(e)}function Ps(e,t,n){e.lanes|=n;var s=e.alternate;null!==s&&(s.lanes|=n);for(var r=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(s=i.alternate)&&(s.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(r=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,r&&null!==t&&(r=31-pe(n),null===(s=(e=i.hiddenUpdates)[r])?e[r]=[t]:s.push(t),t.lane=536870912|n),i):null}function Rs(e){if(50<Pc)throw Pc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ds={};function Os(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(e,t,n,s){return new Os(e,t,n,s)}function Ms(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Us(e,t){var n=e.alternate;return null===n?((n=Ls(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fs(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vs(e,t,n,s,r,i){var o=0;if(s=e,"function"===typeof e)Ms(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Ls(31,n,t,r)).elementType=E,e.lanes=i,e;case g:return zs(n.children,r,i,t);case v:o=8,r|=24;break;case y:return(e=Ls(12,n,t,2|r)).elementType=y,e.lanes=i,e;case k:return(e=Ls(13,n,t,r)).elementType=k,e.lanes=i,e;case N:return(e=Ls(19,n,t,r)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:o=10;break e;case b:o=9;break e;case j:o=11;break e;case S:o=14;break e;case C:o=16,s=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),s=null}return(t=Ls(o,n,t,r)).elementType=e,t.type=s,t.lanes=i,t}function zs(e,t,n,s){return(e=Ls(7,e,s,t)).lanes=n,e}function Bs(e,t,n){return(e=Ls(6,e,null,t)).lanes=n,e}function qs(e,t,n){return(t=Ls(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hs=[],Ws=0,Ks=null,Gs=0,Qs=[],Ys=0,$s=null,Xs=1,Js="";function Zs(e,t){Hs[Ws++]=Gs,Hs[Ws++]=Ks,Ks=e,Gs=t}function er(e,t,n){Qs[Ys++]=Xs,Qs[Ys++]=Js,Qs[Ys++]=$s,$s=e;var s=Xs;e=Js;var r=32-pe(s)-1;s&=~(1<<r),n+=1;var i=32-pe(t)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Xs=1<<32-pe(t)+r|n<<r|s,Js=i+e}else Xs=1<<i|n<<r|s,Js=e}function tr(e){null!==e.return&&(Zs(e,1),er(e,1,0))}function nr(e){for(;e===Ks;)Ks=Hs[--Ws],Hs[Ws]=null,Gs=Hs[--Ws],Hs[Ws]=null;for(;e===$s;)$s=Qs[--Ys],Qs[Ys]=null,Js=Qs[--Ys],Qs[Ys]=null,Xs=Qs[--Ys],Qs[Ys]=null}var sr=null,rr=null,ir=!1,ar=null,or=!1,lr=Error(a(519));function cr(e){throw fr(Ns(Error(a(418,"")),e)),lr}function ur(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Pe]=e,t[Re]=s,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Mu(Du[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),vt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,s.value,s.defaultValue,s.children),dt(t)}"string"!==typeof(n=s.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===s.suppressHydrationWarning||$u(t.textContent,n)?(null!=s.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=s.onScroll&&Mu("scroll",t),null!=s.onScrollEnd&&Mu("scrollend",t),null!=s.onClick&&(t.onclick=Xu),t=!0):t=!1,t||cr(e)}function dr(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 13:return void(or=!1);case 27:case 3:return void(or=!0);default:sr=sr.return}}function hr(e){if(e!==sr)return!1;if(!ir)return dr(e),ir=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),dr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,pd(e.type)?(e=yd,yd=null,rr=e):rr=n):rr=sr?vd(e.stateNode.nextSibling):null;return!0}function pr(){rr=sr=null,ir=!1}function mr(){var e=ar;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),ar=null),e}function fr(e){null===ar?ar=[e]:ar.push(e)}var gr=F(null),vr=null,yr=null;function xr(e,t,n){z(gr,t._currentValue),t._currentValue=n}function br(e){e._currentValue=gr.current,V(gr)}function wr(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function jr(e,t,n,s){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=r.dependencies;if(null!==i){var o=r.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),wr(i.return,n,e),s||(o=null);break e}i=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),wr(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function kr(e,t,n,s){e=null;for(var r=t,i=!1;null!==r;){if(!i)if(0!==(524288&r.flags))i=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=r.type;Yn(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===W.current){if(null===(o=r.alternate))throw Error(a(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}r=r.return}null!==e&&jr(t,e,n,s),t.flags|=262144}function Nr(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){vr=e,yr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cr(e){return _r(vr,e)}function Er(e,t){return null===vr&&Sr(e),_r(e,t)}function _r(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yr){if(null===e)throw Error(a(308));yr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yr=yr.next=t;return n}var Tr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ir=s.unstable_scheduleCallback,Ar=s.unstable_NormalPriority,Pr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rr(){return{controller:new Tr,data:new Map,refCount:0}}function Dr(e){e.refCount--,0===e.refCount&&Ir(Ar,function(){e.controller.abort()})}var Or=null,Lr=0,Mr=0,Ur=null;function Fr(){if(0===--Lr&&null!==Or){null!==Ur&&(Ur.status="fulfilled");var e=Or;Or=null,Mr=0,Ur=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Or){var n=Or=[];Lr=0,Mr=Tu(),Ur={status:"pending",value:void 0,then:function(e){n.push(e)}}}Lr++,t.then(Fr,Fr)}(0,t),null!==Vr&&Vr(e,t)};var zr=F(null);function Br(){var e=zr.current;return null!==e?e:sc.pooledCache}function qr(e,t){z(zr,null===t?zr.current:t.pool)}function Hr(){var e=Br();return null===e?null:{parent:Pr._currentValue,pool:e}}var Wr=Error(a(460)),Kr=Error(a(474)),Gr=Error(a(542)),Qr={then:function(){}};function Yr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $r(){}function Xr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($r,$r),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then($r,$r);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Jr=t,Wr}}var Jr=null;function Zr(){if(null===Jr)throw Error(a(459));var e=Jr;return Jr=null,e}function ei(e){if(e===Wr||e===Gr)throw Error(a(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function si(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&nc)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Rs(e),Ps(e,null,n),t}return Ts(e,s,t,n),Rs(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function oi(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?r=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Ur)throw Ur}}function ui(e,t,n,s){li=!1;var r=e.updateQueue;ti=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=r.baseState;for(a=0,u=c=l=null,o=i;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(ic&p)===p:(s&p)===p){0!==p&&p===Mr&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(v,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(v,d,p):f)||void 0===p)break e;d=h({},d,p);break e;case 2:ti=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,a|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(m=o).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===i&&(r.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var pi=F(null),mi=F(0);function fi(e,t){z(mi,e=dc),z(pi,t),dc=e|t.baseLanes}function gi(){z(mi,dc),z(pi,pi.current)}function vi(){dc=mi.current,V(pi),V(mi)}var yi=0,xi=null,bi=null,wi=null,ji=!1,ki=!1,Ni=!1,Si=0,Ci=0,Ei=null,_i=0;function Ti(){throw Error(a(321))}function Ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ai(e,t,n,s,r,i){return yi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Wa:Ka,Ni=!1,i=n(s,r),Ni=!1,ki&&(i=Ri(t,n,s,r)),Pi(e),i}function Pi(e){D.H=Ha;var t=null!==bi&&null!==bi.next;if(yi=0,wi=bi=xi=null,ji=!1,Ci=0,Ei=null,t)throw Error(a(300));null===e||Eo||null!==(e=e.dependencies)&&Nr(e)&&(Eo=!0)}function Ri(e,t,n,s){xi=e;var r=0;do{if(ki&&(Ei=null),Ci=0,ki=!1,25<=r)throw Error(a(301));if(r+=1,wi=bi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Ga,i=t(n,s)}while(ki);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==bi?bi.memoizedState:null)!==e&&(xi.flags|=1024),t}function Oi(){var e=0!==Si;return Si=0,e}function Li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(ji){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ji=!1}yi=0,wi=bi=xi=null,ki=!1,Ci=Si=0,Ei=null}function Ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?xi.memoizedState=wi=e:wi=wi.next=e,wi}function Fi(){if(null===bi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=bi.next;var t=null===wi?xi.memoizedState:wi.next;if(null!==t)wi=t,bi=e;else{if(null===e){if(null===xi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(bi=e).memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},null===wi?xi.memoizedState=wi=e:wi=wi.next=e}return wi}function Vi(e){var t=Ci;return Ci+=1,null===Ei&&(Ei=[]),e=Xr(Ei,e,t),t=xi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Wa:Ka),e}function zi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===w)return Cr(e)}throw Error(a(438,String(e)))}function Bi(e){var t=null,n=xi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var s=xi.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=_;return t.index++,n}function qi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Wi(Fi(),bi,e)}function Wi(e,t,n){var s=e.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=n;var r=e.baseQueue,i=s.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}t.baseQueue=r=i,s.pending=null}if(i=e.baseState,null===r)e.memoizedState=i;else{var l=o=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(yi&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Mr&&(d=!0);else{if((yi&p)===p){u=u.next,p===Mr&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,xi.lanes|=p,pc|=p}h=u.action,Ni&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,xi.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Yn(i,e.memoizedState)&&(Eo=!0,d&&null!==(n=Ur)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,s.lastRenderedState=i}return null===r&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ki(e){var t=Fi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);Yn(i,t.memoizedState)||(Eo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Gi(e,t,n){var s=xi,r=Fi(),i=ir;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Yn((bi||r).memoizedState,n);if(o&&(r.memoizedState=n,Eo=!0),r=r.queue,ga(2048,8,$i.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(s.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yi.bind(null,s,r,n,t),null),null===sc)throw Error(a(349));i||0!==(124&yi)||Qi(s,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,s){t.value=n,t.getSnapshot=s,Xi(t)&&Ji(e)}function $i(e,t,n){return n(function(){Xi(t)&&Ji(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(s){return!0}}function Ji(e){var t=As(e,2);null!==t&&Lc(t,e,2)}function Zi(e){var t=Ui();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t}function ea(e,t,n,s){return e.baseState=n,Wi(e,bi,"function"===typeof s?s:qi)}function ta(e,t,n,s,r){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,s(i),null===(n=t.pending)?(i.next=t.pending=i,na(t,i)):(i.next=n.next,t.pending=n.next=i)}}function na(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var i=D.T,a={};D.T=a;try{var o=n(r,s),l=D.S;null!==l&&l(a,o),sa(e,t,o)}catch(c){ia(e,t,c)}finally{D.T=i}}else try{sa(e,t,i=n(r,s))}catch(u){ia(e,t,u)}}function sa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ra(e,t,n)},function(n){return ia(e,t,n)}):ra(e,t,n)}function ra(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ia(e,t,n){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==s)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(ir){var n=sc.formState;if(null!==n){e:{var s=xi;if(ir){if(rr){t:{for(var r=rr,i=or;8!==r.nodeType;){if(!i){r=null;break t}if(null===(r=vd(r.nextSibling))){r=null;break t}}r="F!"===(i=r.data)||"F"===i?r:null}if(r){rr=vd(r.nextSibling),s="F!"===r.data;break e}}cr(s)}s=!1}s&&(t=n[0])}}return(n=Ui()).memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=s,n=Ua.bind(null,xi,s),s.dispatch=n,s=Zi(!1),i=Va.bind(null,xi,!1,s.queue),r={state:t,dispatch:null,action:e,pending:null},(s=Ui()).queue=r,n=ta.bind(null,xi,r,i,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function ca(e){return ua(Fi(),bi,e)}function ua(e,t,n){if(t=Wi(e,t,oa)[0],e=Hi(qi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var s=Vi(t)}catch(a){if(a===Wr)throw Gr;throw a}else s=t;var r=(t=Fi()).queue,i=r.dispatch;return n!==t.memoizedState&&(xi.flags|=2048,pa(9,{destroy:void 0,resource:void 0},da.bind(null,r,n),null)),[s,i,e]}function da(e,t){e.action=t}function ha(e){var t=Fi(),n=bi;if(null!==n)return ua(t,n,e);Fi(),t=t.memoizedState;var s=(n=Fi()).queue.dispatch;return n.memoizedState=e,[t,s,!1]}function pa(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},null===(t=xi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function ma(){return Fi().memoizedState}function fa(e,t,n,s){var r=Ui();s=void 0===s?null:s,xi.flags|=e,r.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,s)}function ga(e,t,n,s){var r=Fi();s=void 0===s?null:s;var i=r.memoizedState.inst;null!==bi&&null!==s&&Ii(s,bi.memoizedState.deps)?r.memoizedState=pa(t,i,n,s):(xi.flags|=e,r.memoizedState=pa(1|t,i,n,s))}function va(e,t){fa(8390656,8,e,t)}function ya(e,t){ga(2048,8,e,t)}function xa(e,t){return ga(4,2,e,t)}function ba(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ja(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function ka(){}function Na(e,t){var n=Fi();t=void 0===t?null:t;var s=n.memoizedState;return null!==t&&Ii(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=Fi();t=void 0===t?null:t;var s=n.memoizedState;if(null!==t&&Ii(t,s[1]))return s[0];if(s=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[s,t],s}function Ca(e,t,n){return void 0===n||0!==(1073741824&yi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),xi.lanes|=e,pc|=e,n)}function Ea(e,t,n,s){return Yn(n,t)?n:null!==pi.current?(e=Ca(e,n,s),Yn(e,t)||(Eo=!0),e):0===(42&yi)?(Eo=!0,e.memoizedState=n):(e=Oc(),xi.lanes|=e,pc|=e,t)}function _a(e,t,n,s,r){var i=O.p;O.p=0!==i&&8>i?i:8;var a=D.T,o={};D.T=o,Va(e,!1,t,n);try{var l=r(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fa(e,t,function(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(s.status="rejected",s.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),s}(l,s),Dc());else Fa(e,t,s,Dc())}catch(u){Fa(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{O.p=i,D.T=a}}function Ta(){}function Ia(e,t,n,s){if(5!==e.tag)throw Error(a(476));var r=Aa(e).queue;_a(e,r,t,L,null===n?Ta:function(){return Pa(e),n(s)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){Fa(e,Aa(e).next.queue,{},Dc())}function Ra(){return Cr(Qd)}function Da(){return Fi().memoizedState}function Oa(){return Fi().memoizedState}function La(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),s=ii(t,e=ri(n),n);return null!==s&&(Lc(s,t,n),ai(s,t,n)),t={cache:Rr()},void(e.payload=t)}t=t.return}}function Ma(e,t,n){var s=Dc();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},za(e)?Ba(t,n):null!==(n=Is(e,t,n,s))&&(Lc(n,e,s),qa(n,t,s))}function Ua(e,t,n){Fa(e,t,n,Dc())}function Fa(e,t,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(za(e))Ba(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,Yn(o,a))return Ts(e,t,r,0),null===sc&&_s(),!1}catch(l){}if(null!==(n=Is(e,t,r,s)))return Lc(n,e,s),qa(n,t,s),!0}return!1}function Va(e,t,n,s){if(s={lane:2,revertLane:Tu(),action:s,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=Is(e,n,s,2))&&Lc(t,e,2)}function za(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function Ba(e,t){ki=ji=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qa(e,t,n){if(0!==(4194048&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Ha={readContext:Cr,use:zi,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useLayoutEffect:Ti,useInsertionEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useSyncExternalStore:Ti,useId:Ti,useHostTransitionStatus:Ti,useFormState:Ti,useActionState:Ti,useOptimistic:Ti,useMemoCache:Ti,useCacheRefresh:Ti},Wa={readContext:Cr,use:zi,useCallback:function(e,t){return Ui().memoizedState=[e,void 0===t?null:t],e},useContext:Cr,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fa(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){fa(4,2,e,t)},useMemo:function(e,t){var n=Ui();t=void 0===t?null:t;var s=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Ui();if(void 0!==n){var r=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Ma.bind(null,xi,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},Ui().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Ua.bind(null,xi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ka,useDeferredValue:function(e,t){return Ca(Ui(),e,t)},useTransition:function(){var e=Zi(!1);return e=_a.bind(null,xi,e.queue,!0,!1),Ui().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=xi,r=Ui();if(ir){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===sc)throw Error(a(349));0!==(124&ic)||Qi(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,va($i.bind(null,s,i,e),[e]),s.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yi.bind(null,s,i,n,t),null),n},useId:function(){var e=Ui(),t=sc.identifierPrefix;if(ir){var n=Js;t="\xab"+t+"R"+(n=(Xs&~(1<<32-pe(Xs)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=_i++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Ui();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,xi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Ui().memoizedState=La.bind(null,xi)}},Ka={readContext:Cr,use:zi,useCallback:Na,useContext:Cr,useEffect:ya,useImperativeHandle:ja,useInsertionEffect:xa,useLayoutEffect:ba,useMemo:Sa,useReducer:Hi,useRef:ma,useState:function(){return Hi(qi)},useDebugValue:ka,useDeferredValue:function(e,t){return Ea(Fi(),bi.memoizedState,e,t)},useTransition:function(){var e=Hi(qi)[0],t=Fi().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Da,useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Fi(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Oa},Ga={readContext:Cr,use:zi,useCallback:Na,useContext:Cr,useEffect:ya,useImperativeHandle:ja,useInsertionEffect:xa,useLayoutEffect:ba,useMemo:Sa,useReducer:Ki,useRef:ma,useState:function(){return Ki(qi)},useDebugValue:ka,useDeferredValue:function(e,t){var n=Fi();return null===bi?Ca(n,e,t):Ea(n,bi.memoizedState,e,t)},useTransition:function(){var e=Ki(qi)[0],t=Fi().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Da,useHostTransitionStatus:Ra,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Fi();return null!==bi?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Oa},Qa=null,Ya=0;function $a(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),Xr(Qa,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Us(e,t)).index=0,e.sibling=null,e}function i(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=67108866,n):s:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Bs(n,e.mode,s)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,s){var i=n.type;return i===g?d(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&Za(i)===t.type)?(Xa(t=r(t,n.props),n),t.return=e,t):(Xa(t=Vs(n.type,n.key,n.props,null,e.mode,s),n),t.return=e,t)}function u(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qs(n,e.mode,s)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,s,i){return null===t||7!==t.tag?((t=zs(n,e.mode,s,i)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Xa(n=Vs(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=qs(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||I(t))return(t=zs(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,$a(t),n);if(t.$$typeof===w)return h(e,Er(e,t),n);Ja(e,t)}return null}function p(e,t,n,s){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===r?c(e,t,n,s):null;case f:return n.key===r?u(e,t,n,s):null;case C:return p(e,t,n=(r=n._init)(n._payload),s)}if(R(n)||I(n))return null!==r?null:d(e,t,n,s,null);if("function"===typeof n.then)return p(e,t,$a(n),s);if(n.$$typeof===w)return p(e,t,Er(e,n),s);Ja(e,n)}return null}function v(e,t,n,s,r){if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return l(t,e=e.get(n)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case m:return c(t,e=e.get(null===s.key?n:s.key)||null,s,r);case f:return u(t,e=e.get(null===s.key?n:s.key)||null,s,r);case C:return v(e,t,n,s=(0,s._init)(s._payload),r)}if(R(s)||I(s))return d(t,e=e.get(n)||null,s,r,null);if("function"===typeof s.then)return v(e,t,n,$a(s),r);if(s.$$typeof===w)return v(e,t,n,Er(t,s),r);Ja(t,s)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===C&&Za(x)===c.type){n(l,c.sibling),Xa(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zs(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xa(d=Vs(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case f:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qs(u,l.mode,d)).return=l,l=d}return o(l);case C:return y(l,c,u=(x=u._init)(u._payload),d)}if(R(u))return function(r,a,o,l){for(var c=null,u=null,d=a,m=a=0,f=null;null!==d&&m<o.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var g=p(r,d,o[m],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(r,d),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g,d=f}if(m===o.length)return n(r,d),ir&&Zs(r,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(r,o[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return ir&&Zs(r,m),c}for(d=s(d);m<o.length;m++)null!==(f=v(d,r,m,o[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),a=i(f,a,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),ir&&Zs(r,m),c}(l,c,u,d);if(I(u)){if("function"!==typeof(x=I(u)))throw Error(a(150));return function(r,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,m=o,f=o=0,g=null,y=l.next();null!==m&&!y.done;f++,y=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var x=p(r,m,y.value,c);if(null===x){null===m&&(m=g);break}e&&m&&null===x.alternate&&t(r,m),o=i(x,o,f),null===d?u=x:d.sibling=x,d=x,m=g}if(y.done)return n(r,m),ir&&Zs(r,f),u;if(null===m){for(;!y.done;f++,y=l.next())null!==(y=h(r,y.value,c))&&(o=i(y,o,f),null===d?u=y:d.sibling=y,d=y);return ir&&Zs(r,f),u}for(m=s(m);!y.done;f++,y=l.next())null!==(y=v(m,r,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),o=i(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(r,e)}),ir&&Zs(r,f),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return y(l,c,$a(u),d);if(u.$$typeof===w)return y(l,c,Er(l,u),d);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=Bs(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,s){try{Ya=0;var r=y(e,t,n,s);return Qa=null,r}catch(a){if(a===Wr||a===Gr)throw a;var i=Ls(29,a,null,e.mode);return i.lanes=s,i.return=e,i}}}var to=eo(!0),no=eo(!1),so=F(null),ro=null;function io(e){var t=e.alternate;z(co,1&co.current),z(so,e),null===ro&&(null===t||null!==pi.current||null!==t.memoizedState)&&(ro=e)}function ao(e){if(22===e.tag){if(z(co,co.current),z(so,e),null===ro){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ro=e)}}else oo()}function oo(){z(co,co.current),z(so,so.current)}function lo(e){V(so),ro===e&&(ro=null),V(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Dc(),r=ri(s);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ii(e,r,s))&&(Lc(t,e,s),ai(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Dc(),r=ri(s);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ii(e,r,s))&&(Lc(t,e,s),ai(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),s=ri(n);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=ii(e,s,n))&&(Lc(t,e,n),ai(t,e,n))}};function mo(e,t,n,s,r,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,s)||!$n(r,i))}function fo(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var s in n={},t)"ref"!==s&&(n[s]=t[s]);if(e=e.defaultProps)for(var r in n===t&&(n=h({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function xo(e){console.error(e)}function bo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ko(e,t,n){return(n=ri(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=ri(e)).tag=3,e}function So(e,t,n,s){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var i=s.value;e.payload=function(){return r(i)},e.callback=function(){jo(t,n,s)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){jo(t,n,s),"function"!==typeof r&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var Co=Error(a(461)),Eo=!1;function _o(e,t,n,s){t.child=null===e?no(t,null,n,s):to(t,e.child,n,s)}function To(e,t,n,s,r){n=n.render;var i=t.ref;if("ref"in s){var a={};for(var o in s)"ref"!==o&&(a[o]=s[o])}else a=s;return Sr(t),s=Ai(e,t,n,a,i,r),o=Oi(),null===e||Eo?(ir&&o&&tr(t),t.flags|=1,_o(e,t,s,r),t.child):(Li(e,t,r),Yo(e,t,r))}function Io(e,t,n,s,r){if(null===e){var i=n.type;return"function"!==typeof i||Ms(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vs(n.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ao(e,t,i,s,r))}if(i=e.child,!$o(e,r)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(a,s)&&e.ref===t.ref)return Yo(e,t,r)}return t.flags|=1,(e=Us(i,s)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,s,r){if(null!==e){var i=e.memoizedProps;if($n(i,s)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=s=i,!$o(e,r))return t.lanes=e.lanes,Yo(e,t,r);0!==(131072&e.flags)&&(Eo=!0)}}return Oo(e,t,n,s,r)}function Po(e,t,n){var s=t.pendingProps,r=s.children,i=null!==e?e.memoizedState:null;if("hidden"===s.mode){if(0!==(128&t.flags)){if(s=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~s}else t.childLanes=0,t.child=null;return Ro(e,t,s,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qr(0,null!==i?i.cachePool:null),null!==i?fi(t,i):gi(),ao(t)}else null!==i?(qr(0,i.cachePool),fi(t,i),oo(),t.memoizedState=null):(null!==e&&qr(0,null),gi(),oo());return _o(e,t,r,n),t.child}function Ro(e,t,n,s){var r=Br();return r=null===r?null:{parent:Pr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&qr(0,null),gi(),ao(t),null!==e&&kr(e,t,s,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,s,r){return Sr(t),n=Ai(e,t,n,s,void 0,r),s=Oi(),null===e||Eo?(ir&&s&&tr(t),t.flags|=1,_o(e,t,n,r),t.child):(Li(e,t,r),Yo(e,t,r))}function Lo(e,t,n,s,r,i){return Sr(t),t.updateQueue=null,n=Ri(t,s,n,r),Pi(e),s=Oi(),null===e||Eo?(ir&&s&&tr(t),t.flags|=1,_o(e,t,n,i),t.child):(Li(e,t,i),Yo(e,t,i))}function Mo(e,t,n,s,r){if(Sr(t),null===t.stateNode){var i=Ds,a=n.contextType;"object"===typeof a&&null!==a&&(i=Cr(a)),i=new n(s,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=po,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=s,i.state=t.memoizedState,i.refs={},ni(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Cr(a):Ds,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,s),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&po.enqueueReplaceState(i,i.state,null),ui(t,s,i,r),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;a=Ds,"object"===typeof u&&null!==u&&(a=Cr(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==a)&&fo(t,i,s,a),ti=!1;var h=t.memoizedState;i.state=h,ui(t,s,i,r),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,s),c=t.memoizedState),(l=ti||mo(t,n,l,s,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=a,s=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,si(e,t),u=go(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Ds,"object"===typeof c&&null!==c&&(l=Cr(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&fo(t,i,s,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,s,i,r),ci();var p=t.memoizedState;a!==d||h!==p||ti||null!==e&&null!==e.dependencies&&Nr(e.dependencies)?("function"===typeof o&&(ho(t,n,o,s),p=t.memoizedState),(u=ti||mo(t,n,u,s,h,p,l)||null!==e&&null!==e.dependencies&&Nr(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(s,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(s,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),i.props=s,i.state=p,i.context=l,s=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Do(e,t),s=0!==(128&t.flags),i||s?(i=t.stateNode,n=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&s?(t.child=to(t,e.child,null,r),t.child=to(t,null,n,r)):_o(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Yo(e,t,r),e}function Uo(e,t,n,s){return pr(),t.flags|=256,_o(e,t,n,s),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Hr()}}function zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bo(e,t,n){var s,r=t.pendingProps,i=!1,o=0!==(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),s&&(i=!0,t.flags&=-129),s=0!==(32&t.flags),t.flags&=-33,null===e){if(ir){if(i?io(t):oo(),ir){var l,c=rr;if(l=c){e:{for(l=c,c=or;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$s?{id:Xs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},(l=Ls(18,null,null,0)).stateNode=c,l.return=t,t.child=l,sr=t,rr=null,l=!0):l=!1}l||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=r.children,r=r.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),r=zs(r,i,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(i=t.child).memoizedState=Vo(n),i.childLanes=zo(e,s,n),t.memoizedState=Fo,r):(io(t),qo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=r.fallback,c=t.mode,r=Ho({mode:"visible",children:r.children},c),(i=zs(i,c,n,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,to(t,e.child,null,n),(r=t.child).memoizedState=Vo(n),r.childLanes=zo(e,s,n),t.memoizedState=Fo,t=i);else if(io(t),gd(c)){if(s=c.nextSibling&&c.nextSibling.dataset)var u=s.dgst;s=u,(r=Error(a(419))).stack="",r.digest=s,fr({value:r,source:null,stack:null}),t=Wo(e,t,n)}else if(Eo||kr(e,t,n,!1),s=0!==(n&e.childLanes),Eo||s){if(null!==(s=sc)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:_e(r))&(s.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,As(e,r),Lc(s,e,r),Co;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=vd(c.nextSibling),sr=t,ir=!0,ar=null,or=!1,null!==e&&(Qs[Ys++]=Xs,Qs[Ys++]=Js,Qs[Ys++]=$s,Xs=e.id,Js=e.overflow,$s=t),(t=qo(t,r.children)).flags|=4096);return t}return i?(oo(),i=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=Us(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Us(u,i):(i=zs(i,c,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Pr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hr(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=zo(e,s,n),t.memoizedState=Fo,r):(io(t),e=(n=e.child).sibling,(n=Us(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Ls(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),wr(e.return,t,n)}function Go(e,t,n,s,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Qo(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(_o(e,t,s.children,n),0!==(2&(s=co.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(z(co,s),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Go(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===uo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(kr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Us(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Us(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Nr(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!$o(e,n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),xr(0,Pr,e.memoizedState.cache),pr();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:xr(0,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(io(t),null!==(e=Yo(e,t,n))?e.sibling:null);io(t);break;case 19:var r=0!==(128&e.flags);if((s=0!==(n&t.childLanes))||(kr(e,t,n,!1),s=0!==(n&t.childLanes)),r){if(s)return Qo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),z(co,co.current),s)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:xr(0,Pr,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,ir&&0!==(1048576&t.flags)&&er(t,Gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,"function"!==typeof s){if(void 0!==s&&null!==s){if((r=s.$$typeof)===j){t.tag=11,t=To(null,t,s,e,n);break e}if(r===S){t.tag=14,t=Io(null,t,s,e,n);break e}}throw t=P(s)||s,Error(a(306,t,""))}Ms(s)?(e=go(s,e),t.tag=1,t=Mo(null,t,s,e,n)):(t.tag=0,t=Oo(null,t,s,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,s=t.type,r=go(s,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));s=t.pendingProps;var i=t.memoizedState;r=i.element,si(e,t),ui(t,s,null,n);var o=t.memoizedState;if(s=o.cache,xr(0,Pr,s),s!==i.cache&&jr(t,[Pr],n,!0),ci(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Uo(e,t,s,n);break e}if(s!==r){fr(r=Ns(Error(a(424)),t)),t=Uo(e,t,s,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=vd(e.firstChild),sr=t,ir=!0,ar=null,or=!0,n=no(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),s===r){t=Yo(e,t,n);break e}_o(e,t,s,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=_d(t.type,null,t.pendingProps,null))?t.memoizedState=n:ir||(n=t.type,e=t.pendingProps,(s=sd(H.current).createElement(n))[Pe]=t,s[Re]=e,ed(s,n,e),We(s),t.stateNode=s):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ir&&(s=t.stateNode=bd(t.type,t.pendingProps,H.current),sr=t,or=!0,r=rr,pd(t.type)?(yd=r,rr=vd(s.firstChild)):rr=r),_o(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ir&&((r=s=rr)&&(null!==(s=function(e,t,n,s){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,or))?(t.stateNode=s,sr=t,rr=vd(s.firstChild),or=!1,r=!0):r=!1),r||cr(t)),Q(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ad(r,i)?s=null:null!==o&&ad(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=Ai(e,t,Di,null,null,n),Qd._currentValue=r),Do(e,t),_o(e,t,s,n),t.child;case 6:return null===e&&ir&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,or))?(t.stateNode=n,sr=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return Bo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=to(t,null,s,n):_o(e,t,s,n),t.child;case 11:return To(e,t,t.type,t.pendingProps,n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,xr(0,t.type,s.value),_o(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,Sr(t),s=s(r=Cr(r)),t.flags|=1,_o(e,t,s,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},null===e?((n=Ho(s,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Us(e.child,s)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Sr(t),s=Cr(Pr),null===e?(null===(r=Br())&&(r=sc,i=Rr(),r.pooledCache=i,i.refCount++,null!==i&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:s,cache:r},ni(t),xr(0,Pr,r)):(0!==(e.lanes&n)&&(si(e,t),ui(t,null,null,n),ci()),r=e.memoizedState,i=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),xr(0,Pr,s)):(s=i.cache,xr(0,Pr,s),s!==r.cache&&jr(t,[Pr],n,!0))),_o(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=so.current)&&((4194048&ic)===ic?null!==ro:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ro))throw Jr=Qr,Kr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=65011712&r.subtreeFlags,s|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function sl(e,t,n){var s=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),br(Pr),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==s&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Jo(t);else{if(!s){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=B.current,hr(t)?ur(t):(e=bd(r,s,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Jo(t);else{if(!s){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=B.current,hr(t))ur(t);else{switch(r=sd(H.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof s.is?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"===typeof s.is?r.createElement(n,{is:s.is}):r.createElement(n)}}e[Pe]=t,e[Re]=s;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&Jo(t);else{if("string"!==typeof s&&null===t.stateNode)throw Error(a(166));if(e=H.current,hr(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,null!==(r=sr))switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==s&&!0===s.suppressHydrationWarning||$u(e.nodeValue,n)))||cr(t)}else(e=sd(e).createTextNode(s))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=hr(t),null!==s&&null!==s.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[Pe]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=mr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==s,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return br(t.type),nl(t),null;case 19:if(V(co),null===(r=t.memoizedState))return nl(t),null;if(s=0!==(128&t.flags),null===(i=r.rendering))if(s)tl(r,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(r,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fs(n,e),n=n.sibling;return z(co,1&co.current|2),t.child}e=e.sibling}null!==r.tail&&te()>jc&&(t.flags|=128,s=!0,tl(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=uo(i))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ir)return nl(t),null}else 2*te()-r.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,s=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=co.current,z(co,s?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),vi(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),null!==e&&V(zr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),br(Pr),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(Pr),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return br(t.type),null;case 22:case 23:return lo(t),vi(),null!==e&&V(zr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return br(Pr),null;default:return null}}function il(e,t){switch(nr(t),t.tag){case 3:br(Pr),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:br(t.type);break;case 22:case 23:lo(t),vi(),null!==e&&V(zr);break;case 24:br(Pr)}}function al(e,t){try{var n=t.updateQueue,s=null!==n?n.lastEffect:null;if(null!==s){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var s=t.updateQueue,r=null!==s?s.lastEffect:null;if(null!==r){var i=r.next;s=i;do{if((s.tag&e)===e){var a=s.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(u){uu(r,l,u)}}}s=s.next}while(s!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(s){uu(e,e.return,s)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){uu(e,t,s)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;default:s=e.stateNode}"function"===typeof n?e.refCleanup=n(s):n.current=s}}catch(r){uu(e,t,r)}}function dl(e,t){var n=e.ref,s=e.refCleanup;if(null!==n)if("function"===typeof s)try{s()}catch(r){uu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){uu(e,e.return,r)}}function pl(e,t,n){try{var s=e.stateNode;!function(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(m)||Ju(e,t,m,null,s,h)}}for(var p in s){var m=s[p];if(h=n[p],s.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":i=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==h&&Ju(e,t,p,m,s,h)}}return void gt(e,o,l,c,u,d,i,r);case"select":for(i in m=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":m=c;default:s.hasOwnProperty(i)||Ju(e,t,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(null!=i||null!=c))switch(r){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ju(e,t,r,i,s,c)}return t=l,n=o,s=m,void(null!=p?xt(e,!!n,p,!1):!!s!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,s,r)}for(o in s)if(r=s[o],i=n[o],s.hasOwnProperty(o)&&(null!=r||null!=i))switch(o){case"value":p=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(a(91));break;default:r!==i&&Ju(e,t,o,r,s,i)}return void bt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!s.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Ju(e,t,f,null,s,p);for(c in s)if(p=s[c],m=n[c],s.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Ju(e,t,c,p,s,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!s.hasOwnProperty(g)&&Ju(e,t,g,null,s,p);for(u in s)if(p=s[u],m=n[u],s.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Ju(e,t,u,p,s,m)}return;default:if(Ct(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!s.hasOwnProperty(v)&&Zu(e,t,v,void 0,s,p);for(d in s)p=s[d],m=n[d],!s.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||Zu(e,t,d,p,s,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!s.hasOwnProperty(y)&&Ju(e,t,y,null,s,p);for(h in s)p=s[h],m=n[h],!s.hasOwnProperty(h)||p===m||null==p&&null==m||Ju(e,t,h,p,s,m)}(s,e.type,n,t),s[Re]=t}catch(r){uu(e,e.return,r)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==s&&(27===s&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&(27===s&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,s,n),t[Pe]=e,t[Re]=n}catch(i){uu(e,e.return,i)}}var xl=!1,bl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Nl(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&s&&al(5,n);break;case 1:if(Ml(e,n),4&s)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var r=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&s&&ll(n),512&s&&ul(n,n.return);break;case 3:if(Ml(e,n),64&s&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&s&&yl(n);case 26:case 5:Ml(e,n),null===t&&4&s&&hl(n),512&s&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&s&&Il(e,n),64&s&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}(e,n=mu.bind(null,n))));break;case 22:if(!(s=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,r=xl;var i=bl;xl=s,(bl=t)&&!i?Fl(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),xl=r,bl=i}break;case 30:break;default:Ml(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,El=!1;function _l(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:bl||dl(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var s=Cl,r=El;pd(n.type)&&(Cl=n.stateNode,El=!1),_l(e,t,n),wd(n.stateNode),Cl=s,El=r;break;case 5:bl||dl(n,t);case 6:if(s=Cl,r=El,Cl=null,_l(e,t,n),El=r,null!==(Cl=s))if(El)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{Cl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==Cl&&(El?(md(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):md(Cl,n.stateNode));break;case 4:s=Cl,r=El,Cl=n.stateNode.containerInfo,El=!0,_l(e,t,n),Cl=s,El=r;break;case 0:case 11:case 14:case 15:bl||ol(2,n,t),bl||ol(4,n,t),_l(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount&&cl(n,t,s)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:bl=(s=bl)||null!==n.memoizedState,_l(e,t,n),bl=s;break;default:_l(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var s=fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var r=n[s],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Cl=l.stateNode,El=!1;break e}break;case 5:Cl=l.stateNode,El=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Cl)throw Error(a(160));Tl(i,o,r),Cl=null,El=!1,null!==(i=r.alternate)&&(i.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ol(e),4&s&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Ol(e),512&s&&(bl||null===n||dl(n,n.return)),64&s&&xl&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?s:n.concat(s))));break;case 26:var r=Rl;if(Pl(t,e),Ol(e),512&s&&(bl||null===n||dl(n,n.return)),4&s){var i=null!==n?n.memoizedState:null;if(s=e.memoizedState,null===n)if(null===s)if(null===e.stateNode){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":(!(i=r.getElementsByTagName("title")[0])||i[Fe]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),ed(i,s,n),i[Pe]=e,We(i),s=i;break e;case"link":var o=Fd("link","href",r).get(s+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=r.createElement(s),s,n),r.head.appendChild(i);break;case"meta":if(o=Fd("meta","content",r).get(s+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=r.createElement(s),s,n),r.head.appendChild(i);break;default:throw Error(a(468,s))}i[Pe]=e,We(i),s=i}e.stateNode=s}else Vd(r,e.type,e.stateNode);else e.stateNode=Dd(r,s,e.memoizedProps);else i!==s?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===s?Vd(r,e.type,e.stateNode):Dd(r,s,e.memoizedProps)):null===s&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ol(e),512&s&&(bl||null===n||dl(n,n.return)),null!==n&&4&s&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ol(e),512&s&&(bl||null===n||dl(n,n.return)),32&e.flags){r=e.stateNode;try{jt(r,"")}catch(m){uu(e,e.return,m)}}4&s&&null!=e.stateNode&&pl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&s&&(wl=!0);break;case 6:if(Pl(t,e),Ol(e),4&s){if(null===e.stateNode)throw Error(a(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(m){uu(e,e.return,m)}}break;case 3:if(Ud=null,r=Rl,Rl=Nd(t.containerInfo),Pl(t,e),Rl=r,Ol(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){uu(e,e.return,m)}wl&&(wl=!1,Ll(e));break;case 4:s=Rl,Rl=Nd(e.stateNode.containerInfo),Pl(t,e),Ol(e),Rl=s;break;case 12:default:Pl(t,e),Ol(e);break;case 13:Pl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Al(e,s)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=bl;if(xl=u||r,bl=d||c,Pl(t,e),bl=d,xl=u,Ol(e),8192&s)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||xl||bl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,r)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){uu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(m){uu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(n=s.retryQueue)&&(s.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Ol(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Al(e,s)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,s=e.return;null!==s;){if(ml(s)){n=s;break}s=s.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var r=n.stateNode;vl(e,fl(e),r);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),vl(e,fl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ul(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ul(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,r=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Fl(r,i,n),al(4,i);break;case 1:if(Fl(r,i,n),"function"===typeof(r=(s=i).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(s,s.return,c)}if(null!==(r=(s=i).updateQueue)){var o=s.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)di(l[r],o)}catch(c){uu(s,s.return,c)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:Fl(r,i,n),n&&null===s&&4&a&&hl(i),ul(i,i.return);break;case 12:Fl(r,i,n);break;case 13:Fl(r,i,n),n&&4&a&&Il(r,i);break;case 22:null===i.memoizedState&&Fl(r,i,n),ul(i,i.return);break;case 30:break;default:Fl(r,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Dr(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dr(e))}function Bl(e,t,n,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,s),t=t.sibling}function ql(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,s),2048&r&&al(9,t);break;case 1:case 13:default:Bl(e,t,n,s);break;case 3:Bl(e,t,n,s),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dr(e)));break;case 12:if(2048&r){Bl(e,t,n,s),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,s);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,n,s):Wl(e,t):2&i._visibility?Bl(e,t,n,s):(i._visibility|=2,Hl(e,t,n,s,0!==(10256&t.subtreeFlags))),2048&r&&Vl(a,t);break;case 24:Bl(e,t,n,s),2048&r&&zl(t.alternate,t)}}function Hl(e,t,n,s,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,o=n,l=s,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(i,a,o,l,r),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(i,a,o,l,r):Wl(i,a):(u._visibility|=2,Hl(i,a,o,l,r)),r&&2048&c&&Vl(a.alternate,a);break;case 24:Hl(i,a,o,l,r),r&&2048&c&&zl(a.alternate,a);break;default:Hl(i,a,o,l,r)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:Wl(n,s),2048&r&&Vl(s.alternate,s);break;case 24:Wl(n,s),2048&r&&zl(s.alternate,s);break;default:Wl(n,s)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(a(475));var s=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Td(n.href),i=e.querySelector(Id(r));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(s.count++,s=Hd.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Ad(n),(r=jd.get(r))&&Ld(n,r),We(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.instance=i}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(s.count++,t=Hd.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Nd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var s=t[n];kl=s,Zl(s,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):$l(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var s=t[n];kl=s,Zl(s,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var s=n.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:Dr(n.memoizedState.cache)}if(null!==(s=n.child))s.return=n,kl=s;else e:for(n=e;null!==kl;){var r=(s=kl).sibling,i=s.return;if(Sl(s),s===n){kl=null;break e}if(null!==r){r.return=i,kl=r;break e}kl=i}}}var ec={getCacheForType:function(e){var t=Cr(Pr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,sc=null,rc=null,ic=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,mc=0,fc=0,gc=0,vc=0,yc=null,xc=null,bc=!1,wc=0,jc=1/0,kc=null,Nc=null,Sc=0,Cc=null,Ec=null,_c=0,Tc=0,Ic=null,Ac=null,Pc=0,Rc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==Mr?Mr:Tu()}return Ie()}function Oc(){0===gc&&(gc=0===(536870912&ic)||ir?je():536870912);var e=so.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==sc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,ic,gc,!1)),Se(e,n),0!==(2&nc)&&e===sc||(e===sc&&(0===(2&nc)&&(mc|=n),4===hc&&Vc(e,ic,gc,!1)),ju(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var s=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),r=s?function(e,t){var n=nc;nc|=2;var s=Wc(),r=Kc();sc!==e||ic!==t?(kc=null,jc=te()+500,qc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==ac&&null!==rc){t=rc;var i=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Yr(i)){ac=0,oc=null,Jc(t);break}t=function(){2!==ac&&9!==ac||sc!==e||(ac=7),ju(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yr(i)?(ac=0,oc=null,Jc(t)):(ac=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(rc.tag){case 26:o=rc.memoizedState;case 5:case 27:var l=rc;if(!o||zd(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,eu(u)):rc=null}break t}}ac=0,oc=null,Zc(e,t,i,5);break;case 6:ac=0,oc=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(a(462))}}$c();break}catch(d){Hc(e,d)}return yr=vr=null,D.H=s,D.A=r,nc=n,null!==rc?0:(sc=null,ic=0,_s(),hc)}(e,t):Qc(e,t,!0),i=s;;){if(0===r){cc&&!s&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!i||Fc(n)){if(2===r){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;r=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,mc|=i,r=4;break e}i=xc,xc=r,null!==i&&(null===xc?xc=i:xc.push.apply(xc,i))}r=o}if(i=!1,2!==r)continue}}if(1===r){qc(e,0),Vc(e,t,0,!0);break}e:{switch(s=e,i=r){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Vc(s,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(r=wc+300-te())){if(Vc(s,t,gc,!lc),0!==xe(s,0,!0))break e;s.timeoutHandle=ld(Uc.bind(null,s,n,xc,kc,bc,t,gc,mc,vc,lc,i,2,-0,0),r)}else Uc(s,n,xc,kc,bc,t,gc,mc,vc,lc,i,0,-0,0)}break}r=Qc(e,t,!1),i=!1}ju(e)}function Uc(e,t,n,s,r,i,o,l,c,u,d,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(h=function(){if(null===Bd)throw Error(a(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,s,r,o,l,c,d,1,p,m)),void Vc(e,i,o,!u);nu(e,t,i,n,s,r,o,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Yn(i(),r))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,s){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var i=31-pe(r),a=1<<i;s[i]=-1,r&=~a}0!==n&&Ce(e,n,t)}function zc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Bc(){if(null!==rc){if(0===ac)var e=rc.return;else yr=vr=null,Mi(e=rc),Qa=null,Ya=0,e=rc;for(;null!==e;)il(e.alternate,e),e=e.return;rc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),sc=e,rc=n=Us(e.current,null),ic=t,ac=0,oc=null,lc=!1,cc=be(e,t),uc=!1,vc=gc=fc=mc=pc=hc=0,xc=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var r=31-pe(s),i=1<<r;t|=e[r],s&=~i}return dc=t,_s(),n}function Hc(e,t){xi=null,D.H=Ha,t===Wr||t===Gr?(t=Zr(),ac=3):t===Kr?(t=Zr(),ac=4):ac=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===rc&&(hc=1,wo(e,Ns(t,e.current)))}function Wc(){var e=D.H;return D.H=Ha,null===e?Ha:e}function Kc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==so.current||(cc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===sc||Vc(sc,ic,gc,!1)}function Qc(e,t,n){var s=nc;nc|=2;var r=Wc(),i=Kc();sc===e&&ic===t||(kc=null,qc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==rc){var o=rc,l=oc;switch(ac){case 8:Bc(),a=6;break e;case 3:case 2:case 9:case 6:null===so.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Yc(),a=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,yr=vr=null,nc=s,D.H=r,D.A=i,null===rc&&(sc=null,ic=0,_s()),a}function Yc(){for(;null!==rc;)Xc(rc)}function $c(){for(;null!==rc&&!Z();)Xc(rc)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(n,t),t=Xo(n,t=rc=Fs(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Zc(e,t,n,s){yr=vr=null,Mi(t),Qa=null,Ya=0;var r=t.return;try{if(function(e,t,n,s,r){if(n.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){if(null!==(t=n.alternate)&&kr(t,n,r,!0),null!==(n=so.current)){switch(n.tag){case 13:return null===ro?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Qr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([s]):t.add(s),du(e,s,r)),!1;case 22:return n.flags|=65536,s===Qr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([s]):n.add(s),du(e,s,r)),!1}throw Error(a(435,n.tag))}return du(e,s,r),Gc(),!1}if(ir)return null!==(t=so.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==lr&&fr(Ns(e=Error(a(422),{cause:s}),n))):(s!==lr&&fr(Ns(t=Error(a(423),{cause:s}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,s=Ns(s,n),oi(e,r=ko(e.stateNode,s,r)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:s});if(i=Ns(i,n),null===yc?yc=[i]:yc.push(i),4!==hc&&(hc=2),null===t)return!0;s=Ns(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,oi(n,e=ko(n.stateNode,s,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,So(r=No(r),e,n,s),oi(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ic))return hc=1,wo(e,Ns(n,e.current)),void(rc=null)}catch(i){if(null!==r)throw rc=r,i;return hc=1,wo(e,Ns(n,e.current)),void(rc=null)}32768&t.flags?(ir||1===s?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=so.current)&&13===s.tag&&(s.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=sl(t.alternate,t,dc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);hc=6,rc=null}function nu(e,t,n,s,r,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Sc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,s,r,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==s&&Ce(e,s,0),0!==i&&0===r&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Es,o,l,c),e===sc&&(rc=sc=null,ic=0),Ec=t,Cc=e,_c=n,Tc=i,Ic=r,Ac=s,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),s=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||s){s=D.T,D.T=null,r=O.p,O.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,ts(e=es(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==i||0!==s&&3!==h.nodeType||(c=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=o),p===i&&++d===s&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var f=go(n.type,r,(n.elementType,n.type));e=s.getSnapshotBeforeUpdate(f,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,O.p=r,D.T=s}}Sc=1,su(),ru(),iu()}}function su(){if(1===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var s=O.p;O.p=2;var r=nc;nc|=4;try{Dl(t,e);var i=nd,a=es(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&ts(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(a=g,g=f,f=a);var v=Jn(o,f),y=Jn(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),p.removeAllRanges(),f>g?(p.addRange(x),p.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),p.addRange(x))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=r,O.p=s,D.T=n}}e.current=t,Sc=2}}function ru(){if(2===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var s=O.p;O.p=2;var r=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=r,O.p=s,D.T=n}}Sc=3}}function iu(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ec,n=_c,s=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Cc=null,au(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Nc=null),Te(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==s){t=D.T,r=O.p,O.p=2,D.T=null;try{for(var i=e.onRecoverableError,a=0;a<s.length;a++){var o=s[a];i(o.value,{componentStack:o.stack})}}finally{D.T=t,O.p=r}}0!==(3&_c)&&ou(),ju(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,ku(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Dr(t)))}function ou(e){return su(),ru(),iu(),lu()}function lu(){if(5!==Sc)return!1;var e=Cc,t=Tc;Tc=0;var n=Te(_c),s=D.T,r=O.p;try{O.p=32>n?32:n,D.T=null,n=Ic,Ic=null;var i=Cc,o=_c;if(Sc=0,Ec=Cc=null,_c=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Xl(i.current),ql(i,i.current,o,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{O.p=r,D.T=s,au(e,t)}}function cu(e,t,n){t=Ns(n,t),null!==(e=ii(e,t=ko(e.stateNode,t,2),2))&&(Se(e,2),ju(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Nc||!Nc.has(s))){e=Ns(n,e),null!==(s=ii(t,n=No(2),2))&&(So(n,s,t,e),Se(s,2),ju(s));break}}t=t.return}}function du(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new tc;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(n)||(uc=!0,r.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&qc(e,0):fc|=n,vc===ic&&(vc=0)),ju(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=As(e,t))&&(Se(e,t),ju(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function fu(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==s&&s.delete(t),pu(e,n)}var gu=null,vu=null,yu=!1,xu=!1,bu=!1,wu=0;function ju(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),xu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?X(se,Nu):Su()}))}function ku(e,t){if(!bu&&xu){bu=!0;do{for(var n=!1,s=gu;null!==s;){if(!t)if(0!==e){var r=s.pendingLanes;if(0===r)var i=0;else{var a=s.suspendedLanes,o=s.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=r&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,_u(s,i))}else i=ic,0===(3&(i=xe(s,s===sc?i:0,null!==s.cancelPendingCommit||-1!==s.timeoutHandle)))||be(s,i)||(n=!0,_u(s,i));s=s.next}}while(n);bu=!1}}function Nu(){Su()}function Su(){xu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,s=gu;null!==s;){var r=s.next,i=Cu(s,t);0===i?(s.next=null,null===n?gu=r:n.next=r,null===r&&(vu=n)):(n=s,(0!==e||0!==(3&i))&&(xu=!0)),s=r}ku(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-pe(i),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&s)||(r[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=xe(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),s=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==s&&null!==s&&J(s),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==s&&J(s),Te(n)){case 2:case 8:n=re;break;case 32:default:n=ie;break;case 268435456:n=oe}return s=Eu.bind(null,e),n=X(n,s),e.callbackPriority=t,e.callbackNode=n,t}return null!==s&&null!==s&&J(s),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var s=ic;return 0===(s=xe(e,e===sc?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,s,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function _u(e,t){if(ou())return null;Mc(e,t,!0)}function Tu(){return 0===wu&&(wu=je()),wu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<ws.length;Pu++){var Ru=ws[Pu];js(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}js(ps,"onAnimationEnd"),js(ms,"onAnimationIteration"),js(fs,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(gs,"onTransitionRun"),js(vs,"onTransitionStart"),js(ys,"onTransitionCancel"),js(xs,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=c;try{i(r)}catch(u){vo(u)}r.currentTarget=null,i=l}else for(a=0;a<s.length;a++){if(l=(o=s[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=c;try{i(r)}catch(u){vo(u)}r.currentTarget=null,i=l}}}}function Mu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var s=e+"__bubble";n.has(s)||(zu(t,e,2,!1),n.add(s))}function Uu(e,t,n){var s=0;t&&(s|=4),zu(n,e,s,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Fu]){e[Fu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Uu(t,!1,e),Uu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Uu("selectionchange",!1,t))}}function zu(e,t,n,s){switch(ch(t)){case 2:var r=sh;break;case 8:r=rh;break;default:r=ih}n=r.bind(null,t,n,e),r=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Bu(e,t,n,s,r){var i=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var a=s.tag;if(3===a||4===a){var o=s.stateNode.containerInfo;if(o===r)break;if(4===a)for(a=s.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===r)return;a=a.return}for(;null!==o;){if(null===(a=ze(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){s=i=a;continue e}o=o.parentNode}}s=s.return}Lt(function(){var s=i,r=At(n),a=[];e:{var o=bs.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case ps:case ms:case fs:c=on;break;case xs:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var m,f=s;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Mt(f,p))&&d.push(qu(f,g,m)),h)break;f=f.return}0<d.length&&(o=new c(o,u,null,n,r),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[De])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=s,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=s),c!==u)){if(d=sn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?o:qe(c),m=null==u?o:qe(u),(o=new d(g,f+"leave",c,n,r)).target=h,o.relatedTarget=m,g=null,ze(r)===s&&((d=new d(p,f+"enter",u,n,r)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,f=0,m=d=c;m;m=Wu(m))f++;for(m=0,g=p;g;g=Wu(g))m++;for(;0<f-m;)d=Wu(d),f--;for(;0<m-f;)p=Wu(p),m--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=Wu(d),p=Wu(p)}d=null}else d=null;null!==c&&Ku(a,o,c,d,!1),null!==u&&null!==h&&Ku(a,h,u,d,!0)}if("select"===(c=(o=s?qe(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Un;else if(Pn(o))if(Fn)v=Qn;else{v=Kn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?s&&Ct(s.elementType)&&(v=Un):v=Gn;switch(v&&(v=v(e,s))?Rn(a,v,n,r):(y&&y(e,o,s),"focusout"===e&&s&&"number"===o.type&&null!=s.memoizedProps.value&&yt(o,"number",o.value)),y=s?qe(s):window,e){case"focusin":(Pn(y)||"true"===y.contentEditable)&&(ss=y,rs=s,is=null);break;case"focusout":is=rs=ss=null;break;case"mousedown":as=!0;break;case"contextmenu":case"mouseup":case"dragend":as=!1,os(a,n,r);break;case"selectionchange":if(ns)break;case"keydown":case"keyup":os(a,n,r)}var x;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else In?_n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(In||"onCompositionStart"!==b?"onCompositionEnd"===b&&In&&(x=Ht()):(Bt="value"in(zt=r)?zt.value:zt.textContent,In=!0)),0<(y=Hu(s,b)).length&&(b=new cn(b,e,null,n,r),a.push({event:b,listeners:y}),x?b.data=x:null!==(x=Tn(n))&&(b.data=x))),(x=Nn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(En=!0,Cn);case"textInput":return(e=t.data)===Cn&&En?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!jn&&_n(e,t)?(e=Ht(),qt=Bt=zt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Hu(s,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),a.push({event:y,listeners:b}),y.data=x)),function(e,t,n,s,r){if("submit"===t&&n&&n.stateNode===r){var i=Iu((r[Re]||null).action),a=s.submitter;a&&null!==(t=(t=a[Re]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new Zt("action","action",null,s,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==wu){var e=a?Au(r,a):new FormData(r);Ia(n,{pending:!0,data:e,method:r.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=a?Au(r,a):new FormData(r),Ia(n,{pending:!0,data:e,method:r.method,action:i},i,e))},currentTarget:r}]})}}(a,e,s,n,r)}Lu(a,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",s=[];null!==e;){var r=e,i=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===i||(null!=(r=Mt(e,n))&&s.unshift(qu(e,r,i)),null!=(r=Mt(e,t))&&s.push(qu(e,r,i))),3===e.tag)return s;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,s,r){for(var i=t._reactName,a=[];null!==n&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===s)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Mt(n,i))&&a.unshift(qu(n,c,l)):r||null!=(c=Mt(n,i))&&a.push(qu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function $u(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Ju(e,t,n,s,r,i){switch(n){case"children":"string"===typeof s?"body"===t||"textarea"===t&&""===s||jt(e,s):("number"===typeof s||"bigint"===typeof s)&&"body"!==t&&jt(e,""+s);break;case"className":nt(e,"class",s);break;case"tabIndex":nt(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,s);break;case"style":St(e,s,i);break;case"data":if("object"!==t){nt(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==s||"function"===typeof s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(n);break}s=Tt(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if("function"===typeof s){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",r.name,r,null),Ju(e,t,"formEncType",r.formEncType,r,null),Ju(e,t,"formMethod",r.formMethod,r,null),Ju(e,t,"formTarget",r.formTarget,r,null)):(Ju(e,t,"encType",r.encType,r,null),Ju(e,t,"method",r.method,r,null),Ju(e,t,"target",r.target,r,null))),null==s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(n);break}s=Tt(""+s),e.setAttribute(n,s);break;case"onClick":null!=s&&(e.onclick=Xu);break;case"onScroll":null!=s&&Mu("scroll",e);break;case"onScrollEnd":null!=s&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(a(61));if(null!=(n=s.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"muted":e.muted=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"===typeof s||"boolean"===typeof s||"symbol"===typeof s){e.removeAttribute("xlink:href");break}n=Tt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===s?e.setAttribute(n,""):!1!==s&&null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":null==s||"function"===typeof s||"symbol"===typeof s||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",s);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":tt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,s)}}function Zu(e,t,n,s,r,i){switch(n){case"style":St(e,s,i);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(a(61));if(null!=(n=s.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof s?jt(e,s):("number"===typeof s||"bigint"===typeof s)&&jt(e,""+s);break;case"onScroll":null!=s&&Mu("scroll",e);break;case"onScrollEnd":null!=s&&Mu("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Re]||null)?i[n]:null)&&e.removeEventListener(t,i,r),"function"!==typeof s)?n in e?e[n]=s:!0===s?e.setAttribute(n,""):tt(e,n,s):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var s,r=!1,i=!1;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(null!=o)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,s,o,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(r&&Ju(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=s=o=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Ju(e,t,r,d,n,null)}}return vt(e,s,l,c,u,o,i,!1),void dt(e);case"select":for(i in Mu("invalid",e),r=o=s=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":s=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:Ju(e,t,i,l,n,null)}return t=s,n=o,e.multiple=!!r,void(null!=t?xt(e,!!r,t,!1):null!=n&&xt(e,!!r,n,!0));case"textarea":for(o in Mu("invalid",e),s=i=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ju(e,t,o,l,n,null)}return wt(e,r,i,s),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Ju(e,t,c,r,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(r=0;r<Du.length;r++)Mu(Du[r],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,u,r,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Zu(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Ju(e,t,l,r,n,null))}var td=null,nd=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function md(e,t){var n=t,s=0,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<s&&8>s){n=s;var a=e.ownerDocument;if(1&n&&wd(a.documentElement),2&n&&wd(a.body),4&n)for(wd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===r)return e.removeChild(i),void Eh(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Eh(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var jd=new Map,kd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=O.d;O.d={f:function(){var e=Sd.f(),t=zc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Sd.r(e)},D:function(e){Sd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var s=Cd;if(s&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ft(n.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var i=r;switch(t){case"style":i=Td(e);break;case"script":i=Pd(e)}jd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(i,e),null!==s.querySelector(r)||"style"===t&&s.querySelector(Id(i))||"script"===t&&s.querySelector(Rd(i))||(ed(t=s.createElement("link"),"link",e),We(t),s.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Cd;if(n&&e){var s=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(s)+'"][href="'+ft(e)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!jd.has(i)&&(e=h({rel:"modulepreload",href:e},t),jd.set(i,e),null===n.querySelector(r))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(i)))return}ed(s=n.createElement("link"),"link",e),We(s),n.head.appendChild(s)}}},X:function(e,t){Sd.X(e,t);var n=Cd;if(n&&e){var s=He(n).hoistableScripts,r=Pd(e),i=s.get(r);i||((i=n.querySelector(Rd(r)))||(e=h({src:e,async:!0},t),(t=jd.get(r))&&Md(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}},S:function(e,t,n){Sd.S(e,t,n);var s=Cd;if(s&&e){var r=He(s).hoistableStyles,i=Td(e);t=t||"default";var a=r.get(i);if(!a){var o={loading:0,preload:null};if(a=s.querySelector(Id(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(i))&&Ld(e,n);var l=a=s.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(a,t,s)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(i,a)}}},M:function(e,t){Sd.M(e,t);var n=Cd;if(n&&e){var s=He(n).hoistableScripts,r=Pd(e),i=s.get(r);i||((i=n.querySelector(Rd(r)))||(e=h({src:e,async:!0,type:"module"},t),(t=jd.get(r))&&Md(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}};var Cd="undefined"===typeof document?null:document;function Ed(e,t,n){var s=Cd;if(s&&"string"===typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),kd.has(r)||(kd.add(r),e={rel:e,crossOrigin:n,href:t},null===s.querySelector(r)&&(ed(t=s.createElement("link"),"link",e),We(t),s.head.appendChild(t)))}}function _d(e,t,n,s){var r,i,o,l,c=(c=H.current)?Nd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Td(n.href),(s=(n=He(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Td(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(r=c,i=e,o=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),We(i),r.head.appendChild(i))))),t&&null===s)throw Error(a(528,""));return d}if(t&&null!==s)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(s=(n=He(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Td(e){return'href="'+ft(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+ft(e)+'"]'}function Rd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(s)return t.instance=s,We(s),s;var r=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(s=(e.ownerDocument||e).createElement("style")),ed(s,"style",r),Od(s,n.precedence,e),t.instance=s;case"stylesheet":r=Td(n.href);var i=e.querySelector(Id(r));if(i)return t.state.loading|=4,t.instance=i,We(i),i;s=Ad(n),(r=jd.get(r))&&Ld(s,r),We(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",s),t.state.loading|=4,Od(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(r=e.querySelector(Rd(i)))?(t.instance=r,We(r),r):(s=n,(r=jd.get(i))&&Md(s=h({},n),r),We(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Od(s,n.precedence,e));return t.instance}function Od(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var o=s[a];if(o.dataset.precedence===t)i=o;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function Fd(e,t,n){if(null===Ud){var s=new Map,r=Ud=new Map;r.set(n,s)}else(s=(r=Ud).get(n))||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[Fe]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=s.get(a);o?o.push(i):s.set(a,[i])}}return s}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var s=n.get(null);else{n=new Map,Wd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}a=(r=t.instance).getAttribute("data-precedence"),(i=n.get(a)||s)===s&&n.set(null,r),n.set(a,r),this.count++,s=Hd.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Yd(e,t,n,s,r,i,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $d(e,t,n,s,r,i,a,o,l,c,u,d){return e=new Yd(e,t,n,a,o,l,c,d),t=1,!0===i&&(t|=24),i=Ls(3,null,null,t),e.current=i,i.stateNode=e,(t=Rr()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:t},ni(i),e}function Xd(e){return e?e=Ds:Ds}function Jd(e,t,n,s,r,i){r=Xd(r),null===s.context?s.context=r:s.pendingContext=r,(s=ri(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(s.callback=i),null!==(n=ii(e,s,t))&&(Lc(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=As(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function sh(e,t,n,s){var r=D.T;D.T=null;var i=O.p;try{O.p=2,ih(e,t,n,s)}finally{O.p=i,D.T=r}}function rh(e,t,n,s){var r=D.T;D.T=null;var i=O.p;try{O.p=8,ih(e,t,n,s)}finally{O.p=i,D.T=r}}function ih(e,t,n,s){if(nh){var r=ah(s);if(null===r)Bu(e,t,s,oh,n),yh(e,s);else if(function(e,t,n,s,r){switch(t){case"focusin":return dh=xh(dh,e,t,n,s,r),!0;case"dragenter":return hh=xh(hh,e,t,n,s,r),!0;case"mouseover":return ph=xh(ph,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return mh.set(i,xh(mh.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,fh.set(i,xh(fh.get(i)||null,e,t,n,s,r)),!0}return!1}(r,e,t,n,s))s.stopPropagation();else if(yh(e,s),4&t&&-1<vh.indexOf(e)){for(;null!==r;){var i=Be(r);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ye(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-pe(a);o.entanglements[1]|=l,a&=~l}ju(i),0===(6&nc)&&(jc=te()+500,ku(0,!1))}}break;case 13:null!==(o=As(i,2))&&Lc(o,0,2),zc(),eh(i,2)}if(null===(i=ah(s))&&Bu(e,t,s,oh,n),i===r)break;r=i}null!==r&&s.stopPropagation()}else Bu(e,t,s,null,n)}}function ah(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case se:return 2;case re:return 8;case ie:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,mh=new Map,fh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function xh(e,t,n,s,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function bh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=_e(e);var t=As(n,e);null!==t&&Lc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);It=s,n.target.dispatchEvent(s),It=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==ph&&wh(ph)&&(ph=null),mh.forEach(jh),fh.forEach(jh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kh)))}var Sh=null;function Ch(e){Sh!==e&&(Sh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if("function"!==typeof s){if(null===lh(s||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,Ia(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Eh(e){function t(t){return Nh(t,e)}null!==dh&&Nh(dh,e),null!==hh&&Nh(hh,e),null!==ph&&Nh(ph,e),mh.forEach(t),fh.forEach(t);for(var n=0;n<gh.length;n++){var s=gh[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)bh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[Re]||null;if("function"===typeof i)a||Ch(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[Re]||null)o=a.formAction;else if(null!==lh(r))continue}else o=a.action;"function"===typeof o?n[s+1]=o:(n.splice(s,3),s-=3),Ch(n)}}}function _h(e){this._internalRoot=e}function Th(e){this._internalRoot=e}Th.prototype.render=_h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jd(t.current,Dc(),e,t,null,null)},Th.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),zc(),t[De]=null}},Th.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&bh(e)}};var Ih=r.version;if("19.1.0"!==Ih)throw Error(a(527,Ih,"19.1.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(s=r.return)){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return u(r),e;if(i===s)return u(r),t;i=i.sibling}throw Error(a(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,s=i;break}if(c===s){o=!0,s=r,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,s=r;break}if(c===s){o=!0,s=i,n=r;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ah),de=Ph}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,s="",r=yo,i=xo,l=bo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,s,r,i,l,0,null),e[De]=t.current,Vu(e),new _h(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var s=!1,r="",i=yo,l=xo,c=bo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,s,r,i,l,c,0,u)).context=Xd(null),n=t.current,(r=ri(s=_e(s=Dc()))).callback=null,ii(n,r,s),n=s,t.current.lanes=n,Se(t,n),ju(t),e[De]=t.current,Vu(e),new Th(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,f(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(e,t,s,r,i,a){return s=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==s?s:null,props:a}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(){}function T(e,t,r,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case s:u=!0;break;case h:return T((u=e._init)(e._payload),t,r,i,a)}}if(u)return a=a(e),u=""===i?"."+E(e,0):i,w(a)?(r="",null!=u&&(r=u.replace(C,"$&/")+"/"),T(a,t,r,"",function(e){return e})):null!=a&&(S(a)&&(l=a,c=r+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+u,a=N(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,m=""===i?".":i+":";if(w(e))for(var f=0;f<e.length;f++)u+=T(i=e[f],t,r,o=m+E(i,f),a);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(i=e.next()).done;)u+=T(i=i.value,t,r,o=m+E(i,f++),a);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var s=[],r=0;return T(e,s,"","",function(e){return t.call(n,e,r++)}),s}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var s=f({},e.props),r=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(s[i]=t[i]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var a=Array(i),o=0;o<i;o++)a[o]=arguments[o+2];s.children=a}return N(e.type,r,void 0,0,0,s)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var s,r={},i=null;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)k.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(r[s]=t[s]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(s in a=e.defaultProps)void 0===r[s]&&(r[s]=a[s]);return N(e,i,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var s=e(),r=j.S;null!==r&&r(n,s),"object"===typeof s&&null!==s&&"function"===typeof s.then&&s.then(R,P)}catch(i){P(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var s=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},393:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function s(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(t){i(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}function o(e,t){if(null==e)return{};var n,s,r=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){return c(e)||u(e,t)||d(e,t)||p()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var s,r,i=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(i.push(s.value),!t||i.length!==t);a=!0);}catch(l){o=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return i}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f,g,v,y,x={exports:{}};function b(){return g?f:(g=1,f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function w(){if(y)return v;y=1;var e=b();function t(){}function n(){}return n.resetWarningCache=t,v=function(){function s(t,n,s,r,i,a){if(a!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function r(){return s}s.isRequired=s;var i={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}x.exports=w()();var j=m(x.exports),k=function(e,n,s){var r=!!s,i=t.useRef(s);t.useEffect(function(){i.current=s},[s]),t.useEffect(function(){if(!r||!e)return function(){};var t=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,t),function(){e.off(n,t)}},[r,n,e,i])},N=function(e){var n=t.useRef(e);return t.useEffect(function(){n.current=e},[e]),n.current},S=function(e){return null!==e&&"object"===r(e)},C=function(e){return S(e)&&"function"===typeof e.then},E=function(e){return S(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},_="[object Object]",T=function e(t,n){if(!S(t)||!S(n))return t===n;var s=Array.isArray(t);if(s!==Array.isArray(n))return!1;var r=Object.prototype.toString.call(t)===_;if(r!==(Object.prototype.toString.call(n)===_))return!1;if(!r&&!s)return t===n;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var o={},l=0;l<i.length;l+=1)o[i[l]]=!0;for(var c=0;c<a.length;c+=1)o[a[c]]=!0;var u=Object.keys(o);if(u.length!==i.length)return!1;var d=t,h=n,p=function(t){return e(d[t],h[t])};return u.every(p)},I=function(e,t,n){return S(e)?Object.keys(e).reduce(function(r,a){var o=!S(t)||!T(e[a],t[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),r):o?s(s({},r||{}),{},i({},a,e[a])):r},null):null},A="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;if(null===e||E(e))return e;throw new Error(t)},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;if(C(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return P(e,t)})};var n=P(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},D=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.9.2"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.2",url:"https://stripe.com/docs/stripe-js/react"}))},O=t.createContext(null);O.displayName="ElementsContext";var L=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},M=function(e){var n=e.stripe,s=e.options,r=e.children,i=t.useMemo(function(){return R(n)},[n]),a=l(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(s):null}}),2),o=a[0],c=a[1];t.useEffect(function(){var e=!0,t=function(e){c(function(t){return t.stripe?t:{stripe:e,elements:e.elements(s)}})};return"async"!==i.tag||o.stripe?"sync"!==i.tag||o.stripe||t(i.stripe):i.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[i,o,s]);var u=N(n);t.useEffect(function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var d=N(s);return t.useEffect(function(){if(o.elements){var e=I(s,d,["clientSecret","fonts"]);e&&o.elements.update(e)}},[s,d,o.elements]),t.useEffect(function(){D(o.stripe)},[o.stripe]),t.createElement(O.Provider,{value:o},r)};M.propTypes={stripe:j.any,options:j.object};var U=function(e){var n=t.useContext(O);return L(n,e)},F=function(){return U("calls useElements()").elements},V=function(e){return(0,e.children)(U("mounts <ElementsConsumer>"))};V.propTypes={children:j.func.isRequired};var z=["on","session"],B=t.createContext(null);B.displayName="CheckoutSdkContext";var q=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},H=t.createContext(null);H.displayName="CheckoutContext";var W=function(e,t){if(!e)return null;e.on,e.session;var n=o(e,z);return t?Object.assign(t,n):Object.assign(e.session(),n)},K="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",G=function(e){var n=e.stripe,s=e.options,r=e.children,i=t.useMemo(function(){return R(n,K)},[n]),a=l(t.useState(null),2),o=a[0],c=a[1],u=l(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,checkoutSdk:null}}),2),d=u[0],h=u[1],p=function(e,t){h(function(n){return n.stripe&&n.checkoutSdk?n:{stripe:e,checkoutSdk:t}})},m=t.useRef(!1);t.useEffect(function(){var e=!0;return"async"!==i.tag||d.stripe?"sync"===i.tag&&i.stripe&&!m.current&&(m.current=!0,i.stripe.initCheckout(s).then(function(e){e&&(p(i.stripe,e),e.on("change",c))})):i.stripePromise.then(function(t){t&&e&&!m.current&&(m.current=!0,t.initCheckout(s).then(function(e){e&&(p(t,e),e.on("change",c))}))}),function(){e=!1}},[i,d,s,c]);var f=N(n);t.useEffect(function(){null!==f&&f!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[f,n]);var g=N(s),v=N(d.checkoutSdk);t.useEffect(function(){var e,t,n,r;if(d.checkoutSdk){var i=Boolean(!v&&d.checkoutSdk),a=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,o=null===s||void 0===s||null===(t=s.elementsOptions)||void 0===t?void 0:t.appearance,l=!T(o,a);o&&(l||i)&&d.checkoutSdk.changeAppearance(o);var c=null===g||void 0===g||null===(n=g.elementsOptions)||void 0===n?void 0:n.fonts,u=null===s||void 0===s||null===(r=s.elementsOptions)||void 0===r?void 0:r.fonts,h=!T(c,u);u&&(h||i)&&d.checkoutSdk.loadFonts(u)}},[s,g,d.checkoutSdk,v]),t.useEffect(function(){D(d.stripe)},[d.stripe]);var y=t.useMemo(function(){return W(d.checkoutSdk,o)},[d.checkoutSdk,o]);return d.checkoutSdk?t.createElement(B.Provider,{value:d},t.createElement(H.Provider,{value:y},r)):null};G.propTypes={stripe:j.any,options:j.shape({fetchClientSecret:j.func.isRequired,elementsOptions:j.object}).isRequired};var Q=function(e){var n=t.useContext(B);return q(n,e)},Y=function(e){var n=t.useContext(B),s=t.useContext(O);if(n&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?q(n,e):L(s,e)},$=function(){Q("calls useCheckout()");var e=t.useContext(H);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},X=["mode"],J=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Z=function(e,n){var s="".concat(J(e),"Element"),r=n?function(e){Y("mounts <".concat(s,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r,i=n.id,a=n.className,c=n.options,u=void 0===c?{}:c,d=n.onBlur,h=n.onFocus,p=n.onReady,m=n.onChange,f=n.onEscape,g=n.onClick,v=n.onLoadError,y=n.onLoaderStart,x=n.onNetworksChange,b=n.onConfirm,w=n.onCancel,j=n.onShippingAddressChange,S=n.onShippingRateChange,C=Y("mounts <".concat(s,">")),E="elements"in C?C.elements:null,_="checkoutSdk"in C?C.checkoutSdk:null,T=l(t.useState(null),2),A=T[0],P=T[1],R=t.useRef(null),D=t.useRef(null);k(A,"blur",d),k(A,"focus",h),k(A,"escape",f),k(A,"click",g),k(A,"loaderror",v),k(A,"loaderstart",y),k(A,"networkschange",x),k(A,"confirm",b),k(A,"cancel",w),k(A,"shippingaddresschange",j),k(A,"shippingratechange",S),k(A,"change",m),p&&(r="expressCheckout"===e?p:function(){p(A)}),k(A,"ready",r),t.useLayoutEffect(function(){if(null===R.current&&null!==D.current&&(E||_)){var t=null;if(_)switch(e){case"payment":t=_.createPaymentElement(u);break;case"address":if(!("mode"in u))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=u.mode,r=o(u,X);if("shipping"===n)t=_.createShippingAddressElement(r);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=_.createBillingAddressElement(r)}break;case"expressCheckout":t=_.createExpressCheckoutElement(u);break;case"currencySelector":t=_.createCurrencySelectorElement();break;case"taxId":t=_.createTaxIdElement(u);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(t=E.create(e,u));R.current=t,P(t),t&&t.mount(D.current)}},[E,_,u]);var O=N(u);return t.useEffect(function(){if(R.current){var e=I(u,O,["paymentRequest"]);e&&"update"in R.current&&R.current.update(e)}},[u,O]),t.useLayoutEffect(function(){return function(){if(R.current&&"function"===typeof R.current.destroy)try{R.current.destroy(),R.current=null}catch(e){}}},[]),t.createElement("div",{id:i,className:a,ref:D})};return r.propTypes={id:j.string,className:j.string,onChange:j.func,onBlur:j.func,onFocus:j.func,onReady:j.func,onEscape:j.func,onClick:j.func,onLoadError:j.func,onLoaderStart:j.func,onNetworksChange:j.func,onConfirm:j.func,onCancel:j.func,onShippingAddressChange:j.func,onShippingRateChange:j.func,options:j.object},r.displayName=s,r.__elementType=e,r},ee="undefined"===typeof window,te=t.createContext(null);te.displayName="EmbeddedCheckoutProviderContext";var ne=function(){var e=t.useContext(te);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},se="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",re=function(e){var n=e.stripe,s=e.options,r=e.children,i=t.useMemo(function(){return R(n,se)},[n]),a=t.useRef(null),o=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect(function(){if(!o.current&&!a.current){var e=function(e){o.current||a.current||(o.current=e,a.current=o.current.initEmbeddedCheckout(s).then(function(e){d({embeddedCheckout:e})}))};"async"!==i.tag||o.current||!s.clientSecret&&!s.fetchClientSecret?"sync"!==i.tag||o.current||!s.clientSecret&&!s.fetchClientSecret||e(i.stripe):i.stripePromise.then(function(t){t&&e(t)})}},[i,s,u,o]),t.useEffect(function(){return function(){u.embeddedCheckout?(a.current=null,u.embeddedCheckout.destroy()):a.current&&a.current.then(function(){a.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()})}},[u.embeddedCheckout]),t.useEffect(function(){D(o)},[o]);var h=N(n);t.useEffect(function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[h,n]);var p=N(s);return t.useEffect(function(){null!=p&&(null!=s?(void 0===s.clientSecret&&void 0===s.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=p.clientSecret&&s.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.fetchClientSecret&&s.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.onComplete&&s.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=p.onShippingDetailsChange&&s.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=p.onLineItemsChange&&s.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))},[p,s]),t.createElement(te.Provider,{value:u},r)},ie=function(e){var n=e.id,s=e.className,r=ne().embeddedCheckout,i=t.useRef(!1),a=t.useRef(null);return t.useLayoutEffect(function(){return!i.current&&r&&null!==a.current&&(r.mount(a.current),i.current=!0),function(){if(i.current&&r)try{r.unmount(),i.current=!1}catch(e){}}},[r]),t.createElement("div",{ref:a,id:n,className:s})},ae=function(e){var n=e.id,s=e.className;return ne(),t.createElement("div",{id:n,className:s})},oe=ee?ae:ie,le=function(){return Y("calls useStripe()").stripe},ce=Z("auBankAccount",ee),ue=Z("card",ee),de=Z("cardNumber",ee),he=Z("cardExpiry",ee),pe=Z("cardCvc",ee),me=Z("fpxBank",ee),fe=Z("iban",ee),ge=Z("idealBank",ee),ve=Z("p24Bank",ee),ye=Z("epsBank",ee),xe=Z("payment",ee),be=Z("expressCheckout",ee),we=Z("currencySelector",ee),je=Z("paymentRequestButton",ee),ke=Z("linkAuthentication",ee),Ne=Z("address",ee),Se=Z("shippingAddress",ee),Ce=Z("paymentMethodMessaging",ee),Ee=Z("affirmMessage",ee),_e=Z("afterpayClearpayMessage",ee),Te=Z("taxId",ee);e.AddressElement=Ne,e.AffirmMessageElement=Ee,e.AfterpayClearpayMessageElement=_e,e.AuBankAccountElement=ce,e.CardCvcElement=pe,e.CardElement=ue,e.CardExpiryElement=he,e.CardNumberElement=de,e.CheckoutProvider=G,e.CurrencySelectorElement=we,e.Elements=M,e.ElementsConsumer=V,e.EmbeddedCheckout=oe,e.EmbeddedCheckoutProvider=re,e.EpsBankElement=ye,e.ExpressCheckoutElement=be,e.FpxBankElement=me,e.IbanElement=fe,e.IdealBankElement=ge,e.LinkAuthenticationElement=ke,e.P24BankElement=ve,e.PaymentElement=xe,e.PaymentMethodMessagingElement=Ce,e.PaymentRequestButtonElement=je,e.ShippingAddressElement=Se,e.TaxIdElement=Te,e.useCheckout=$,e.useElements=F,e.useStripe=le}(t,n(43))},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var s=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,s=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,s=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(e,t,s){var r=null;if(void 0!==s&&(r=""+s),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in s={},t)"key"!==i&&(s[i]=t[i]);else s=t;return t=s.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=r,t.jsxs=r},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,r=e[s];if(!(0<i(r,t)))break e;e[s]=t,e[n]=r,n=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,r=e.length,a=r>>>1;s<a;){var o=2*(s+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<r&&0>i(u,l)?(e[s]=u,e[c]=n,s=c):(e[s]=l,e[o]=n,s=o);else{if(!(c<r&&0>i(u,n)))break e;e[s]=u,e[c]=n,s=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=s(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=s(u)}}function j(e){if(g=!1,w(e),!f)if(null!==s(c))f=!0,N||(N=!0,k());else{var t=s(u);null!==t&&P(j,t.startTime-e)}}var k,N=!1,S=-1,C=5,E=-1;function _(){return!!v||!(t.unstable_now()-E<C)}function T(){if(v=!1,N){var e=t.unstable_now();E=e;var n=!0;try{e:{f=!1,g&&(g=!1,x(S),S=-1),m=!0;var i=p;try{t:{for(w(e),h=s(c);null!==h&&!(h.expirationTime>e&&_());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===s(c)&&r(c),w(e)}else r(c);h=s(c)}if(null!==h)n=!0;else{var l=s(u);null!==l&&P(j,l.startTime-e),n=!1}}break e}finally{h=null,p=i,m=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof b)k=function(){b(T)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=T,k=function(){A.postMessage(null)}}else k=function(){y(T,0)};function P(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===s(c)&&e===s(u)&&(g?(x(S),S=-1):g=!0,P(j,i-a))):(e.sortIndex=o,n(c,e),f||m||(f=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,s)=>(n.f[s](e,t),t),[])),n.u=e=>"static/js/"+e+".50650741.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="vrumies-web-app:";n.l=(s,r,i,a)=>{if(e[s])e[s].push(r);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=s),e[s]=[r];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Vrumies/",(()=>{var e={792:0};n.f.j=(t,s)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var i=new Promise((n,s)=>r=e[t]=[n,s]);s.push(r[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,s=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}},"chunk-"+t,t)}};var t=(t,s)=>{var r,i,a=s[0],o=s[1],l=s[2],c=0;if(a.some(t=>0!==e[t])){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(t&&t(s);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},s=self.webpackChunkvrumies_web_app=self.webpackChunkvrumies_web_app||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>zw,hasStandardBrowserEnv:()=>qw,hasStandardBrowserWebWorkerEnv:()=>Hw,navigator:()=>Bw,origin:()=>Ww});var t=n(43),s=n(391);function r(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=["sri"],d=["page"],h=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function v(){return N(function(e,t){let{pathname:n="/",search:s="",hash:r=""}=k(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),w("",{pathname:n,search:s,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),s="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");s=-1===n?t:t.slice(0,n)}return s+"#"+("string"===typeof t?t:j(t))},function(e,t){x("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||s||Math.random().toString(36).substring(2,10)})}function j(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function N(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,o="POP",l=null,u=d();function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:o,location:m.location,delta:t})}function p(e){return S(e)}null==u&&(u=0,a.replaceState(c(c({},a.state),{},{idx:u}),""));let m={get action(){return o},get location(){return e(r,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(g,h),l=e,()=>{r.removeEventListener(g,h),l=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let s=w(m.location,e,t);n&&n(s,e),u=d()+1;let c=b(s,u),h=m.createHref(s);try{a.pushState(c,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;r.location.assign(h)}i&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let s=w(m.location,e,t);n&&n(s,e),u=d();let r=b(s,u),c=m.createHref(s);a.replaceState(r,"",c),i&&l&&l({action:o,location:m.location,delta:0})},go:e=>a.go(e)};return m}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),y(n,"No window.location.(origin|href) available to create URL");let s="string"===typeof e?e:j(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}new WeakMap;function C(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,s){let r=B(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;let i=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=z(r);a=U(i[o],e,s)}return a}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(e,r,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(y(a.relativePath.startsWith(s),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(s,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(s.length));let o=G([s,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),_(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let s of T(e.path))r(e,t,s);else r(e,t)}),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===s.length)return r?[i,""]:[i];let a=T(s.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),r&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var I=/^:[\w-]+$/,A=3,P=2,R=1,D=10,O=-2,L=e=>"*"===e;function M(e,t){let n=e.split("/"),s=n.length;return n.some(L)&&(s+=O),t&&(s+=P),n.filter(e=>!L(e)).reduce((e,t)=>e+(I.test(t)?A:""===t?R:D),s)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:s}=e,r={},i="/",a=[];for(let o=0;o<s.length;++o){let e=s[o],l=o===s.length-1,c="/"===i?t:t.slice(i.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!s[s.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),a.push({params:r,pathname:G([i,u.pathname]),pathnameBase:Q(G([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=G([i,u.pathnameBase]))}return a}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=V(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:s,isOptional:r}=t;if("*"===s){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[s]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function q(e,t,n,s){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(s),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e){let t=H(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let s,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?s=k(e):(s=c({},e),y(!s.pathname||!s.pathname.includes("?"),q("?","pathname","search",s)),y(!s.pathname||!s.pathname.includes("#"),q("#","pathname","hash",s)),y(!s.search||!s.search.includes("#"),q("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:s="",hash:r=""}="string"===typeof e?k(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Y(s),hash:$(r)}}(s,i),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var J=["POST","PUT","PATCH","DELETE"],Z=(new Set(J),["GET",...J]);new Set(Z),Symbol("ResetLoaderData");var ee=t.createContext(null);ee.displayName="DataRouter";var te=t.createContext(null);te.displayName="DataRouterState";var ne=t.createContext(!1);var se=t.createContext({isTransitioning:!1});se.displayName="ViewTransition";var re=t.createContext(new Map);re.displayName="Fetchers";var ie=t.createContext(null);ie.displayName="Await";var ae=t.createContext(null);ae.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var le=t.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=t.createContext(null);ce.displayName="RouteError";function ue(){return null!=t.useContext(oe)}function de(){return y(ue(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){t.useContext(ae).static||t.useLayoutEffect(e)}function me(){let{isDataRoute:e}=t.useContext(le);return e?function(){let{router:e}=Ne("useNavigate"),n=Ce("useNavigate"),s=t.useRef(!1);pe(()=>{s.current=!0});let r=t.useCallback(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(s.current,he),s.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},r)))},[e,n]);return r}():function(){y(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ee),{basename:n,navigator:s}=t.useContext(ae),{matches:r}=t.useContext(le),{pathname:i}=de(),a=JSON.stringify(W(r)),o=t.useRef(!1);pe(()=>{o.current=!0});let l=t.useCallback(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,he),!o.current)return;if("number"===typeof t)return void s.go(t);let l=K(t,JSON.parse(a),i,"path"===r.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:G([n,l.pathname])),(r.replace?s.replace:s.push)(l,r.state,r)},[n,s,a,i,e]);return l}()}t.createContext(null);function fe(){let{matches:e}=t.useContext(le),n=e[e.length-1];return n?n.params:{}}function ge(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:s}=t.useContext(le),{pathname:r}=de(),i=JSON.stringify(W(s));return t.useMemo(()=>K(e,JSON.parse(i),r,"path"===n),[e,i,r,n])}function ve(e,n,s,r){y(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(ae),{matches:a}=t.useContext(le),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Te(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=de();if(n){var f;let e="string"===typeof n?k(n):n;y("/"===d||(null===(f=e.pathname)||void 0===f?void 0:f.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let g=p.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=C(e,{pathname:v});x(h||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=je(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:G([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:G([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,s,r);return n&&w?t.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},w):w}function ye(){let e=Ee(),n=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),s?t.createElement("pre",{style:i},s):null,o)}var xe=t.createElement(ye,null),be=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(le.Provider,{value:this.props.routeContext},t.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:n,match:s,children:r}=e,i=t.useContext(ee);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),t.createElement(le.Provider,{value:n},r)}function je(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!s)return null;if(s.errors)e=s.matches;else{if(0!==n.length||s.initialized||!(s.matches.length>0))return null;e=s.matches}}let r=e,i=null===s||void 0===s?void 0:s.errors;if(null!=i){let e=r.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,o=-1;if(s)for(let t=0;t<r.length;t++){let e=r[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=t),e.route.id){let{loaderData:t,errors:n}=s,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){a=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight((e,l,c)=>{let u,d=!1,h=null,p=null;s&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||xe,a&&(o<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):o===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=n.concat(r.slice(0,c+1)),f=()=>{let n;return n=u?h:d?p:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(we,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=s},children:n})};return s&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(be,{location:s.location,revalidation:s.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(e){let n=t.useContext(ee);return y(n,ke(e)),n}function Se(e){let n=t.useContext(te);return y(n,ke(e)),n}function Ce(e){let n=function(e){let n=t.useContext(le);return y(n,ke(e)),n}(e),s=n.matches[n.matches.length-1];return y(s.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),s.route.id}function Ee(){var e;let n=t.useContext(ce),s=Se("useRouteError"),r=Ce("useRouteError");return void 0!==n?n:null===(e=s.errors)||void 0===e?void 0:e[r]}var _e={};function Te(e,t,n){t||_e[e]||(_e[e]=!0,x(!1,n))}var Ie={};function Ae(e,t){e||Ie[t]||(Ie[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:s}=e;return ve(t,void 0,s,n)});function Pe(e){let{to:n,replace:s,state:r,relative:i}=e;y(ue(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=t.useContext(ae);x(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(le),{pathname:l}=de(),c=me(),u=K(n,W(o),l,"path"===i),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:s,state:r,relative:i})},[c,d,i,s,r]),null}function Re(e){y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:n="/",children:s=null,location:r,navigationType:i="POP",navigator:a,static:o=!1}=e;y(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);"string"===typeof r&&(r=k(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,f=t.useMemo(()=>{let e=B(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return x(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:t.createElement(ae.Provider,{value:c},t.createElement(oe.Provider,{children:s,value:f}))}function Oe(e){let{children:t,location:n}=e;return ve(Le(t),n)}t.Component;function Le(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[];return t.Children.forEach(e,(e,r)=>{if(!t.isValidElement(e))return;let i=[...n,r];if(e.type===t.Fragment)return void s.push.apply(s,Le(e.props.children,i));y(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Le(e.props.children,i)),s.push(a)}),s}var Me="get",Ue="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var Ve=null;var ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||ze.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function qe(e,t){let n,s,r,i,a;if(Fe(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");s=a?B(a,t):null,n=e.getAttribute("method")||Me,r=Be(e.getAttribute("enctype"))||Ue,i=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(s=o?B(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Me,r=Be(e.getAttribute("formenctype"))||Be(a.getAttribute("enctype"))||Ue,i=new FormData(a,e),!function(){if(null===Ve)try{new FormData(document.createElement("form"),0),Ve=!1}catch(e){Ve=!0}return Ve}()){let{name:t,type:n,value:s}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,s)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Me,s=null,r=Ue,a=e}var o;return i&&"text/plain"===r&&(a=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function He(e){return{__html:e}}function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ke(e,t,n){let s="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===s.pathname?s.pathname="_root.".concat(n):t&&"/"===B(s.pathname,t)?s.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):s.pathname="".concat(s.pathname.replace(/\/$/,""),".").concat(n),s}async function Ge(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qe(e){return null!=e&&"string"===typeof e.page}function Ye(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function $e(e,t,n,s,r,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var s;return n[t].pathname!==e.pathname||(null===(s=n[t].route.path)||void 0===s?void 0:s.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=s.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let s=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof s)return s}return!0}):[]}function Xe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s=e.map(e=>{let s=t.routes[e.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1),[...new Set(s)];var s}function Je(e,t){let n=new Set,s=new Set(t);return e.reduce((e,r)=>{if(t&&!Qe(r)&&"script"===r.as&&r.href&&s.has(r.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}(r));return n.has(i)||(n.add(i),e.push({key:i,link:r})),e},[])}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=t.useContext(ee);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=t.useContext(te);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=t.createContext(void 0);function st(){let e=t.useContext(nt);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}nt.displayName="FrameworkContext";function at(e){let{page:n}=e,s=r(e,d),{router:i}=et(),a=t.useMemo(()=>C(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?t.createElement(lt,c({page:n,matches:a},s)):null}function ot(e){let{manifest:n,routeModules:s}=st(),[r,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Je((await Promise.all(e.map(async e=>{let s=t.routes[e.route.id];if(s){let e=await Ge(s,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ye).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,n,s).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,s]),r}function lt(e){let{page:n,matches:s}=e,i=r(e,h),a=de(),{manifest:o,routeModules:l}=st(),{basename:u}=et(),{loaderData:d,matches:p}=tt(),m=t.useMemo(()=>$e(n,s,p,o,a,"data"),[n,s,p,o,a]),f=t.useMemo(()=>$e(n,s,p,o,a,"assets"),[n,s,p,o,a]),g=t.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(s.forEach(n=>{var s;let r=o.routes[n.route.id];r&&r.hasLoader&&(!m.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(s=l[n.route.id])&&void 0!==s&&s.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let r=Ke(n,u,"data");return t&&e.size>0&&r.searchParams.set("_routes",s.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[u,d,a,o,m,s,n,l]),v=t.useMemo(()=>Xe(f,o),[f,o]),y=ot(f);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:n,link:s}=e;return t.createElement("link",c({key:n},s))}))}var ct=!1;function ut(e){let{manifest:n,serverHandoffString:s,isSpaMode:i,renderMeta:a,routeDiscovery:o,ssr:l}=st(),{router:d,static:h,staticContext:p}=et(),{matches:m}=tt(),f=t.useContext(ne),g=Ze(o,l);a&&(a.didRenderScripts=!0);let v=it(m,null,i);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var i;if(f)return null;let a=p?"window.__reactRouterContext = ".concat(s,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let s="route".concat(t),r=n.routes[e.route.id];We(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=r,u=[...i?[{module:i,varName:"".concat(s,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(s,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(s,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(s,"_HydrateFallback")}]:[],{module:c,varName:"".concat(s,"_main")}];return 1===u.length?"import * as ".concat(s," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(s," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,s=r(e,u),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach(e=>{let n=C(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:s.routes[t]}),{});return c(c({},s),{},{routes:l,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:He(a),type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:He(o),type:"module",async:!0})))},[]),x=ct||f?[]:(n.entry.imports.concat(Xe(v,n,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof n.sri?n.sri:{};return Ae(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ct||f?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:w[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:w[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:w[n],suppressHydrationWarning:!0})),y)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function ht(e){let{error:n,isOutsideRemixApp:s}=e;console.error(n);let r,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(n))return t.createElement(pt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(pt,{title:"Application Error!",isOutsideRemixApp:s},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function pt(e){var n;let{title:s,renderScripts:r,isOutsideRemixApp:i,children:a}=e,{routeModules:o}=st();return null!==o.root&&void 0!==n&&n.Layout&&!i?a:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,s)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?t.createElement(ut,null):null)))}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{mt&&(window.__reactRouterVersion="7.7.1")}catch(cI){}function ft(e){let{basename:n,children:s,window:r}=e,i=t.useRef();null==i.current&&(i.current=v({window:r,v5Compat:!0}));let a=i.current,[o,l]=t.useState({action:a.action,location:a.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>a.listen(c),[a,c]),t.createElement(De,{basename:n,children:s,location:o.location,navigationType:o.action,navigator:a})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=t.forwardRef(function(e,n){let s,{onClick:i,discover:a="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:m,to:f,preventScrollReset:g,viewTransition:v}=e,b=r(e,p),{basename:w}=t.useContext(ae),k="string"===typeof f&&gt.test(f),N=!1;if("string"===typeof f&&k&&(s=f,mt))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=B(t.pathname,w);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:N=!0}catch(cI){x(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=t.useContext(ae),{hash:i,pathname:a,search:o}=ge(e,{relative:n}),l=a;return"/"!==s&&(l="/"===a?s:G([s,a])),r.createHref({pathname:l,search:o,hash:i})}(f,{relative:l}),[C,E,_]=function(e,n){let s=t.useContext(nt),[r,i]=t.useState(!1),[a,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let m=()=>{i(!0)},f=()=>{i(!1),o(!1)};return s?"intent"!==e?[a,p,{}]:[a,p,{onFocus:rt(l,m),onBlur:rt(c,f),onMouseEnter:rt(u,m),onMouseLeave:rt(d,f),onTouchStart:rt(h,m)}]:[!1,p,{}]}(o,b),T=function(e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=de(),u=ge(e,{relative:a});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==s?s:j(c)===j(u);l(e,{replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,s,r,n,e,i,a,o])}(f,{replace:d,state:h,target:m,preventScrollReset:g,relative:l,viewTransition:v});let I=t.createElement("a",c(c(c({},b),_),{},{href:s||S,onClick:N||u?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:dt(n,E),target:m,"data-discover":k||"render"!==a?void 0:"true"}));return C&&!k?t.createElement(t.Fragment,null,I,t.createElement(at,{page:S})):I});vt.displayName="Link";var yt=t.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:d,children:h}=e,p=r(e,m),f=ge(u,{relative:p.relative}),g=de(),v=t.useContext(te),{navigator:x,basename:b}=t.useContext(ae),w=null!=v&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.useContext(se);y(null!=s,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wt("useViewTransitionState"),i=ge(e,{relative:n});if(!s.isTransitioning)return!1;let a=B(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=B(s.nextLocation.pathname,r)||s.nextLocation.pathname;return null!=F(i.pathname,o)||null!=F(i.pathname,a)}(f)&&!0===d,j=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,k=g.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&b&&(N=B(N,b)||N);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let C,E=k===j||!o&&k.startsWith(j)&&"/"===k.charAt(S),_=null!=N&&(N===j||!o&&N.startsWith(j)&&"/"===N.charAt(j.length)),T={isActive:E,isPending:_,isTransitioning:w},I=E?s:void 0;C="function"===typeof a?a(T):[a,E?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(T):l;return t.createElement(vt,c(c({},p),{},{"aria-current":I,className:C,ref:n,style:A,to:u,viewTransition:d}),"function"===typeof h?h(T):h)});yt.displayName="NavLink";var xt=t.forwardRef((e,n)=>{let{discover:s="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:l,state:u,method:d=Me,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:v}=e,x=r(e,f),b=Nt(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:s}=t.useContext(ae),r=t.useContext(le);y(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a=c({},ge(e||".",{relative:n})),o=de();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==s&&(a.pathname="/"===a.pathname?s:G([s,a.pathname]));return j(a)}(h,{relative:m}),k="get"===d.toLowerCase()?"get":"post",N="string"===typeof h&&gt.test(h);return t.createElement("form",c(c({ref:n,method:k,action:w,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:v})}},x),{},{"data-discover":N||"render"!==s?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function wt(e){let n=t.useContext(ee);return y(n,bt(e)),n}xt.displayName="Form";var jt=0,kt=()=>"__".concat(String(++jt),"__");function Nt(){let{router:e}=wt("useSubmit"),{basename:n}=t.useContext(ae),s=Ce("useRouteId");return t.useCallback(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:o,formData:l,body:c}=qe(t,n);if(!1===r.navigate){let t=r.fetcherKey||kt();await e.fetch(t,s,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:s,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,n,s])}const St=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&s+1<e.length&&56320===(64512&e.charCodeAt(s+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++s)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const t=e[r],i=r+1<e.length,a=i?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),s.push(n[c],n[u],n[d],n[h])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(St(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){const i=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[s++]=String.fromCharCode(55296+(i>>10)),t[s++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[s++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],i=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const o=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==i||null==a||null==o)throw new Et;const l=t<<2|i>>4;if(s.push(l),64!==a){const e=i<<4&240|a>>2;if(s.push(e),64!==o){const e=a<<6&192|o;s.push(e)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _t=function(e){return function(e){const t=St(e);return Ct.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Tt=function(e){try{return Ct.decodeString(e,!0)}catch(cI){console.error("base64Decode failed: ",cI)}return null};function It(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const At=()=>{try{return It().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Vrumies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cI){return}const t=e&&Tt(e[1]);return t&&JSON.parse(t)})()}catch(cI){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(cI))}},Pt=e=>{var t;return null===(t=At())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Rt=e=>{const t=Pt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const s=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Dt=()=>{var e;return null===(e=At())||void 0===e?void 0:e.config},Ot=e=>{var t;return null===(t=At())||void 0===t?void 0:t["_".concat(e)]};class Lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Mt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ut(e){return(await fetch(e,{credentials:"include"})).ok}function Ft(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_t(JSON.stringify({alg:"none",type:"JWT"})),_t(JSON.stringify(i)),""].join(".")}const Vt={};let zt=!1;function Bt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Mt(window.location.host)||Vt[e]===t||Vt[e]||zt)return;function n(e){return"__firebase__banner__".concat(e)}Vt[e]=t;const s="__firebase__banner",r=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vt))Vt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{zt=!0,function(){const e=document.getElementById(s);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(s),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}r?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function qt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ht(){var e;const t=null===(e=At())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(cI){return!1}}function Wt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Kt(){return!Ht()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gt(){try{return"object"===typeof indexedDB}catch(cI){return!1}}function Qt(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class Yt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),s=this.errors[e],r=s?function(e,t){return e.replace(Xt,(e,n)=>{const s=t[n];return null!=s?String(s):"<".concat(n,"?>")})}(s,t):"Error",i="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new Yt(n,i,t)}}const Xt=/\{\$([^}]+)}/g;function Jt(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const n=e[r],i=t[r];if(Zt(n)&&Zt(i)){if(!Jt(n,i))return!1}else if(n!==i)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Zt(e){return null!==e&&"object"===typeof e}function en(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function tn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,s]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(s)}}),t}function nn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class sn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");s=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===s.next&&(s.next=rn),void 0===s.error&&(s.error=rn),void 0===s.complete&&(s.complete=rn);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(cI){}}),this.observers.push(s),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(cI){"undefined"!==typeof console&&console.error&&console.error(cI)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}function an(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),s=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+s)}function on(e){return e&&e._delegate?e._delegate:e}class ln{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cn="[DEFAULT]";class un{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Lt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cI){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),s=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(s)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(cI){if(s)return null;throw cI}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch(cI){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cI){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&i.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(s))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(s){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===cn?void 0:r),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch(i){}var r;return s||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.component?this.component.multipleInstances?e:cn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new un(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hn=[];var pn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pn||(pn={}));const mn={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},fn=pn.INFO,gn={[pn.DEBUG]:"log",[pn.VERBOSE]:"log",[pn.INFO]:"info",[pn.WARN]:"warn",[pn.ERROR]:"error"},vn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),s=gn[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];console[s]("[".concat(n,"]  ").concat(e.name,":"),...i)};class yn{constructor(e){this.name=e,this._logLevel=fn,this._logHandler=vn,this._userLogHandler=null,hn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?mn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pn.DEBUG,...t),this._logHandler(this,pn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pn.VERBOSE,...t),this._logHandler(this,pn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pn.INFO,...t),this._logHandler(this,pn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pn.WARN,...t),this._logHandler(this,pn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pn.ERROR,...t),this._logHandler(this,pn.ERROR,...t)}}let xn,bn;const wn=new WeakMap,jn=new WeakMap,kn=new WeakMap,Nn=new WeakMap,Sn=new WeakMap;let Cn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function En(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bn||(bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.apply(In(this),n),Tn(wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Tn(e.apply(In(this),n))}:function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];const i=e.call(In(this),t,...s);return kn.set(i,t.sort?t.sort():[t]),Tn(i)}}function _n(e){return"function"===typeof e?En(e):(e instanceof IDBTransaction&&function(e){if(jn.has(e))return;const t=new Promise((t,n)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",i),e.removeEventListener("abort",i)},r=()=>{t(),s()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",i),e.addEventListener("abort",i)});jn.set(e,t)}(e),t=e,(xn||(xn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Cn):e);var t}function Tn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",i)},r=()=>{t(Tn(e.result)),s()},i=()=>{n(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&wn.set(t,e)}).catch(()=>{}),Sn.set(t,e),t}(e);if(Nn.has(e))return Nn.get(e);const t=_n(e);return t!==e&&(Nn.set(e,t),Sn.set(t,e)),t}const In=e=>Sn.get(e);function An(e,t){let{blocked:n,upgrade:s,blocking:r,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Tn(a);return s&&a.addEventListener("upgradeneeded",e=>{s(Tn(a.result),e.oldVersion,e.newVersion,Tn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const Pn=["get","getKey","getAll","getAllKeys","count"],Rn=["put","add","delete","clear"],Dn=new Map;function On(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Dn.get(t))return Dn.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=Rn.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!r&&!Pn.includes(n))return;const i=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return s&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),r&&t.done]))[0]};return Dn.set(t,i),i}Cn=(e=>c(c({},e),{},{get:(t,n,s)=>On(t,n)||e.get(t,n,s),has:(t,n)=>!!On(t,n)||e.has(t,n)}))(Cn);class Ln{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Mn="@firebase/app",Un="0.14.0",Fn=new yn("@firebase/app"),Vn="@firebase/app-compat",zn="@firebase/analytics-compat",Bn="@firebase/analytics",qn="@firebase/app-check-compat",Hn="@firebase/app-check",Wn="@firebase/auth",Kn="@firebase/auth-compat",Gn="@firebase/database",Qn="@firebase/data-connect",Yn="@firebase/database-compat",$n="@firebase/functions",Xn="@firebase/functions-compat",Jn="@firebase/installations",Zn="@firebase/installations-compat",es="@firebase/messaging",ts="@firebase/messaging-compat",ns="@firebase/performance",ss="@firebase/performance-compat",rs="@firebase/remote-config",is="@firebase/remote-config-compat",as="@firebase/storage",os="@firebase/storage-compat",ls="@firebase/firestore",cs="@firebase/ai",us="@firebase/firestore-compat",ds="firebase",hs="[DEFAULT]",ps={[Mn]:"fire-core",[Vn]:"fire-core-compat",[Bn]:"fire-analytics",[zn]:"fire-analytics-compat",[Hn]:"fire-app-check",[qn]:"fire-app-check-compat",[Wn]:"fire-auth",[Kn]:"fire-auth-compat",[Gn]:"fire-rtdb",[Qn]:"fire-data-connect",[Yn]:"fire-rtdb-compat",[$n]:"fire-fn",[Xn]:"fire-fn-compat",[Jn]:"fire-iid",[Zn]:"fire-iid-compat",[es]:"fire-fcm",[ts]:"fire-fcm-compat",[ns]:"fire-perf",[ss]:"fire-perf-compat",[rs]:"fire-rc",[is]:"fire-rc-compat",[as]:"fire-gcs",[os]:"fire-gcs-compat",[ls]:"fire-fst",[us]:"fire-fst-compat",[cs]:"fire-vertex","fire-js":"fire-js",[ds]:"fire-js-all"},ms=new Map,fs=new Map,gs=new Map;function vs(e,t){try{e.container.addComponent(t)}catch(cI){Fn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),cI)}}function ys(e){const t=e.name;if(gs.has(t))return Fn.debug("There were multiple attempts to register component ".concat(t,".")),!1;gs.set(t,e);for(const n of ms.values())vs(n,e);for(const n of fs.values())vs(n,e);return!0}function xs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bs(e){return null!==e&&void 0!==e&&void 0!==e.settings}const ws=new $t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class js{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}const ks="12.0.0";function Ns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=c({name:hs,automaticDataCollectionEnabled:!0},t),r=s.name;if("string"!==typeof r||!r)throw ws.create("bad-app-name",{appName:String(r)});if(n||(n=Dt()),!n)throw ws.create("no-options");const i=ms.get(r);if(i){if(Jt(n,i.options)&&Jt(s,i.config))return i;throw ws.create("duplicate-app",{appName:r})}const a=new dn(r);for(const l of gs.values())a.addComponent(l);const o=new js(n,s,a);return ms.set(r,o),o}function Ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs;const t=ms.get(e);if(!t&&e===hs&&Dt())return Ns();if(!t)throw ws.create("no-app",{appName:e});return t}function Cs(){return Array.from(ms.values())}function Es(e,t,n){var s;let r=null!==(s=ps[e])&&void 0!==s?s:e;n&&(r+="-".concat(n));const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fn.warn(e.join(" "))}ys(new ln("".concat(r,"-version"),()=>({library:r,version:t}),"VERSION"))}const _s="firebase-heartbeat-store";let Ts=null;function Is(){return Ts||(Ts=An("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(_s)}catch(cI){console.warn(cI)}}}).catch(e=>{throw ws.create("idb-open",{originalErrorMessage:e.message})})),Ts}async function As(e,t){try{const n=(await Is()).transaction(_s,"readwrite"),s=n.objectStore(_s);await s.put(t,Ps(e)),await n.done}catch(cI){if(cI instanceof Yt)Fn.warn(cI.message);else{const t=ws.create("idb-set",{originalErrorMessage:null===cI||void 0===cI?void 0:cI.message});Fn.warn(t.message)}}}function Ps(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rs{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Os(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ds();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(e=>e.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(cI){Fn.warn(cI)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ds(),{heartbeatsToSend:n,unsentEntries:s}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let s=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),Ls(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ls(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}(this._heartbeatsCache.heartbeats),r=_t(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(cI){return Fn.warn(cI),""}}}function Ds(){return(new Date).toISOString().substring(0,10)}class Os{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Gt()&&Qt().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Is()).transaction(_s),n=await t.objectStore(_s).get(Ps(e));return await t.done,n}catch(cI){if(cI instanceof Yt)Fn.warn(cI.message);else{const t=ws.create("idb-get",{originalErrorMessage:null===cI||void 0===cI?void 0:cI.message});Fn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return As(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return As(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ls(e){return _t(JSON.stringify({version:2,heartbeats:e})).length}var Ms;Ms="",ys(new ln("platform-logger",e=>new Ln(e),"PRIVATE")),ys(new ln("heartbeat",e=>new Rs(e),"PRIVATE")),Es(Mn,Un,Ms),Es(Mn,Un,"esm2020"),Es("fire-js","");Es("firebase","12.0.0","app");const Us="@firebase/installations",Fs="0.6.19",Vs=1e4,zs="w:".concat(Fs),Bs="FIS_v2",qs=36e5,Hs=new $t("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ws(e){return e instanceof Yt&&e.code.includes("request-failed")}function Ks(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Gs(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Qs(e,t){const n=(await t.json()).error;return Hs.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ys(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $s(e,t){let{refreshToken:n}=t;const s=Ys(e);return s.append("Authorization",function(e){return"".concat(Bs," ").concat(e)}(n)),s}async function Xs(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Js(e){return new Promise(t=>{setTimeout(t,e)})}const Zs=/^[cdef][\w-]{21}$/;function er(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Zs.test(t)?t:""}catch(e){return""}}function tr(e){return"".concat(e.appName,"!").concat(e.appId)}const nr=new Map;function sr(e,t){const n=tr(e);rr(n,t),function(e,t){const n=ar();n&&n.postMessage({key:e,fid:t});or()}(n,t)}function rr(e,t){const n=nr.get(e);if(n)for(const s of n)s(t)}let ir=null;function ar(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=e=>{rr(e.data.key,e.data.fid)}),ir}function or(){0===nr.size&&ir&&(ir.close(),ir=null)}const lr="firebase-installations-store";let cr=null;function ur(){return cr||(cr=An("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(lr)}})),cr}async function dr(e,t){const n=tr(e),s=(await ur()).transaction(lr,"readwrite"),r=s.objectStore(lr),i=await r.get(n);return await r.put(t,n),await s.done,i&&i.fid===t.fid||sr(e,t.fid),t}async function hr(e){const t=tr(e),n=(await ur()).transaction(lr,"readwrite");await n.objectStore(lr).delete(t),await n.done}async function pr(e,t){const n=tr(e),s=(await ur()).transaction(lr,"readwrite"),r=s.objectStore(lr),i=await r.get(n),a=t(i);return void 0===a?await r.delete(n):await r.put(a,n),await s.done,!a||i&&i.fid===a.fid||sr(e,a.fid),a}async function mr(e){let t;const n=await pr(e.appConfig,n=>{const s=function(e){const t=e||{fid:er(),registrationStatus:0};return vr(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Hs.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:s}=e,{fid:r}=t;const i=Ks(n),a=Ys(n),o=s.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:r,authVersion:Bs,appId:n.appId,sdkVersion:zs},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Xs(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:Gs(e.authToken)}}throw await Qs("Create Installation",u)}(e,t);return dr(e.appConfig,n)}catch(cI){throw Ws(cI)&&409===cI.customData.serverCode?await hr(e.appConfig):await dr(e.appConfig,{fid:t.fid,registrationStatus:0}),cI}}(e,n);return{installationEntry:n,registrationPromise:s}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:fr(e)}:{installationEntry:t}}(e,s);return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function fr(e){let t=await gr(e.appConfig);for(;1===t.registrationStatus;)await Js(100),t=await gr(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await mr(e);return n||t}return t}function gr(e){return pr(e,e=>{if(!e)throw Hs.create("installation-not-found");return vr(e)})}function vr(e){return 1===(t=e).registrationStatus&&t.registrationTime+Vs<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function yr(e,t){let{appConfig:n,heartbeatServiceProvider:s}=e;const r=function(e,t){let{fid:n}=t;return"".concat(Ks(e),"/").concat(n,"/authTokens:generate")}(n,t),i=$s(n,t),a=s.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:zs,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Xs(()=>fetch(r,l));if(c.ok){return Gs(await c.json())}throw await Qs("Generate Auth Token",c)}async function xr(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await pr(e.appConfig,s=>{if(!wr(s))throw Hs.create("not-registered");const r=s.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qs}(e)}(r))return s;if(1===r.requestStatus)return t=async function(e,t){let n=await br(e.appConfig);for(;1===n.authToken.requestStatus;)await Js(100),n=await br(e.appConfig);const s=n.authToken;return 0===s.requestStatus?xr(e,t):s}(e,n),s;{if(!navigator.onLine)throw Hs.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return c(c({},e),{},{authToken:t})}(s);return t=async function(e,t){try{const n=await yr(e,t),s=c(c({},t),{},{authToken:n});return await dr(e.appConfig,s),n}catch(cI){if(!Ws(cI)||401!==cI.customData.serverCode&&404!==cI.customData.serverCode){const n=c(c({},t),{},{authToken:{requestStatus:0}});await dr(e.appConfig,n)}else await hr(e.appConfig);throw cI}}(e,n),n}});return t?await t:s.authToken}function br(e){return pr(e,e=>{if(!wr(e))throw Hs.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Vs<Date.now()?c(c({},e),{},{authToken:{requestStatus:0}}):e;var n})}function wr(e){return void 0!==e&&2===e.registrationStatus}async function jr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await mr(e);t&&await t}(n);return(await xr(n,t)).token}function kr(e){return Hs.create("missing-app-config-values",{valueName:e})}const Nr="installations",Sr=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw kr("App Configuration");if(!e.name)throw kr("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw kr(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:xs(t,"heartbeat"),_delete:()=>Promise.resolve()}},Cr=e=>{const t=xs(e.getProvider("app").getImmediate(),Nr).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:s}=await mr(t);return s?s.catch(console.error):xr(t).catch(console.error),n.fid}(t),getToken:e=>jr(t,e)}};ys(new ln(Nr,Sr,"PUBLIC")),ys(new ln("installations-internal",Cr,"PRIVATE")),Es(Us,Fs),Es(Us,Fs,"esm2020");const Er="analytics",_r="https://www.googletagmanager.com/gtag/js",Tr=new yn("@firebase/analytics"),Ir=new $t("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ar(e){if(!e.startsWith(_r)){const t=Ir.create("invalid-gtag-resource",{gtagURL:e});return Tr.warn(t.message),""}return e}function Pr(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Rr(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Ar}),s=document.createElement("script"),r="".concat(_r,"?l=").concat(e,"&id=").concat(t);s.src=n?null===n||void 0===n?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function Dr(e,t,n,s){return async function(r){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("event"===r){const[s,r]=a;await async function(e,t,n,s,r){try{let i=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const s=await Pr(n);for(const n of e){const e=s.find(e=>e.measurementId===n),r=e&&t[e.appId];if(!r){i=[];break}i.push(r)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",s,r||{})}catch(cI){Tr.error(cI)}}(e,t,n,s,r)}else if("config"===r){const[r,i]=a;await async function(e,t,n,s,r,i){const a=s[r];try{if(a)await t[a];else{const e=(await Pr(n)).find(e=>e.measurementId===r);e&&await t[e.appId]}}catch(cI){Tr.error(cI)}e("config",r,i)}(e,t,n,s,r,i)}else if("consent"===r){const[t,n]=a;e("consent",t,n)}else if("get"===r){const[t,n,s]=a;e("get",t,n,s)}else if("set"===r){const[t]=a;e("set",t)}else e(r,...a)}catch(cI){Tr.error(cI)}}}const Or=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Lr(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or,n=arguments.length>2?arguments[2]:void 0;const{appId:s,apiKey:r,measurementId:i}=e.options;if(!s)throw Ir.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Ir.create("no-api-key")}const a=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Fr;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),Ur({appId:s,apiKey:r,measurementId:i},a,o,t)}async function Ur(e,t,n){let{throttleEndTimeMillis:s,backoffCount:r}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Or;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise((n,s)=>{const r=Math.max(t-Date.now(),0),i=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(i),s(Ir.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,s)}catch(cI){if(o)return Tr.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===cI||void 0===cI?void 0:cI.message,"]")),{appId:a,measurementId:o};throw cI}try{const t=await async function(e){const{appId:t,apiKey:n}=e,s={method:"GET",headers:Lr(n)},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(r,s);if(200!==i.status&&304!==i.status){let e="";try{var a;const t=await i.json();null!==(a=t.error)&&void 0!==a&&a.message&&(e=t.error.message)}catch(o){}throw Ir.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(a),t}catch(cI){var l;const s=cI;if(!function(e){if(!(e instanceof Yt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s)){if(i.deleteThrottleMetadata(a),o)return Tr.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===s||void 0===s?void 0:s.message,"]")),{appId:a,measurementId:o};throw cI}const c=503===Number(null===s||void 0===s||null===(l=s.customData)||void 0===l?void 0:l.httpStatus)?an(r,i.intervalMillis,30):an(r,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:r+1};return i.setThrottleMetadata(a,u),Tr.debug("Calling attemptFetch again in ".concat(c," millis")),Ur(e,u,n,i)}}class Fr{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Vr,zr;function Br(e){zr=e}function qr(e){Vr=e}async function Hr(e,t,n,s,r,i,a){var o;const l=Mr(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Tr.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Tr.error(e)),t.push(l);const c=async function(){if(!Gt())return Tr.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Qt()}catch(cI){return Tr.warn(Ir.create("indexeddb-unavailable",{errorInfo:null===cI||void 0===cI?void 0:cI.toString()}).message),!1}return!0}().then(e=>e?s.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(_r)&&n.src.includes(e))return n;return null})(i)||Rr(i,u.measurementId),zr&&(r("consent","default",zr),Br(void 0)),r("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),r("config",u.measurementId,h),Vr&&(r("set",Vr),qr(void 0)),u.measurementId}class Wr{constructor(e){this.app=e}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},Gr=[];const Qr={};let Yr,$r,Xr="dataLayer",Jr="gtag",Zr=!1;function ei(){const e=[];if(Wt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:t});Tr.warn(n.message)}}function ti(e,t,n){ei();const s=e.options.appId;if(!s)throw Ir.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ir.create("no-api-key");Tr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Kr[s])throw Ir.create("already-exists",{id:s});if(!Zr){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Xr);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,s,r){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[s].push(arguments)};return window[r]&&"function"===typeof window[r]&&(i=window[r]),window[r]=Dr(i,e,t,n),{gtagCore:i,wrappedGtag:window[r]}}(Kr,Gr,Qr,Xr,Jr);$r=e,Yr=t,Zr=!0}Kr[s]=Hr(e,Gr,Qr,t,Yr,Xr,n);return new Wr(e)}function ni(e,t,n,s){e=on(e),async function(e,t,n,s,r){if(r&&r.global)e("event",n,s);else{const r=await t;e("event",n,c(c({},s),{},{send_to:r}))}}($r,Kr[e.app.options.appId],t,n,s).catch(e=>Tr.error(e))}const si="@firebase/analytics",ri="0.10.18";ys(new ln(Er,(e,t)=>{let{options:n}=t;return ti(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),ys(new ln("analytics-internal",function(e){try{const t=e.getProvider(Er).getImmediate();return{logEvent:(e,n,s)=>ni(t,e,n,s)}}catch(cI){throw Ir.create("interop-component-reg-failed",{reason:cI})}},"PRIVATE")),Es(si,ri),Es(si,ri,"esm2020");var ii,ai,oi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},li={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var s=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)s[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var i=e.g[3],a=t+(i^n&(r^i))+s[0]+3614090360&4294967295;a=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^i&(n^r))+s[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^r^i)+s[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(n|~i))+s[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(r^(n|~i))+s[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=i+((a=r+(t^(i|~n))+s[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+i&4294967295}function s(e,t){this.h=t;for(var n=[],s=!0,r=e.length-1;0<=r;r--){var i=0|e[r];s&&i==t||(n[r]=i,s=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var s=t-this.blockSize,r=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=s;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){n(this,r),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};var r={};function i(e){return-128<=e&&128>e?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new f(o,o);if(d(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,s=t;0>=s.l(e);)n=v(n),s=v(s);var r=y(n,1),i=y(s,1);for(s=y(s,2),n=y(n,2);!u(s);){var c=i.add(s);0>=c.l(e)&&(r=r.add(n),i=c),s=y(s,1),n=y(n,1)}return t=p(e,r.j(t)),new f(r,t)}for(r=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=s)).j(t);u(i)&&(i=l),r=r.add(i),e=p(e,c)}return new f(r,e)}function v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.i(n);e+=(0<=s?s:4294967296+s)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,s="";;){var r=g(n,t).g,i=((0<(n=p(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=r))return i+s;for(;6>i.length;)i="0"+i;s=i+s}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var l=this.i(r)>>>16,p=65535&this.i(r),f=e.i(i)>>>16,g=65535&e.i(i);n[2*r+2*i]+=p*g,m(n,2*r+2*i),n[2*r+2*i+1]+=l*g,m(n,2*r+2*i+1),n[2*r+2*i+1]+=p*f,m(n,2*r+2*i+1),n[2*r+2*i+2]+=l*f,m(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ai=li.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=a,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=a(Math.pow(n,8)),r=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),r=r.j(l).add(a(c))):r=(r=r.j(s)).add(a(c))}return r},ii=li.Integer=s}).apply("undefined"!==typeof oi?oi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ci,ui,di,hi,pi,mi,fi,gi,vi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yi={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vi&&vi];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,s){if(s)e:{var r=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in r))break e;r=r[a]}(s=s(i=r[e=e[e.length-1]]))!=i&&null!=s&&t(r,e,{configurable:!0,writable:!0,value:s})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,r={next:function(){if(!s&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return s=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e,t){return t})}});var s=s||{},r=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,s),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,s=t.length||0;e.length=n+s;for(let r=0;r<s;r++)e[n+r]=t[r]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=f().indexOf("Gecko")&&!(-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge"))&&!(-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE"))&&-1==f().indexOf("Edge");function y(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,s;for(let r=1;r<arguments.length;r++){for(n in s=arguments[r],s)e[n]=s[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){r.setTimeout(()=>{throw e},0)}function N(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new C,e=>e.reset());class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,_=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=r.Promise.resolve(void 0);E=()=>{e.then(A)}};var A=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(n){k(n)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var r=!0;break e}catch(i){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,s,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ha=r,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var s,r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,s){for(var r=0;r<e.length;++r){var i=e[r];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==s)return r}return-1}z.prototype.add=function(e,t,n,s,r){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=q(e,t,s,r);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,i,!!s,r)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,s,r){if(s&&s.once)return Q(e,t,n,s,r);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,s,r);return null}return n=te(n),e&&e[M]?e.K(t,n,a(s)?!!s.capture:!!s,r):G(e,t,n,!1,s,r)}function G(e,t,n,s,r,i){if(!t)throw Error("Invalid event type");var o=a(r)?!!r.capture:!!r,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,s,o,i)).proxy)return n;if(s=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)D||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),s,r);else if(e.attachEvent)e.attachEvent(X(t.toString()),s);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(s)}return n}function Q(e,t,n,s,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,s,r);return null}return n=te(n),e&&e[M]?e.L(t,n,a(s)?!!s.capture:!!s,r):G(e,t,n,!0,s,r)}function Y(e,t,n,s,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,s,r);else s=a(s)?!!s.capture:!!s,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,s,r))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,s,r)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(X(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,s=e.ha||e.src;e.fa&&$(e),e=n.call(s,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function se(e,t){var n,s=e.F;if(s)for(n=[];s;s=s.F)n.push(s);if(e=e.M,s=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var r=t;w(t=new R(s,e),r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];r=re(a,s,!0,t)&&r}if(r=re(a=t.g=e,s,!0,t)&&r,r=re(a,s,!1,t)&&r,n)for(i=0;i<n.length;i++)r=re(a=t.g=n[i],s,!1,t)&&r}function re(e,t,n,s){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),r=!1!==o.call(l,s)&&r}}return r&&!s.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,s){Y(this,e,t,n,s)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)V(n[s]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)},ne.prototype.L=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=r.JSON.stringify,he=r.JSON.parse,pe=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function me(){}function fe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function xe(){R.call(this,"c")}d(ye,R),d(xe,R);var be={},we=null;function je(){return we=we||new ne}function ke(e){R.call(this,be.La,e)}function Ne(e){const t=je();se(t,new ke(t))}function Se(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function Ce(e){const t=je();se(t,new Se(t,e))}function Ee(e,t){R.call(this,be.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){e()},t)}function Te(){this.g=!0}function Ie(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<r.length;a++)r[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(s?" "+s:"")})}be.La="serverreachability",d(ke,R),be.STAT_EVENT="statevent",d(Se,R),be.Ma="timingevent",d(Ee,R),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,s){this.j=e,this.i=t,this.l=n,this.R=s||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,me),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,s=e.R;Array.isArray(s)||(s=[String(s)]),St(n.i,"t",s),e.C=0,n=e.j.J,e.h=new Le,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,s=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ce[0]=r.toString()),r=ce);for(var i=0;i<r.length;i++){var a=K(n,r[i],s||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,s,r,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,s=t.indexOf("\n",n);return-1==s?Ue:(n=Number(t.substring(n,s)),isNaN(n)?Me:(s+=1)+n>t.length?Ue:(t=t.slice(s,s+n),e.C=s+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function We(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var s=n.Da.g.parse(t)}catch(u){s=null}if(Array.isArray(s)&&3==s.length){var r=s;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}sn(n),Ce(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(s=1.5*u,n.L=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=s.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(s.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(s.ya=e,ut(s.I,s.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((s=n).qa=hn(s,s.J?s.ia:null,s.W),a.K){tt(s.h,a);var o=a,l=s.L;l&&(o.I=l),o.B&&(We(o),qe(o)),s.g=a}else nn(s);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ne(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var s=Kt(this.g);e="";var i=s.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new r.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:!(a&&t==i-1)});s.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,s,r,i,a){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ge(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ue){4==h&&(this.s=4,Ce(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ce(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,Ce(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<e.length;s++){if(m(e[s]))continue;var n=j(e[s]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[r]||[];t[r]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ge(this),Ke(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),Ce(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}(e),s=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}for(s in t=[],n=0,e)t[n++]=e[s];return t}(e),r=s.length,a=0;a<r;a++)t.call(void 0,s[a],n&&n[a],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(rt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),St(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,xt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,bt)),e.join("")};var ft,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,xt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),r=null;if(0<=s){var i=e[n].substring(0,s);r=e[n].substring(s+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){jt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return jt(e),t=Ct(e,t),e.g.has(t)}function St(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,s,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),s(n)}catch(i){}}function _t(){this.g=new pe}function Tt(e,t,n){const s=n||"";try{st(e,function(e,n){let r=e;a(e)&&(r=de(e)),t.push(s+n+"="+encodeURIComponent(r))})}catch(cI){throw t.push(s+"type="+encodeURIComponent("_badmap")),cI}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){jt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){jt(this),this.g.forEach(function(n,s){n.forEach(function(n){e.call(t,n,s,this)},this)},this)},e.na=function(){jt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const r=e[s];for(let e=0;e<r.length;e++)n.push(t[s])}return n},e.V=function(e){jt(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return jt(this),this.i=null,Nt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const i=encodeURIComponent(String(s)),a=this.V(s);for(s=0;s<a.length;s++){var r=i;""!==a[s]&&(r+="="+encodeURIComponent(String(a[s]))),e.push(r)}}return this.i=e.join("&")},d(It,me),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(ft={},function(){return ft}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof s&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(se(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===s){var a=String(e.D).match(rt)[1]||null;!a&&r.self&&r.self.location&&(a=r.self.location.protocol.slice(0,-1)),i=!Ut.test(a?a.toLowerCase():"")}n=i}if(n)se(e,"complete"),se(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||se(e,"ready");try{n.onreadystatechange=s}catch(cI){}}}function Ht(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(s){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function $t(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){$t(e),e.u&&(r.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||I(),_||(E(),_=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const s=at(e.I);ut(s,"SID",e.K),ut(s,"RID",n),ut(s,"AID",e.T),en(e,s),e.m&&e.o&&Lt(s,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,s,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&st({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var s=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=r[o].g;const l=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),a=!1;else try{Tt(l,e,"req"+n+"_")}catch(i){s&&s(l)}}if(a){s=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,s}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||I(),_||(E(),_=!0),T.add(t,e),e.v=0}}function sn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var s=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),s=1}if(0!=e.G)if(t.o)if(1==s){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;se(s=je(),new Ee(s,n)),Jt(e)}else nn(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==s&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==s&&sn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),s=e.Xa;const t=!s;s=new it(s||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||ot(s,"https"),dt(s),t?function(e,t){const n=new Te;if(r.Image){const s=new Image;s.onload=u(Et,n,"TestLoadImage: loaded",!0,t,s),s.onerror=u(Et,n,"TestLoadImage: error",!1,t,s),s.onabort=u(Et,n,"TestLoadImage: abort",!1,t,s),s.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,s),r.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}(s.toString(),n):function(e,t){new Te;const n=new AbortController,s=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(s),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(s),Et(0,0,!1,t)})}(s.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var s=n instanceof it?at(n):new it(n);if(""!=s.g)t&&(s.g=t+"."+s.g),lt(s,s.s);else{var i=r.location;s=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);s&&ot(a,s),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),s=a}return n=e.D,t=e.ya,n&&t&&ut(s,n,t),ut(s,"VER",e.la),en(e,s),s}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function fn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){xe.call(this),this.status=1}function xn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?fe(this.o):fe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else{if("function"!==typeof s.keys||"function"!==typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const e of s.keys())n.set(e,s.get(e))}s=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(ft){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ft){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,s){Ce(0),this.W=e,this.H=t||{},n&&void 0!==s&&(this.H.OSID=n,this.H.OAID=s),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=x(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(r.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var s=this.i[n];if(void 0===(s="__data__"in s.map&&"string"===typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(t+=s)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,r,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,r),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),r.T=!0,Fe(r,n,null)):Fe(r,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),$t(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),sn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,xe),d(xn,mn),xn.prototype.ua=function(){se(this.g,"a")},xn.prototype.ta=function(e){se(this.g,new vn(e))},xn.prototype.sa=function(e){se(this.g,new yn)},xn.prototype.ra=function(){se(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,gi=yi.createWebChannelTransport=function(){return new fn},fi=yi.getStatEventTarget=function(){return je()},mi=yi.Event=be,pi=yi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,hi=yi.ErrorCode=Pe,Re.COMPLETE="complete",di=yi.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ui=yi.WebChannel=ge,yi.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,ci=yi.XhrIo=Mt}).apply("undefined"!==typeof vi?vi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const xi="@firebase/firestore",bi="4.9.0";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let ji="12.0.0";const ki=new yn("@firebase/firestore");function Ni(){return ki.logLevel}function Si(e){if(ki.logLevel<=pn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(_i);ki.debug("Firestore (".concat(ji,"): ").concat(e),...r)}}function Ci(e){if(ki.logLevel<=pn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(_i);ki.error("Firestore (".concat(ji,"): ").concat(e),...r)}}function Ei(e){if(ki.logLevel<=pn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(_i);ki.warn("Firestore (".concat(ji,"): ").concat(e),...r)}}function _i(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ti(e,t,n){let s="Unexpected state";"string"==typeof t?s=t:n=t,Ii(e,s,n)}function Ii(e,t,n){let s="FIRESTORE (".concat(ji,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{s+=" CONTEXT: "+JSON.stringify(n)}catch(e){s+=" CONTEXT: "+n}throw Ci(s),new Error(s)}function Ai(e,t,n,s){let r="Unexpected state";"string"==typeof n?r=n:s=n,e||Ii(t,r,s)}function Pi(e,t){return e}const Ri={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Di extends Yt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Li{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Mi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class Ui{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fi{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ai(void 0===this.o,42304);let n=this.i;const s=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Oi,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await s(this.currentUser)})},a=e=>{Si("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Si("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Oi)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Si("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ai("string"==typeof t.accessToken,31837,{l:t}),new Li(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ai(null===e||"string"==typeof e,2055,{h:e}),new wi(e)}}class Vi{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zi{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Vi(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qi{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ai(void 0===this.o,3512);const n=e=>{null!=e.error&&Si("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Si("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const s=e=>{Si("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>s(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?s(e):Si("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bi(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ai("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Bi(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Hi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class Wi{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Hi(40);for(let s=0;s<n.length;++s)t.length<20&&n[s]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[s]%62))}return t}}function Ki(e,t){return e<t?-1:e>t?1:0}function Gi(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const n=e.charAt(s),r=t.charAt(s);if(n!==r)return $i(n)===$i(r)?Ki(n,r):$i(n)?1:-1}return Ki(e.length,t.length)}const Qi=55296,Yi=57343;function $i(e){const t=e.charCodeAt(0);return t>=Qi&&t<=Yi}function Xi(e,t,n){return e.length===t.length&&e.every((e,s)=>n(e,t[s]))}const Ji="__name__";class Zi{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ti(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ti(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const n=Zi.compareSegments(e.get(s),t.get(s));if(0!==n)return n}return Ki(e.length,t.length)}static compareSegments(e,t){const n=Zi.isNumericId(e),s=Zi.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?Zi.extractNumericId(e).compare(Zi.extractNumericId(t)):Gi(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ii.fromString(e.substring(4,e.length-2))}}class ea extends Zi{construct(e,t,n){return new ea(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n){if(r.indexOf("//")>=0)throw new Di(Ri.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter(e=>e.length>0))}return new ea(e)}static emptyPath(){return new ea([])}}const ta=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class na extends Zi{construct(e,t,n){return new na(e,t,n)}static isValidIdentifier(e){return ta.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),na.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ji}static keyField(){return new na([Ji])}static fromServerFormat(e){const t=[];let n="",s=0;const r=()=>{if(0===n.length)throw new Di(Ri.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;s<e.length;){const t=e[s];if("\\"===t){if(s+1===e.length)throw new Di(Ri.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[s+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Di(Ri.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,s+=2}else"`"===t?(i=!i,s++):"."!==t||i?(n+=t,s++):(r(),s++)}if(r(),i)throw new Di(Ri.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new na(t)}static emptyPath(){return new na([])}}class sa{constructor(e){this.path=e}static fromPath(e){return new sa(ea.fromString(e))}static fromName(e){return new sa(ea.fromString(e).popFirst(5))}static empty(){return new sa(ea.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ea.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ea.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sa(new ea(e.slice()))}}function ra(e,t,n){if(!n)throw new Di(Ri.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ia(e){if(!sa.isDocumentKey(e))throw new Di(Ri.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aa(e){if(sa.isDocumentKey(e))throw new Di(Ri.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oa(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function la(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ti(12329,{type:typeof e})}function ca(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Di(Ri.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=la(e);throw new Di(Ri.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ua(e,t){if(t<=0)throw new Di(Ri.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function da(e,t){const n={typeString:e};return t&&(n.value=t),n}function ha(e,t){if(!oa(e))throw new Di(Ri.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const r=t[s].typeString,i="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n="JSON missing required field: '".concat(s,"'");break}const a=e[s];if(r&&typeof a!==r){n="JSON field '".concat(s,"' must be a ").concat(r,".");break}if(void 0!==i&&a!==i.value){n="Expected '".concat(s,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Di(Ri.INVALID_ARGUMENT,n);return!0}const pa=-62135596800,ma=1e6;class fa{static now(){return fa.fromMillis(Date.now())}static fromDate(e){return fa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ma);return new fa(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Di(Ri.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Di(Ri.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pa)throw new Di(Ri.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Di(Ri.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ma}_compareTo(e){return this.seconds===e.seconds?Ki(this.nanoseconds,e.nanoseconds):Ki(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fa._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ha(e,fa._jsonSchema))return new fa(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pa;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fa._jsonSchemaVersion="firestore/timestamp/1.0",fa._jsonSchema={type:da("string",fa._jsonSchemaVersion),seconds:da("number"),nanoseconds:da("number")};class ga{static fromTimestamp(e){return new ga(e)}static min(){return new ga(new fa(0,0))}static max(){return new ga(new fa(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const va=-1;class ya{constructor(e,t,n,s){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=s}}ya.UNKNOWN_ID=-1;function xa(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=ga.fromTimestamp(1e9===s?new fa(n+1,0):new fa(n,s));return new wa(r,sa.empty(),t)}function ba(e){return new wa(e.readTime,e.key,va)}class wa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new wa(ga.min(),sa.empty(),va)}static max(){return new wa(ga.max(),sa.empty(),va)}}function ja(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=sa.comparator(e.documentKey,t.documentKey),0!==n?n:Ki(e.largestBatchId,t.largestBatchId))}const ka="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Na{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Sa(e){if(e.code!==Ri.FAILED_PRECONDITION||e.message!==ka)throw e;Si("LocalStore","Unexpectedly lost primary lease")}class Ca{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ti(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ca((n,s)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,s)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ca?t:Ca.resolve(t)}catch(e){return Ca.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ca.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ca.reject(t)}static resolve(e){return new Ca((t,n)=>{t(e)})}static reject(e){return new Ca((t,n)=>{n(e)})}static waitFor(e){return new Ca((t,n)=>{let s=0,r=0,i=!1;e.forEach(e=>{++s,e.next(()=>{++r,i&&r===s&&t()},e=>n(e))}),i=!0,r===s&&t()})}static or(e){let t=Ca.resolve(!1);for(const n of e)t=t.next(e=>e?Ca.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,s)=>{n.push(t.call(this,e,s))}),this.waitFor(n)}static mapArray(e,t){return new Ca((n,s)=>{const r=e.length,i=new Array(r);let a=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===r&&n(i)},e=>s(e))}})}static doWhile(e,t){return new Ca((n,s)=>{const r=()=>{!0===e()?t().next(()=>{r()},s):n()};r()})}}function Ea(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _a(e){return"IndexedDbTransactionError"===e.name}class Ta{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ta.ce=-1;const Ia=-1;function Aa(e){return null==e}function Pa(e){return 0===e&&1/e==-1/0}function Ra(e){return"number"==typeof e&&Number.isInteger(e)&&!Pa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Da="\x01";function Oa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ma(t)),t=La(e.get(n),t);return Ma(t)}function La(e,t){let n=t;const s=e.length;for(let r=0;r<s;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case Da:n+="\x01\x11";break;default:n+=t}}return n}function Ma(e){return e+Da+"\x01"}const Ua="remoteDocuments",Fa="owner",Va="mutationQueues",za="mutations";const Ba="documentMutations",qa="remoteDocumentsV14",Ha="remoteDocumentGlobal",Wa="targets",Ka="targetDocuments",Ga="targetGlobal",Qa="collectionParents",Ya="clientMetadata",$a="bundles",Xa="namedQueries",Ja="indexConfiguration",Za="indexState",eo="indexEntries",to="documentOverlays",no="globals",so=[Va,za,Ba,Ua,Wa,Fa,Ga,Ka,Ya,Ha,Qa,$a,Xa],ro=[Va,za,Ba,qa,Wa,Fa,Ga,Ka,Ya,Ha,Qa,$a,Xa,to],io=ro,ao=[...io,Ja,Za,eo];function oo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function co(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class uo{constructor(e,t){this.comparator=e,this.root=t||po.EMPTY}insert(e,t){return new uo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,po.BLACK,null,null))}remove(e){return new uo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,po.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ho(this.root,e,this.comparator,!0)}}class ho{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class po{constructor(e,t,n,s,r){this.key=e,this.value=t,this.color=null!=n?n:po.RED,this.left=null!=s?s:po.EMPTY,this.right=null!=r?r:po.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,r){return new po(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=s?s:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const r=n(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,n),null):0===r?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return po.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return po.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,po.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,po.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ti(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ti(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ti(27949);return e+(this.isRed()?0:1)}}po.EMPTY=null,po.RED=!0,po.BLACK=!1,po.EMPTY=new class{constructor(){this.size=0}get key(){throw Ti(57766)}get value(){throw Ti(16141)}get color(){throw Ti(16727)}get left(){throw Ti(29726)}get right(){throw Ti(36894)}copy(e,t,n,s,r){return this}insert(e,t,n){return new po(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mo{constructor(e){this.comparator=e,this.data=new uo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fo(this.data.getIterator())}getIteratorFrom(e){return new fo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof mo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(e,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mo(this.comparator);return t.data=e,t}}class fo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class go{constructor(e){this.fields=e,e.sort(na.comparator)}static empty(){return new go([])}unionWith(e){let t=new mo(na.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class vo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vo("Invalid base64 string: "+e):e}}(e);return new yo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new yo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ki(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yo.EMPTY_BYTE_STRING=new yo("");const xo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(e){if(Ai(!!e,39018),"string"==typeof e){let t=0;const n=xo.exec(e);if(Ai(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:wo(e.seconds),nanos:wo(e.nanos)}}function wo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jo(e){return"string"==typeof e?yo.fromBase64String(e):yo.fromUint8Array(e)}const ko="server_timestamp",No="__type__",So="__previous_value__",Co="__local_write_time__";function Eo(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[No])||void 0===t?void 0:t.stringValue)===ko}function _o(e){const t=e.mapValue.fields[So];return Eo(t)?_o(t):t}function To(e){const t=bo(e.mapValue.fields[Co].timestampValue);return new fa(t.seconds,t.nanos)}class Io{constructor(e,t,n,s,r,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Ao="(default)";class Po{constructor(e,t){this.projectId=e,this.database=t||Ao}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===Ao}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const Ro="__type__",Do="__max__",Oo={mapValue:{fields:{__type__:{stringValue:Do}}}},Lo="__vector__",Mo="value";function Uo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Eo(e)?4:tl(e)?9007199254740991:Zo(e)?10:11:Ti(28295,{value:e})}function Fo(e,t){if(e===t)return!0;const n=Uo(e);if(n!==Uo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return To(e).isEqual(To(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=bo(e.timestampValue),s=bo(t.timestampValue);return n.seconds===s.seconds&&n.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jo(e.bytesValue).isEqual(jo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wo(e.geoPointValue.latitude)===wo(t.geoPointValue.latitude)&&wo(e.geoPointValue.longitude)===wo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wo(e.integerValue)===wo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wo(e.doubleValue),s=wo(t.doubleValue);return n===s?Pa(n)===Pa(s):isNaN(n)&&isNaN(s)}return!1}(e,t);case 9:return Xi(e.arrayValue.values||[],t.arrayValue.values||[],Fo);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},s=t.mapValue.fields||{};if(oo(n)!==oo(s))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===s[r]||!Fo(n[r],s[r])))return!1;return!0}(e,t);default:return Ti(52216,{left:e})}}function Vo(e,t){return void 0!==(e.values||[]).find(e=>Fo(e,t))}function zo(e,t){if(e===t)return 0;const n=Uo(e),s=Uo(t);if(n!==s)return Ki(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ki(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wo(e.integerValue||e.doubleValue),s=wo(t.integerValue||t.doubleValue);return n<s?-1:n>s?1:n===s?0:isNaN(n)?isNaN(s)?0:-1:1}(e,t);case 3:return Bo(e.timestampValue,t.timestampValue);case 4:return Bo(To(e),To(t));case 5:return Gi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jo(e),s=jo(t);return n.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),s=t.split("/");for(let r=0;r<n.length&&r<s.length;r++){const e=Ki(n[r],s[r]);if(0!==e)return e}return Ki(n.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ki(wo(e.latitude),wo(t.latitude));return 0!==n?n:Ki(wo(e.longitude),wo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qo(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,s,r,i){const a=e.fields||{},o=t.fields||{},l=null===(n=a[Mo])||void 0===n?void 0:n.arrayValue,c=null===(s=o[Mo])||void 0===s?void 0:s.arrayValue,u=Ki((null===l||void 0===l||null===(r=l.values)||void 0===r?void 0:r.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:qo(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Oo.mapValue&&t===Oo.mapValue)return 0;if(e===Oo.mapValue)return 1;if(t===Oo.mapValue)return-1;const n=e.fields||{},s=Object.keys(n),r=t.fields||{},i=Object.keys(r);s.sort(),i.sort();for(let a=0;a<s.length&&a<i.length;++a){const e=Gi(s[a],i[a]);if(0!==e)return e;const t=zo(n[s[a]],r[i[a]]);if(0!==t)return t}return Ki(s.length,i.length)}(e.mapValue,t.mapValue);default:throw Ti(23264,{he:n})}}function Bo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ki(e,t);const n=bo(e),s=bo(t),r=Ki(n.seconds,s.seconds);return 0!==r?r:Ki(n.nanos,s.nanos)}function qo(e,t){const n=e.values||[],s=t.values||[];for(let r=0;r<n.length&&r<s.length;++r){const e=zo(n[r],s[r]);if(e)return e}return Ki(n.length,s.length)}function Ho(e){return Wo(e)}function Wo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=bo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return jo(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return sa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const s of e.values||[])n?n=!1:t+=",",t+=Wo(s);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const r of t)s?s=!1:n+=",",n+="".concat(r,":").concat(Wo(e.fields[r]));return n+"}"}(e.mapValue):Ti(61005,{value:e})}function Ko(e){switch(Uo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_o(e);return t?16+Ko(t):16;case 5:return 2*e.stringValue.length;case 6:return jo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ko(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return lo(e.fields,(e,n)=>{t+=e.length+Ko(n)}),t}(e.mapValue);default:throw Ti(13486,{value:e})}}function Go(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qo(e){return!!e&&"integerValue"in e}function Yo(e){return!!e&&"arrayValue"in e}function $o(e){return!!e&&"nullValue"in e}function Xo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jo(e){return!!e&&"mapValue"in e}function Zo(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ro])||void 0===t?void 0:t.stringValue)===Lo}function el(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lo(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=el(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=el(e.arrayValue.values[n]);return t}return c({},e)}function tl(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Do}class nl{constructor(e){this.value=e}static empty(){return new nl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Jo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(t)}setAll(e){let t=na.emptyPath(),n={},s=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,s),n={},s=[],t=r.popLast()}e?n[r.lastSegment()]=el(e):s.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,s)}delete(e){const t=this.field(e.popLast());Jo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Jo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){lo(t,(t,n)=>e[t]=n);for(const s of n)delete e[s]}clone(){return new nl(el(this.value))}}function sl(e){const t=[];return lo(e.fields,(e,n)=>{const s=new na([e]);if(Jo(n)){const e=sl(n.mapValue).fields;if(0===e.length)t.push(s);else for(const n of e)t.push(s.child(n))}else t.push(s)}),new go(t)}class rl{constructor(e,t,n,s,r,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new rl(e,0,ga.min(),ga.min(),ga.min(),nl.empty(),0)}static newFoundDocument(e,t,n,s){return new rl(e,1,t,ga.min(),n,s,0)}static newNoDocument(e,t){return new rl(e,2,t,ga.min(),ga.min(),nl.empty(),0)}static newUnknownDocument(e,t){return new rl(e,3,t,ga.min(),ga.min(),nl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ga.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ga.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class il{constructor(e,t){this.position=e,this.inclusive=t}}function al(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],a=e.position[r];if(s=i.field.isKeyField()?sa.comparator(sa.fromName(a.referenceValue),n.key):zo(a,n.data.field(i.field)),"desc"===i.dir&&(s*=-1),0!==s)break}return s}function ol(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fo(e.position[n],t.position[n]))return!1;return!0}class ll{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function cl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ul{}class dl extends ul{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new xl(e,t,n):"array-contains"===t?new kl(e,n):"in"===t?new Nl(e,n):"not-in"===t?new Sl(e,n):"array-contains-any"===t?new Cl(e,n):new dl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new bl(e,n):new wl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(zo(t,this.value)):null!==t&&Uo(this.value)===Uo(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ti(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hl extends ul{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hl(e,t)}matches(e){return pl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pl(e){return"and"===e.op}function ml(e){return fl(e)&&pl(e)}function fl(e){for(const t of e.filters)if(t instanceof hl)return!1;return!0}function gl(e){if(e instanceof dl)return e.field.canonicalString()+e.op.toString()+Ho(e.value);if(ml(e))return e.filters.map(e=>gl(e)).join(",");{const t=e.filters.map(e=>gl(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function vl(e,t){return e instanceof dl?function(e,t){return t instanceof dl&&e.op===t.op&&e.field.isEqual(t.field)&&Fo(e.value,t.value)}(e,t):e instanceof hl?function(e,t){return t instanceof hl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,s)=>e&&vl(n,t.filters[s]),!0)}(e,t):void Ti(19439)}function yl(e){return e instanceof dl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ho(e.value))}(e):e instanceof hl?function(e){return e.op.toString()+" {"+e.getFilters().map(yl).join(" ,")+"}"}(e):"Filter"}class xl extends dl{constructor(e,t,n){super(e,t,n),this.key=sa.fromName(n.referenceValue)}matches(e){const t=sa.comparator(e.key,this.key);return this.matchesComparison(t)}}class bl extends dl{constructor(e,t){super(e,"in",t),this.keys=jl("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wl extends dl{constructor(e,t){super(e,"not-in",t),this.keys=jl("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>sa.fromName(e.referenceValue))}class kl extends dl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yo(t)&&Vo(t.arrayValue,this.value)}}class Nl extends dl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vo(this.value.arrayValue,t)}}class Sl extends dl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Vo(this.value.arrayValue,t)}}class Cl extends dl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Vo(this.value.arrayValue,e))}}class El{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=r,this.startAt=i,this.endAt=a,this.Te=null}}function _l(e){return new El(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Tl(e){const t=Pi(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>gl(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Aa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ho(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ho(e)).join(",")),t.Te=e}return t.Te}function Il(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!cl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ol(e.startAt,t.startAt)&&ol(e.endAt,t.endAt)}function Al(e){return sa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Pl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=r,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Rl(e,t,n,s,r,i,a,o){return new Pl(e,t,n,s,r,i,a,o)}function Dl(e){return new Pl(e)}function Ol(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ll(e){return null!==e.collectionGroup}function Ml(e){const t=Pi(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){let t=new mo(na.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);s.forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new ll(s,n))}),e.has(na.keyField().canonicalString())||t.Ie.push(new ll(na.keyField(),n))}return t.Ie}function Ul(e){const t=Pi(e);return t.Ee||(t.Ee=Fl(t,Ml(e))),t.Ee}function Fl(e,t){if("F"===e.limitType)return _l(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ll(e.field,t)});const n=e.endAt?new il(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new il(e.startAt.position,e.startAt.inclusive):null;return _l(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Vl(e,t){const n=e.filters.concat([t]);return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zl(e,t,n){return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bl(e,t){return Il(Ul(e),Ul(t))&&e.limitType===t.limitType}function ql(e){return"".concat(Tl(Ul(e)),"|lt:").concat(e.limitType)}function Hl(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>yl(e)).join(", "),"]")),Aa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ho(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ho(e)).join(",")),"Target(".concat(t,")")}(Ul(e)),"; limitType=").concat(e.limitType,")")}function Wl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ml(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const s=al(e,t,n);return e.inclusive?s<=0:s<0}(e.startAt,Ml(e),t))&&!(e.endAt&&!function(e,t,n){const s=al(e,t,n);return e.inclusive?s>=0:s>0}(e.endAt,Ml(e),t))}(e,t)}function Kl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gl(e){return(t,n)=>{let s=!1;for(const r of Ml(e)){const e=Ql(r,t,n);if(0!==e)return e;s=s||r.field.isKeyField()}return 0}}function Ql(e,t,n){const s=e.field.isKeyField()?sa.comparator(t.key,n.key):function(e,t,n){const s=t.data.field(e),r=n.data.field(e);return null!==s&&null!==r?zo(s,r):Ti(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Ti(19790,{direction:e.dir})}}class Yl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[s,r]of n)if(this.equalsFn(s,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return 1===n.length?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(t,n)=>{for(const[s,r]of n)e(s,r)})}isEmpty(){return co(this.inner)}size(){return this.innerSize}}const $l=new uo(sa.comparator);function Xl(){return $l}const Jl=new uo(sa.comparator);function Zl(){let e=Jl;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n)e=e.insert(r.key,r);return e}function ec(e){let t=Jl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function tc(){return sc()}function nc(){return sc()}function sc(){return new Yl(e=>e.toString(),(e,t)=>e.isEqual(t))}const rc=new uo(sa.comparator),ic=new mo(sa.comparator);function ac(){let e=ic;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n)e=e.add(r);return e}const oc=new mo(Ki);function lc(){return oc}function cc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(t)?"-0":t}}function uc(e){return{integerValue:""+e}}function dc(e,t){return Ra(t)?uc(t):cc(e,t)}class hc{constructor(){this._=void 0}}function pc(e,t,n){return e instanceof gc?function(e,t){const n={fields:{[No]:{stringValue:ko},[Co]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Eo(t)&&(t=_o(t)),t&&(n.fields[So]=t),{mapValue:n}}(n,t):e instanceof vc?yc(e,t):e instanceof xc?bc(e,t):function(e,t){const n=fc(e,t),s=jc(n)+jc(e.Ae);return Qo(n)&&Qo(e.Ae)?uc(s):cc(e.serializer,s)}(e,t)}function mc(e,t,n){return e instanceof vc?yc(e,t):e instanceof xc?bc(e,t):n}function fc(e,t){return e instanceof wc?function(e){return Qo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class gc extends hc{}class vc extends hc{constructor(e){super(),this.elements=e}}function yc(e,t){const n=kc(t);for(const s of e.elements)n.some(e=>Fo(e,s))||n.push(s);return{arrayValue:{values:n}}}class xc extends hc{constructor(e){super(),this.elements=e}}function bc(e,t){let n=kc(t);for(const s of e.elements)n=n.filter(e=>!Fo(e,s));return{arrayValue:{values:n}}}class wc extends hc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jc(e){return wo(e.integerValue||e.doubleValue)}function kc(e){return Yo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Nc{constructor(e,t){this.field=e,this.transform=t}}class Sc{constructor(e,t){this.version=e,this.transformResults=t}}class Cc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cc}static exists(e){return new Cc(void 0,e)}static updateTime(e){return new Cc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _c{}function Tc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Fc(e.key,Cc.none()):new Dc(e.key,e.data,Cc.none());{const n=e.data,s=nl.empty();let r=new mo(na.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?s.delete(e):s.set(e,t),r=r.add(e)}return new Oc(e.key,s,new go(r.toArray()),Cc.none())}}function Ic(e,t,n){e instanceof Dc?function(e,t,n){const s=e.value.clone(),r=Mc(e.fieldTransforms,t,n.transformResults);s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Oc?function(e,t,n){if(!Ec(e.precondition,t))return void t.convertToUnknownDocument(n.version);const s=Mc(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Lc(e)),r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ac(e,t,n,s){return e instanceof Dc?function(e,t,n,s){if(!Ec(e.precondition,t))return n;const r=e.value.clone(),i=Uc(e.fieldTransforms,s,t);return r.setAll(i),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,s):e instanceof Oc?function(e,t,n,s){if(!Ec(e.precondition,t))return n;const r=Uc(e.fieldTransforms,s,t),i=t.data;return i.setAll(Lc(e)),i.setAll(r),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,s):function(e,t,n){return Ec(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pc(e,t){let n=null;for(const s of e.fieldTransforms){const e=t.data.field(s.field),r=fc(s.transform,e||null);null!=r&&(null===n&&(n=nl.empty()),n.set(s.field,r))}return n||null}function Rc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xi(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vc&&t instanceof vc||e instanceof xc&&t instanceof xc?Xi(e.elements,t.elements,Fo):e instanceof wc&&t instanceof wc?Fo(e.Ae,t.Ae):e instanceof gc&&t instanceof gc}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dc extends _c{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oc extends _c{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Lc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Mc(e,t,n){const s=new Map;Ai(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const i=e[r],a=i.transform,o=t.data.field(i.field);s.set(i.field,mc(a,o,n[r]))}return s}function Uc(e,t,n){const s=new Map;for(const r of e){const e=r.transform,i=n.data.field(r.field);s.set(r.field,pc(e,i,t))}return s}class Fc extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vc extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zc{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const t=this.mutations[s];t.key.isEqual(e.key)&&Ic(t,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ac(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ac(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=nc();return this.mutations.forEach(s=>{const r=e.get(s.key),i=r.overlayedDocument;let a=this.applyToLocalView(i,r.mutatedFields);a=t.has(s.key)?null:a;const o=Tc(i,a);null!==o&&n.set(s.key,o),i.isValidDocument()||i.convertToNoDocument(ga.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ac())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(e,t)=>Rc(e,t))&&Xi(this.baseMutations,e.baseMutations,(e,t)=>Rc(e,t))}}class Bc{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Ai(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=rc;const r=e.mutations;for(let i=0;i<r.length;i++)s=s.insert(r[i].key,n[i].version);return new Bc(e,t,n,s)}}class qc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Hc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wc,Kc;function Gc(e){switch(e){case Ri.OK:return Ti(64938);case Ri.CANCELLED:case Ri.UNKNOWN:case Ri.DEADLINE_EXCEEDED:case Ri.RESOURCE_EXHAUSTED:case Ri.INTERNAL:case Ri.UNAVAILABLE:case Ri.UNAUTHENTICATED:return!1;case Ri.INVALID_ARGUMENT:case Ri.NOT_FOUND:case Ri.ALREADY_EXISTS:case Ri.PERMISSION_DENIED:case Ri.FAILED_PRECONDITION:case Ri.ABORTED:case Ri.OUT_OF_RANGE:case Ri.UNIMPLEMENTED:case Ri.DATA_LOSS:return!0;default:return Ti(15467,{code:e})}}function Qc(e){if(void 0===e)return Ci("GRPC error has no .code"),Ri.UNKNOWN;switch(e){case Wc.OK:return Ri.OK;case Wc.CANCELLED:return Ri.CANCELLED;case Wc.UNKNOWN:return Ri.UNKNOWN;case Wc.DEADLINE_EXCEEDED:return Ri.DEADLINE_EXCEEDED;case Wc.RESOURCE_EXHAUSTED:return Ri.RESOURCE_EXHAUSTED;case Wc.INTERNAL:return Ri.INTERNAL;case Wc.UNAVAILABLE:return Ri.UNAVAILABLE;case Wc.UNAUTHENTICATED:return Ri.UNAUTHENTICATED;case Wc.INVALID_ARGUMENT:return Ri.INVALID_ARGUMENT;case Wc.NOT_FOUND:return Ri.NOT_FOUND;case Wc.ALREADY_EXISTS:return Ri.ALREADY_EXISTS;case Wc.PERMISSION_DENIED:return Ri.PERMISSION_DENIED;case Wc.FAILED_PRECONDITION:return Ri.FAILED_PRECONDITION;case Wc.ABORTED:return Ri.ABORTED;case Wc.OUT_OF_RANGE:return Ri.OUT_OF_RANGE;case Wc.UNIMPLEMENTED:return Ri.UNIMPLEMENTED;case Wc.DATA_LOSS:return Ri.DATA_LOSS;default:return Ti(39323,{code:e})}}(Kc=Wc||(Wc={}))[Kc.OK=0]="OK",Kc[Kc.CANCELLED=1]="CANCELLED",Kc[Kc.UNKNOWN=2]="UNKNOWN",Kc[Kc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kc[Kc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kc[Kc.NOT_FOUND=5]="NOT_FOUND",Kc[Kc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kc[Kc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kc[Kc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kc[Kc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kc[Kc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kc[Kc.ABORTED=10]="ABORTED",Kc[Kc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kc[Kc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kc[Kc.INTERNAL=13]="INTERNAL",Kc[Kc.UNAVAILABLE=14]="UNAVAILABLE",Kc[Kc.DATA_LOSS=15]="DATA_LOSS";let Yc=null;function $c(){return new TextEncoder}const Xc=new ii([4294967295,4294967295],0);function Jc(e){const t=$c().encode(e),n=new ai;return n.update(t),new Uint8Array(n.digest())}function Zc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ii([n,s],0),new ii([r,i],0)]}class eu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new tu("Invalid padding: ".concat(t));if(n<0)throw new tu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new tu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new tu("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=ii.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(ii.fromNumber(n)));return 1===s.compare(Xc)&&(s=new ii([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Jc(e),[n,s]=Zc(t);for(let r=0;r<this.hashCount;r++){const e=this.ye(n,s,r);if(!this.we(e))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),i=new eu(r,s,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Jc(e),[n,s]=Zc(t);for(let r=0;r<this.hashCount;r++){const e=this.ye(n,s,r);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nu{constructor(e,t,n,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new nu(ga.min(),s,new uo(Ki),Xl(),ac())}}class su{constructor(e,t,n,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new su(n,t,ac(),ac(),ac())}}class ru{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class iu{constructor(e,t){this.targetId=e,this.Ce=t}}class au{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yo.EMPTY_BYTE_STRING,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class ou{constructor(){this.ve=0,this.Fe=uu(),this.Me=yo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ac(),t=ac(),n=ac();return this.Fe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Ti(38017,{changeType:r})}}),new su(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=uu()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ai(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lu{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xl(),this.Je=cu(),this.He=cu(),this.Ye=new uo(Ki)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ti(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(Al(i))if(0===n){const e=new sa(i.path);this.et(t,e,rl.newNoDocument(e,ga.min()))}else Ai(1===n,20013,{expectedCount:n});else{const s=this._t(t);if(s!==n){var r;const n=this.ut(e),i=n?this.ct(n,e,s):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(r=Yc)||void 0===r||r.lt(function(e,t,n,s,r,i,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===r,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===s||void 0===s?void 0:s.mightContain(e))&&void 0!==t&&t}}),u}(s,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:r=0}=t;let i,a;try{i=jo(n).toUint8Array()}catch(e){if(e instanceof vo)return Ei("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new eu(i,s,r)}catch(e){return Ei(e instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach(n=>{const r=this.Ge.ht(),i="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((n,s)=>{const r=this.ot(s);if(r){if(n.current&&Al(r.target)){const t=new sa(r.target.path);this.It(t).has(s)||this.Et(s,t)||this.et(s,t,rl.newNoDocument(t,e))}n.Be&&(t.set(s,n.ke()),n.qe())}});let n=ac();this.He.forEach((e,t)=>{let s=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(s=!1,!1)}),s&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const s=new nu(e,t,this.Ye,this.je,n);return this.je=Xl(),this.Je=cu(),this.He=cu(),this.Ye=new uo(Ki),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ou,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mo(Ki),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mo(Ki),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Si("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ou),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cu(){return new uo(sa.comparator)}function uu(){return new uo(sa.comparator)}const du={asc:"ASCENDING",desc:"DESCENDING"},hu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pu={and:"AND",or:"OR"};class mu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fu(e,t){return e.useProto3Json||Aa(t)?t:{value:t}}function gu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yu(e,t){return gu(e,t.toTimestamp())}function xu(e){return Ai(!!e,49232),ga.fromTimestamp(function(e){const t=bo(e);return new fa(t.seconds,t.nanos)}(e))}function bu(e,t){return wu(e,t).canonicalString()}function wu(e,t){const n=function(e){return new ea(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ju(e){const t=ea.fromString(e);return Ai(Bu(t),10190,{key:t.toString()}),t}function ku(e,t){return bu(e.databaseId,t.path)}function Nu(e,t){const n=ju(t);if(n.get(1)!==e.databaseId.projectId)throw new Di(Ri.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Di(Ri.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sa(_u(n))}function Su(e,t){return bu(e.databaseId,t)}function Cu(e){const t=ju(e);return 4===t.length?ea.emptyPath():_u(t)}function Eu(e){return new ea(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _u(e){return Ai(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Tu(e,t,n){return{name:ku(e,t),fields:n.value.mapValue.fields}}function Iu(e,t){let n;if(t instanceof Dc)n={update:Tu(e,t.key,t.value)};else if(t instanceof Fc)n={delete:ku(e,t.key)};else if(t instanceof Oc)n={update:Tu(e,t.key,t.data),updateMask:zu(t.fieldMask)};else{if(!(t instanceof Vc))return Ti(16599,{Vt:t.type});n={verify:ku(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof gc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wc)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Ti(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ti(27497)}(e,t.precondition)),n}function Au(e,t){return{documents:[Su(e,t.path)]}}function Pu(e,t){const n={structuredQuery:{}},s=t.path;let r;null!==t.collectionGroup?(r=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Su(e,r);const i=function(e){if(0!==e.length)return Vu(hl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Uu(e.field),direction:Ou(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=fu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:r}}function Ru(e){let t=Cu(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ai(1===s,65062);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Du(e);return t instanceof hl&&ml(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new ll(Fu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Aa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new il(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new il(n,t)}(n.endAt)),Rl(t,r,a,i,o,"F",l,c)}function Du(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fu(e.unaryFilter.field);return dl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Fu(e.unaryFilter.field);return dl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fu(e.unaryFilter.field);return dl.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Fu(e.unaryFilter.field);return dl.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ti(61313);default:return Ti(60726)}}(e):void 0!==e.fieldFilter?function(e){return dl.create(Fu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ti(58110);default:return Ti(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hl.create(e.compositeFilter.filters.map(e=>Du(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ti(1026)}}(e.compositeFilter.op))}(e):Ti(30097,{filter:e})}function Ou(e){return du[e]}function Lu(e){return hu[e]}function Mu(e){return pu[e]}function Uu(e){return{fieldPath:e.canonicalString()}}function Fu(e){return na.fromServerFormat(e.fieldPath)}function Vu(e){return e instanceof dl?function(e){if("=="===e.op){if(Xo(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NAN"}};if($o(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xo(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NAN"}};if($o(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(e.field),op:Lu(e.op),value:e.value}}}(e):e instanceof hl?function(e){const t=e.getFilters().map(e=>Vu(e));return 1===t.length?t[0]:{compositeFilter:{op:Mu(e.op),filters:t}}}(e):Ti(54877,{filter:e})}function zu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Bu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class qu{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ga.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ga.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yo.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new qu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hu{constructor(e){this.yt=e}}function Wu(e){const t=Ru({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zl(t,t.limit,"L"):t}class Ku{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(wo(e.integerValue));else if("doubleValue"in e){const n=wo(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Pa(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=bo(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(jo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?tl(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Zo(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ti(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const s of Object.keys(n))this.Ot(s,t),this.Ct(n[s],t)}kt(e,t){var n;const s=e.fields||{};this.Ft(t,53);const r=Mo,i=(null===(n=s[r].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(wo(i)),this.Ot(r,t),this.Ct(s[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const s of n)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),sa.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ku.Kt=new Ku;class Gu{constructor(){this.Cn=new Qu}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ca.resolve()}getCollectionParents(e,t){return Ca.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ca.resolve()}deleteFieldIndex(e,t){return Ca.resolve()}deleteAllFieldIndexes(e){return Ca.resolve()}createTargetIndexes(e,t){return Ca.resolve()}getDocumentsMatchingTarget(e,t){return Ca.resolve(null)}getIndexType(e,t){return Ca.resolve(0)}getFieldIndexes(e,t){return Ca.resolve([])}getNextCollectionGroupToUpdate(e){return Ca.resolve(null)}getMinOffset(e,t){return Ca.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,t){return Ca.resolve(wa.min())}updateCollectionGroup(e,t,n){return Ca.resolve()}updateIndexEntries(e,t){return Ca.resolve()}}class Qu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new mo(ea.comparator),r=!s.has(n);return this.index[t]=s.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new mo(ea.comparator)).toArray()}}new Uint8Array(0);const Yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$u=41943040;class Xu{static withCacheSize(e){return new Xu(e,Xu.DEFAULT_COLLECTION_PERCENTILE,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Xu.DEFAULT_COLLECTION_PERCENTILE=10,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xu.DEFAULT=new Xu($u,Xu.DEFAULT_COLLECTION_PERCENTILE,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xu.DISABLED=new Xu(-1,0,0);class Ju{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ju(0)}static cr(){return new Ju(-1)}}const Zu="LruGarbageCollector",ed=1048576;function td(e,t){let[n,s]=e,[r,i]=t;const a=Ki(n,r);return 0===a?Ki(s,i):a}class nd{constructor(e){this.Ir=e,this.buffer=new mo(td),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();td(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sd{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Si(Zu,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_a(e)?Si(Zu,"Ignoring IndexedDB error during garbage collection: ",e):await Sa(e)}await this.Vr(3e5)})}}class rd{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ca.resolve(Ta.ce);const n=new nd(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Si("LruGarbageCollector","Garbage collection skipped; disabled"),Ca.resolve(Yu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Si("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Yu):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,r,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Si("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),s=this.params.maximumSequenceNumbersToCollect):s=t,i=Date.now(),this.nthSequenceNumber(e,s))).next(s=>(n=s,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(r=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ni()<=pn.DEBUG&&Si("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(s," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ca.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:e})))}}function id(e,t){return new rd(e,t)}class ad{constructor(){this.changes=new Yl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ca.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class od{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ld{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ac(n.mutation,e,go.empty(),fa.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ac()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ac();const s=tc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(e=>{let t=Zl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=tc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ac()))}populateOverlays(e,t,n){const s=[];return n.forEach(e=>{t.has(e)||s.push(e)}),this.documentOverlayCache.getOverlays(e,s).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,s){let r=Xl();const i=sc(),a=sc();return t.forEach((e,t)=>{const a=n.get(t.key);s.has(t.key)&&(void 0===a||a.mutation instanceof Oc)?r=r.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Ac(a.mutation,t,a.mutation.getFieldMask(),fa.now())):i.set(t.key,go.empty())}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new od(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=sc();let s=new uo((e,t)=>e-t),r=ac();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const r of e)r.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||go.empty();a=r.applyToLocalView(i,a),n.set(e,a);const o=(s.get(r.batchId)||ac()).add(e);s=s.insert(r.batchId,o)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const s=a.getNext(),o=s.key,l=s.value,c=nc();l.forEach(e=>{if(!r.has(e)){const s=Tc(t.get(e),n.get(e));null!==s&&c.set(e,s),r=r.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ca.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,s){return function(e){return sa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ll(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(r=>{const i=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-r.size):Ca.resolve(tc());let a=va,o=r;return i.next(t=>Ca.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),r.get(t)?Ca.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,o,t,ac())).next(e=>({batchId:a,changes:ec(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sa(t)).next(e=>{let t=Zl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const r=t.collectionGroup;let i=Zl();return this.indexManager.getCollectionParents(e,r).next(a=>Ca.forEach(a,a=>{const o=function(e,t){return new Pl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n,s).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,s))).next(e=>{r.forEach((t,n)=>{const s=n.getKey();null===e.get(s)&&(e=e.insert(s,rl.newInvalidDocument(s)))});let n=Zl();return e.forEach((e,s)=>{const i=r.get(e);void 0!==i&&Ac(i.mutation,s,go.empty(),fa.now()),Wl(t,s)&&(n=n.insert(e,s))}),n})}}class cd{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ca.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:xu(e.createTime)}}(t)),Ca.resolve()}getNamedQuery(e,t){return Ca.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Wu(e.bundledQuery),readTime:xu(e.readTime)}}(t)),Ca.resolve()}}class ud{constructor(){this.overlays=new uo(sa.comparator),this.qr=new Map}getOverlay(e,t){return Ca.resolve(this.overlays.get(t))}getOverlays(e,t){const n=tc();return Ca.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,s)=>{this.St(e,t,s)}),Ca.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return void 0!==s&&(s.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ca.resolve()}getOverlaysForCollection(e,t,n){const s=tc(),r=t.length+1,i=new sa(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===r&&e.largestBatchId>n&&s.set(e.getKey(),e)}return Ca.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let r=new uo((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=tc(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=tc(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=s)););return Ca.resolve(a)}St(e,t,n){const s=this.overlays.get(n.key);if(null!==s){const e=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qc(t,n));let r=this.qr.get(t);void 0===r&&(r=ac(),this.qr.set(t,r)),this.qr.set(t,r.add(n.key))}}class dd{constructor(){this.sessionToken=yo.EMPTY_BYTE_STRING}getSessionToken(e){return Ca.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ca.resolve()}}class hd{constructor(){this.Qr=new mo(pd.$r),this.Ur=new mo(pd.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new pd(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new pd(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new sa(new ea([])),n=new pd(t,e),s=new pd(t,e+1),r=[];return this.Ur.forEachInRange([n,s],e=>{this.Gr(e),r.push(e.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new sa(new ea([])),n=new pd(t,e),s=new pd(t,e+1);let r=ac();return this.Ur.forEachInRange([n,s],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new pd(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class pd{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return sa.comparator(e.key,t.key)||Ki(e.Yr,t.Yr)}static Kr(e,t){return Ki(e.Yr,t.Yr)||sa.comparator(e.key,t.key)}}class md{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mo(pd.$r)}checkEmpty(e){return Ca.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,s){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new zc(r,t,n,s);this.mutationQueue.push(i);for(const a of s)this.Zr=this.Zr.add(new pd(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ca.resolve(i)}lookupMutationBatch(e,t){return Ca.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),r=s<0?0:s;return Ca.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ca.resolve(0===this.mutationQueue.length?Ia:this.tr-1)}getAllMutationBatches(e){return Ca.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pd(t,0),s=new pd(t,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([n,s],e=>{const t=this.Xr(e.Yr);r.push(t)}),Ca.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mo(Ki);return t.forEach(e=>{const t=new pd(e,0),s=new pd(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,s],e=>{n=n.add(e.Yr)})}),Ca.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let r=n;sa.isDocumentKey(r)||(r=r.child(""));const i=new pd(new sa(r),0);let a=new mo(Ki);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===s&&(a=a.add(e.Yr)),!0)},i),Ca.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ai(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ca.forEach(t.mutations,s=>{const r=new pd(s.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new pd(t,0),s=this.Zr.firstAfterOrEqual(n);return Ca.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ca.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fd{constructor(e){this.ri=e,this.docs=new uo(sa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),r=s?s.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ca.resolve(n?n.document.mutableCopy():rl.newInvalidDocument(t))}getEntries(e,t){let n=Xl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rl.newInvalidDocument(e))}),Ca.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let r=Xl();const i=t.path,a=new sa(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||ja(ba(a),n)<=0||(s.has(a.key)||Wl(t,a))&&(r=r.insert(a.key,a.mutableCopy()))}return Ca.resolve(r)}getAllFromCollectionGroup(e,t,n,s){Ti(9500)}ii(e,t){return Ca.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new gd(this)}getSize(e){return Ca.resolve(this.size)}}class gd extends ad{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)}),Ca.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class vd{constructor(e){this.persistence=e,this.si=new Yl(e=>Tl(e),Il),this.lastRemoteSnapshotVersion=ga.min(),this.highestTargetId=0,this.oi=0,this._i=new hd,this.targetCount=0,this.ai=Ju.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ca.resolve()}getLastRemoteSnapshotVersion(e){return Ca.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ca.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ca.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ca.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ca.resolve()}updateTargetData(e,t){return this.Pr(t),Ca.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ca.resolve()}removeTargets(e,t,n){let s=0;const r=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Ca.waitFor(r).next(()=>s)}getTargetCount(e){return Ca.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ca.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ca.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(t=>{r.push(s.markPotentiallyOrphaned(e,t))}),Ca.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ca.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ca.resolve(n)}containsKey(e,t){return Ca.resolve(this._i.containsKey(t))}}class yd{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ta(0),this.li=!1,this.li=!0,this.hi=new dd,this.referenceDelegate=e(this),this.Pi=new vd(this),this.indexManager=new Gu,this.remoteDocumentCache=function(e){return new fd(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Hu(t),this.Ii=new cd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ud,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new md(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Si("MemoryPersistence","Starting transaction:",e);const s=new xd(this.ci.next());return this.referenceDelegate.Ei(),n(s).next(e=>this.referenceDelegate.di(s).next(()=>e)).toPromise().then(e=>(s.raiseOnCommittedEvent(),e))}Ai(e,t){return Ca.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class xd extends Na{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Ri=new hd,this.Vi=null}static mi(e){return new bd(e)}get fi(){if(this.Vi)return this.Vi;throw Ti(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ca.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ca.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ca.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ca.forEach(this.fi,n=>{const s=sa.fromPath(n);return this.gi(e,s).next(e=>{e||t.removeEntry(s,ga.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ca.or([()=>Ca.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wd{constructor(e,t){this.persistence=e,this.pi=new Yl(e=>Oa(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=id(this,t)}static mi(e,t){return new wd(e,t)}Ei(){}di(e){return Ca.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ca.forEach(this.pi,(n,s)=>this.br(e,n,s).next(e=>e?Ca.resolve():t(s)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ii(e,s=>this.br(e,s,t).next(e=>{e||(n++,r.removeEntry(s,ga.min()))})).next(()=>r.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ca.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ca.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ca.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ca.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ko(e.data.value)),t}br(e,t,n){return Ca.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ca.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jd{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=ac(),s=ac();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new jd(e,t.fromCache,n,s)}}class kd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nd{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Kt()?8:Ea(qt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const r={result:null};return this.ys(e,t).next(e=>{r.result=e}).next(()=>{if(!r.result)return this.ws(e,t,s,n).next(e=>{r.result=e})}).next(()=>{if(r.result)return;const n=new kd;return this.Ss(e,t,n).next(s=>{if(r.result=s,this.Vs)return this.bs(e,t,n,s.size)})}).next(()=>r.result)}bs(e,t,n,s){return n.documentReadCount<this.fs?(Ni()<=pn.DEBUG&&Si("QueryEngine","SDK will not create cache indexes for query:",Hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ca.resolve()):(Ni()<=pn.DEBUG&&Si("QueryEngine","Query:",Hl(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(Ni()<=pn.DEBUG&&Si("QueryEngine","The SDK decides to create cache indexes for query:",Hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ul(t))):Ca.resolve())}ys(e,t){if(Ol(t))return Ca.resolve(null);let n=Ul(t);return this.indexManager.getIndexType(e,n).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=zl(t,null,"F"),n=Ul(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const r=ac(...s);return this.ps.getDocuments(e,r).next(s=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,s);return this.Cs(t,i,r,n.readTime)?this.ys(e,zl(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,s){return Ol(t)||s.isEqual(ga.min())?Ca.resolve(null):this.ps.getDocuments(e,n).next(r=>{const i=this.Ds(t,r);return this.Cs(t,i,n,s)?Ca.resolve(null):(Ni()<=pn.DEBUG&&Si("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hl(t)),this.vs(e,i,t,xa(s,va)).next(e=>e))})}Ds(e,t){let n=new mo(Gl(e));return t.forEach((t,s)=>{Wl(e,s)&&(n=n.add(s))}),n}Cs(e,t,n,s){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(e,t,n){return Ni()<=pn.DEBUG&&Si("QueryEngine","Using full collection scan to execute query:",Hl(t)),this.ps.getDocumentsMatchingQuery(e,t,wa.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Sd="LocalStore";class Cd{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new uo(Ki),this.xs=new Yl(e=>Tl(e),Il),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ld(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Ed(e,t,n,s){return new Cd(e,t,n,s)}async function _d(e,t){const n=Pi(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.mutationQueue.getAllMutationBatches(e).next(r=>(s=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const r=[],i=[];let a=ac();for(const e of s){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:r,addedBatchIds:i}))})})}function Td(e){const t=Pi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Id(e,t,n){let s=ac(),r=ac();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Xl();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),i.isNoDocument()&&i.version.isEqual(ga.min())?(t.removeEntry(n,i.readTime),s=s.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),s=s.insert(n,i)):Si(Sd,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:s,qs:r}})}function Ad(e,t){const n=Pi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ia),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Pd(e,t){const n=Pi(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let s;return n.Pi.getTargetData(e,t).next(r=>r?(s=r,Ca.resolve(s)):n.Pi.allocateTargetId(e).next(r=>(s=new qu(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,s).next(()=>s))))}).then(e=>{const s=n.Ms.get(e.targetId);return(null===s||e.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Rd(e,t,n){const s=Pi(e),r=s.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,e=>s.persistence.referenceDelegate.removeTarget(e,r))}catch(e){if(!_a(e))throw e;Si(Sd,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}s.Ms=s.Ms.remove(t),s.xs.delete(r.target)}function Dd(e,t,n){const s=Pi(e);let r=ga.min(),i=ac();return s.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const s=Pi(e),r=s.xs.get(n);return void 0!==r?Ca.resolve(s.Ms.get(r)):s.Pi.getTargetData(t,n)}(s,e,Ul(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>s.Fs.getDocumentsMatchingQuery(e,t,n?r:ga.min(),n?i:ac())).next(e=>(Od(s,Kl(t),e),{documents:e,Qs:i})))}function Od(e,t,n){let s=e.Os.get(t)||ga.min();n.forEach((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)}),e.Os.set(t,s)}class Ld{constructor(){this.activeTargetIds=lc()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Md{constructor(){this.Mo=new Ld,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ld,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ud{Oo(e){}shutdown(){}}const Fd="ConnectivityMonitor";class Vd{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Si(Fd,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Si(Fd,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zd=null;function Bd(){return null===zd?zd=268435456+Math.round(2147483648*Math.random()):zd++,"0x"+zd.toString(16)}const qd="RestConnection",Hd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wd{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(s),this.Wo=this.databaseId.database===Ao?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(s)}Go(e,t,n,s,r){const i=Bd(),a=this.zo(e,t.toUriEncodedString());Si(qd,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,s,r);const{host:l}=new URL(a),c=Mt(l);return this.Jo(e,a,o,n,c).then(t=>(Si(qd,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw Ei(qd,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,s,r,i){return this.Go(e,t,n,s,r)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ji,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Hd[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Kd{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Gd="WebChannelConnection";class Qd extends Wd{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,r){const i=Bd();return new Promise((r,a)=>{const o=new ci;o.setWithCredentials(!0),o.listenOnce(di.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case hi.NO_ERROR:const n=o.getResponseJson();Si(Gd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),r(n);break;case hi.TIMEOUT:Si(Gd,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Di(Ri.DEADLINE_EXCEEDED,"Request time out"));break;case hi.HTTP_ERROR:const s=o.getStatus();if(Si(Gd,"RPC '".concat(e,"' ").concat(i," failed with status:"),s,"response text:",o.getResponseText()),s>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ri).indexOf(t)>=0?t:Ri.UNKNOWN}(n.status);a(new Di(e,n.message))}else a(new Di(Ri.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Di(Ri.UNAVAILABLE,"Connection failed."));break;default:Ti(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Si(Gd,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(s);Si(Gd,"RPC '".concat(e,"' ").concat(i," sending request:"),s),o.send(t,"POST",l,n,15)})}T_(e,t,n){const s=Bd(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=gi(),a=fi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=r.join("");Si(Gd,"Creating RPC '".concat(e,"' stream ").concat(s,": ").concat(c),o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new Kd({Yo:t=>{h?Si(Gd,"Not sending because RPC '".concat(e,"' stream ").concat(s," is closed:"),t):(d||(Si(Gd,"Opening RPC '".concat(e,"' stream ").concat(s," transport.")),u.open(),d=!0),Si(Gd,"RPC '".concat(e,"' stream ").concat(s," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,ui.EventType.OPEN,()=>{h||(Si(Gd,"RPC '".concat(e,"' stream ").concat(s," transport opened.")),p.o_())}),m(u,ui.EventType.CLOSE,()=>{h||(h=!0,Si(Gd,"RPC '".concat(e,"' stream ").concat(s," transport closed")),p.a_(),this.E_(u))}),m(u,ui.EventType.ERROR,t=>{h||(h=!0,Ei(Gd,"RPC '".concat(e,"' stream ").concat(s," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new Di(Ri.UNAVAILABLE,"The operation could not be completed")))}),m(u,ui.EventType.MESSAGE,t=>{if(!h){var n;const r=t.data[0];Ai(!!r,16349);const i=r,a=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Si(Gd,"RPC '".concat(e,"' stream ").concat(s," received error:"),a);const t=a.status;let n=function(e){const t=Wc[e];if(void 0!==t)return Qc(t)}(t),r=a.message;void 0===n&&(n=Ri.INTERNAL,r="Unknown error status: "+t+" with message "+a.message),h=!0,p.a_(new Di(n,r)),u.close()}else Si(Gd,"RPC '".concat(e,"' stream ").concat(s," received:"),r),p.u_(r)}}),m(a,mi.STAT_EVENT,t=>{t.stat===pi.PROXY?Si(Gd,"RPC '".concat(e,"' stream ").concat(s," detected buffering proxy")):t.stat===pi.NOPROXY&&Si(Gd,"RPC '".concat(e,"' stream ").concat(s," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Yd(){return"undefined"!=typeof document?document:null}function $d(e){return new mu(e,!0)}class Xd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&Si("ExponentialBackoff","Backing off for ".concat(s," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Jd="PersistentStream";class Zd{constructor(e,t,n,s,r,i,a,o){this.Mi=e,this.S_=n,this.b_=s,this.connection=r,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xd(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ri.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ri.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,s]=e;this.D_===t&&this.G_(n,s)},t=>{e(()=>{const e=new Di(Ri.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Si(Jd,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Si(Jd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eh extends Zd{constructor(e,t,n,s,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ti(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ai(void 0===t||"string"==typeof t,58123),yo.fromBase64String(t||"")):(Ai(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),yo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ri.UNKNOWN:Qc(e.code);return new Di(t,e.message||"")}(a);n=new au(s,r,i,o||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=Nu(e,s.document.name),i=xu(s.document.updateTime),a=s.document.createTime?xu(s.document.createTime):ga.min(),o=new nl({mapValue:{fields:s.document.fields}}),l=rl.newFoundDocument(r,i,a,o),c=s.targetIds||[],u=s.removedTargetIds||[];n=new ru(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=Nu(e,s.document),i=s.readTime?xu(s.readTime):ga.min(),a=rl.newNoDocument(r,i),o=s.removedTargetIds||[];n=new ru([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=Nu(e,s.document),i=s.removedTargetIds||[];n=new ru([],i,r,null)}else{if(!("filter"in t))return Ti(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:s=0,unchangedNames:r}=e,i=new Hc(s,r),a=e.targetId;n=new iu(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ga.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ga.min():t.readTime?xu(t.readTime):ga.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Eu(this.serializer),t.addTarget=function(e,t){let n;const s=t.target;if(n=Al(s)?{documents:Au(e,s)}:{query:Pu(e,s).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=vu(e,t.resumeToken);const s=fu(e,t.expectedCount);null!==s&&(n.expectedCount=s)}else if(t.snapshotVersion.compareTo(ga.min())>0){n.readTime=gu(e,t.snapshotVersion.toTimestamp());const s=fu(e,t.expectedCount);null!==s&&(n.expectedCount=s)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ti(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Eu(this.serializer),t.removeTarget=e,this.q_(t)}}class th extends Zd{constructor(e,t,n,s,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ai(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ai(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Ai(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Ai(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?xu(e.updateTime):xu(t);return n.isEqual(ga.min())&&(n=xu(t)),new Sc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=xu(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Eu(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Iu(this.serializer,e))};this.q_(t)}}class nh{}class sh extends nh{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Di(Ri.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,a]=r;return this.connection.Go(e,wu(t,n),s,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ri.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Di(Ri.UNKNOWN,e.toString())})}Ho(e,t,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Ho(e,wu(t,n),s,a,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ri.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Di(Ri.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Ci(t),this.aa=!1):Si("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ih="RemoteStore";class ah{constructor(e,t,n,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{fh(this)&&(Si(ih,"Restarting streams for network reachability change."),await async function(e){const t=Pi(e);t.Ea.add(4),await lh(t),t.Ra.set("Unknown"),t.Ea.delete(4),await oh(t)}(this))})}),this.Ra=new rh(n,s)}}async function oh(e){if(fh(e))for(const t of e.da)await t(!0)}async function lh(e){for(const t of e.da)await t(!1)}function ch(e,t){const n=Pi(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mh(n)?ph(n):Dh(n).O_()&&dh(n,t))}function uh(e,t){const n=Pi(e),s=Dh(n);n.Ia.delete(t),s.O_()&&hh(n,t),0===n.Ia.size&&(s.O_()?s.L_():fh(n)&&n.Ra.set("Unknown"))}function dh(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ga.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Dh(e).Y_(t)}function hh(e,t){e.Va.Ue(t),Dh(e).Z_(t)}function ph(e){e.Va=new lu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Dh(e).start(),e.Ra.ua()}function mh(e){return fh(e)&&!Dh(e).x_()&&e.Ia.size>0}function fh(e){return 0===Pi(e).Ea.size}function gh(e){e.Va=void 0}async function vh(e){e.Ra.set("Online")}async function yh(e){e.Ia.forEach((t,n)=>{dh(e,t)})}async function xh(e,t){gh(e),mh(e)?(e.Ra.ha(t),ph(e)):e.Ra.set("Unknown")}async function bh(e,t,n){if(e.Ra.set("Online"),t instanceof au&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const s of t.targetIds)e.Ia.has(s)&&(await e.remoteSyncer.rejectListen(s,n),e.Ia.delete(s),e.Va.removeTarget(s))}(e,t)}catch(n){Si(ih,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await wh(e,n)}else if(t instanceof ru?e.Va.Ze(t):t instanceof iu?e.Va.st(t):e.Va.tt(t),!n.isEqual(ga.min()))try{const t=await Td(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,s)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Ia.get(s);r&&e.Ia.set(s,r.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const s=e.Ia.get(t);if(!s)return;e.Ia.set(t,s.withResumeToken(yo.EMPTY_BYTE_STRING,s.snapshotVersion)),hh(e,t);const r=new qu(s.target,t,n,s.sequenceNumber);dh(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Si(ih,"Failed to raise snapshot:",t),await wh(e,t)}}async function wh(e,t,n){if(!_a(t))throw t;e.Ea.add(1),await lh(e),e.Ra.set("Offline"),n||(n=()=>Td(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Si(ih,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await oh(e)})}function jh(e,t){return t().catch(n=>wh(e,n,t))}async function kh(e){const t=Pi(e),n=Oh(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ia;for(;Nh(t);)try{const e=await Ad(t.localStore,s);if(null===e){0===t.Ta.length&&n.L_();break}s=e.batchId,Sh(t,e)}catch(e){await wh(t,e)}Ch(t)&&Eh(t)}function Nh(e){return fh(e)&&e.Ta.length<10}function Sh(e,t){e.Ta.push(t);const n=Oh(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ch(e){return fh(e)&&!Oh(e).x_()&&e.Ta.length>0}function Eh(e){Oh(e).start()}async function _h(e){Oh(e).ra()}async function Th(e){const t=Oh(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ih(e,t,n){const s=e.Ta.shift(),r=Bc.from(s,t,n);await jh(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await kh(e)}async function Ah(e,t){t&&Oh(e).X_&&await async function(e,t){if(function(e){return Gc(e)&&e!==Ri.ABORTED}(t.code)){const n=e.Ta.shift();Oh(e).B_(),await jh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await kh(e)}}(e,t),Ch(e)&&Eh(e)}async function Ph(e,t){const n=Pi(e);n.asyncQueue.verifyOperationInProgress(),Si(ih,"RemoteStore received new credentials");const s=fh(n);n.Ea.add(3),await lh(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await oh(n)}async function Rh(e,t){const n=Pi(e);t?(n.Ea.delete(2),await oh(n)):t||(n.Ea.add(2),await lh(n),n.Ra.set("Unknown"))}function Dh(e){return e.ma||(e.ma=function(e,t,n){const s=Pi(e);return s.sa(),new eh(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{Xo:vh.bind(null,e),t_:yh.bind(null,e),r_:xh.bind(null,e),H_:bh.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),mh(e)?ph(e):e.Ra.set("Unknown")):(await e.ma.stop(),gh(e))})),e.ma}function Oh(e){return e.fa||(e.fa=function(e,t,n){const s=Pi(e);return s.sa(),new th(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:_h.bind(null,e),r_:Ah.bind(null,e),ta:Th.bind(null,e),na:Ih.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await kh(e)):(await e.fa.stop(),e.Ta.length>0&&(Si(ih,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Lh{constructor(e,t,n,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=r,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,r){const i=Date.now()+n,a=new Lh(e,t,i,s,r);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Di(Ri.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mh(e,t){if(Ci("AsyncQueue","".concat(t,": ").concat(e)),_a(e))return new Di(Ri.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Uh{static emptySet(e){return new Uh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||sa.comparator(t.key,n.key):(e,t)=>sa.comparator(e.key,t.key),this.keyedMap=Zl(),this.sortedSet=new uo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(!e.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Uh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Fh{constructor(){this.ga=new uo(sa.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ti(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Vh{constructor(e,t,n,s,r,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=r,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,s,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Vh(e,t,Uh.emptySet(t),i,n,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class zh{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Bh{constructor(){this.queries=qh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Pi(e),s=n.queries;n.queries=qh(),s.forEach((e,n)=>{for(const s of n.Sa)s.onError(t)})}(this,new Di(Ri.ABORTED,"Firestore shutting down"))}}function qh(){return new Yl(e=>ql(e),Bl)}async function Hh(e,t){const n=Pi(e);let s=3;const r=t.query;let i=n.queries.get(r);i?!i.ba()&&t.Da()&&(s=2):(i=new zh,s=t.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=Mh(e,"Initialization of query '".concat(Hl(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Qh(n)}async function Wh(e,t){const n=Pi(e),s=t.query;let r=3;const i=n.queries.get(s);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?r=t.Da()?0:1:!i.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Kh(e,t){const n=Pi(e);let s=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(r)&&(s=!0);t.wa=r}}s&&Qh(n)}function Gh(e,t,n){const s=Pi(e),r=s.queries.get(t);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(t)}function Qh(e){e.Ca.forEach(e=>{e.next()})}var Yh,$h;($h=Yh||(Yh={})).Ma="default",$h.Cache="cache";class Xh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Vh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yh.Cache}}class Jh{constructor(e){this.key=e}}class Zh{constructor(e){this.key=e}}class ep{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ac(),this.mutatedKeys=ac(),this.eu=Gl(e),this.tu=new Uh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Fh,s=t?t.tu:this.tu;let r=t?t.mutatedKeys:this.mutatedKeys,i=s,a=!1;const o="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,l="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((e,t)=>{const c=s.get(e),u=Wl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(a=!0)),p&&(u?(i=i.add(u),r=h?r.add(e):r.delete(e)):(i=i.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:r}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ti(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),s=null!==s&&void 0!==s&&s;const a=t&&!s?this._u():[],o=0===this.Xa.size&&this.current&&!s?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new Vh(this.query,e.tu,r,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ac(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Zh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Jh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ac();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const tp="SyncEngine";class np{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sp{constructor(e){this.key=e,this.hu=!1}}class rp{constructor(e,t,n,s,r,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Yl(e=>ql(e),Bl),this.Iu=new Map,this.Eu=new Set,this.du=new uo(sa.comparator),this.Au=new Map,this.Ru=new hd,this.Vu={},this.mu=new Map,this.fu=Ju.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function ip(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=Cp(e);let r;const i=s.Tu.get(t);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await op(s,t,n,!0),r}async function ap(e,t){const n=Cp(e);await op(n,t,!0,!1)}async function op(e,t,n,s){const r=await Pd(e.localStore,Ul(t)),i=r.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return s&&(o=await lp(e,t,i,"current"===a,r.resumeToken)),e.isPrimaryClient&&n&&ch(e.remoteStore,r),o}async function lp(e,t,n,s,r){e.pu=(t,n,s)=>async function(e,t,n,s){let r=t.view.ru(n);r.Cs&&(r=await Dd(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,r)}));const i=s&&s.targetChanges.get(t.targetId),a=s&&null!=s.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,i,a);return bp(e,t.targetId,o.au),o.snapshot}(e,t,n,s);const i=await Dd(e.localStore,t,!0),a=new ep(t,i.Qs),o=a.ru(i.documents),l=su.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);bp(e,n,c.au);const u=new np(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function cp(e,t,n){const s=Pi(e),r=s.Tu.get(t),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(e=>!Bl(e,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Rd(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&uh(s.remoteStore,r.targetId),yp(s,r.targetId)}).catch(Sa)):(yp(s,r.targetId),await Rd(s.localStore,r.targetId,!0))}async function up(e,t){const n=Pi(e),s=n.Tu.get(t),r=n.Iu.get(s.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),uh(n.remoteStore,s.targetId))}async function dp(e,t){const n=Pi(e);try{const e=await function(e,t){const n=Pi(e),s=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];t.targetChanges.forEach((i,o)=>{const l=r.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(yo.EMPTY_BYTE_STRING,ga.min()).withLastLimboFreeSnapshotVersion(ga.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,s)),r=r.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))});let o=Xl(),l=ac();if(t.documentUpdates.forEach(s=>{t.resolvedLimboDocuments.has(s)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,s))}),a.push(Id(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!s.isEqual(ga.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,s));a.push(t)}return Ca.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=r,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const s=n.Au.get(t);s&&(Ai(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?s.hu=!0:e.modifiedDocuments.size>0?Ai(s.hu,14607):e.removedDocuments.size>0&&(Ai(s.hu,42227),s.hu=!1))}),await kp(n,e,t)}catch(e){await Sa(e)}}function hp(e,t,n){const s=Pi(e);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const e=[];s.Tu.forEach((n,s)=>{const r=s.view.va(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const n=Pi(e);n.onlineState=t;let s=!1;n.queries.forEach((e,n)=>{for(const r of n.Sa)r.va(t)&&(s=!0)}),s&&Qh(n)}(s.eventManager,t),e.length&&s.Pu.H_(e),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function pp(e,t,n){const s=Pi(e);s.sharedClientState.updateQueryState(t,"rejected",n);const r=s.Au.get(t),i=r&&r.key;if(i){let e=new uo(sa.comparator);e=e.insert(i,rl.newNoDocument(i,ga.min()));const n=ac().add(i),r=new nu(ga.min(),new Map,new uo(Ki),e,n);await dp(s,r),s.du=s.du.remove(i),s.Au.delete(t),jp(s)}else await Rd(s.localStore,t,!1).then(()=>yp(s,t,n)).catch(Sa)}async function mp(e,t){const n=Pi(e),s=t.batch.batchId;try{const e=await function(e,t){const n=Pi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const s=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,s){const r=n.batch,i=r.keys();let a=Ca.resolve();return i.forEach(e=>{a=a.next(()=>s.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Ai(null!==i,48541),t.version.compareTo(i)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),s.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,r))}(n,e,t,r).next(()=>r.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ac();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,s))})}(n.localStore,t);vp(n,s,null),gp(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kp(n,e)}catch(e){await Sa(e)}}async function fp(e,t,n){const s=Pi(e);try{const e=await function(e,t){const n=Pi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let s;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ai(null!==t,37113),s=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,s)).next(()=>n.localDocuments.getDocuments(e,s))})}(s.localStore,t);vp(s,t,n),gp(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await kp(s,e)}catch(n){await Sa(n)}}function gp(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function vp(e,t,n){const s=Pi(e);let r=s.Vu[s.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),s.Vu[s.currentUser.toKey()]=r}}function yp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||xp(e,t)})}function xp(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(uh(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),jp(e))}function bp(e,t,n){for(const s of n)s instanceof Jh?(e.Ru.addReference(s.key,t),wp(e,s)):s instanceof Zh?(Si(tp,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||xp(e,s.key)):Ti(19791,{wu:s})}function wp(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Si(tp,"New document in limbo: "+n),e.Eu.add(s),jp(e))}function jp(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new sa(ea.fromString(t)),s=e.fu.next();e.Au.set(s,new sp(n)),e.du=e.du.insert(n,s),ch(e.remoteStore,new qu(Ul(Dl(n.path)),s,"TargetPurposeLimboResolution",Ta.ce))}}async function kp(e,t,n){const s=Pi(e),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((e,o)=>{a.push(s.pu(o,t,n).then(e=>{if((e||n)&&s.isPrimaryClient){var t;const r=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;s.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=jd.As(o.targetId,e);i.push(t)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(e,t){const n=Pi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ca.forEach(t,t=>Ca.forEach(t.Es,s=>n.persistence.referenceDelegate.addReference(e,t.targetId,s)).next(()=>Ca.forEach(t.ds,s=>n.persistence.referenceDelegate.removeReference(e,t.targetId,s)))))}catch(e){if(!_a(e))throw e;Si(Sd,"Failed to update sequence numbers: "+e)}for(const s of t){const e=s.targetId;if(!s.fromCache){const t=n.Ms.get(e),s=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(s);n.Ms=n.Ms.insert(e,r)}}}(s.localStore,i))}async function Np(e,t){const n=Pi(e);if(!n.currentUser.isEqual(t)){Si(tp,"User change. New user:",t.toKey());const e=await _d(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Di(Ri.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await kp(n,e.Ls)}}function Sp(e,t){const n=Pi(e),s=n.Au.get(t);if(s&&s.hu)return ac().add(s.key);{let e=ac();const s=n.Iu.get(t);if(!s)return e;for(const t of s){const s=n.Tu.get(t);e=e.unionWith(s.view.nu)}return e}}function Cp(e){const t=Pi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pp.bind(null,t),t.Pu.H_=Kh.bind(null,t.eventManager),t.Pu.yu=Gh.bind(null,t.eventManager),t}function Ep(e){const t=Pi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fp.bind(null,t),t}class _p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ed(this.persistence,new Nd,e.initialUser,this.serializer)}Cu(e){return new yd(bd.mi,this.serializer)}Du(e){return new Md}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_p.provider={build:()=>new _p};class Tp extends _p{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ai(this.persistence.referenceDelegate instanceof wd,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new sd(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Xu.withCacheSize(this.cacheSizeBytes):Xu.DEFAULT;return new yd(e=>wd.mi(e,t),this.serializer)}}class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>hp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Np.bind(null,this.syncEngine),await Rh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Bh}createDatastore(e){const t=$d(e.databaseInfo.databaseId),n=function(e){return new Qd(e)}(e.databaseInfo);return function(e,t,n,s){return new sh(e,t,n,s)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,s,r){return new ah(e,t,n,s,r)}(this.localStore,this.datastore,e.asyncQueue,e=>hp(this.syncEngine,e,0),Vd.v()?new Vd:new Ud)}createSyncEngine(e,t){return function(e,t,n,s,r,i,a){const o=new rp(e,t,n,s,r,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Pi(e);Si(ih,"RemoteStore shutting down."),t.Ea.add(5),await lh(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ip.provider={build:()=>new Ip};class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Pp="FirestoreClient";class Rp{constructor(e,t,n,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=wi.UNAUTHENTICATED,this.clientId=Wi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async e=>{Si(Pp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Si(Pp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Mh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Dp(e,t){e.asyncQueue.verifyOperationInProgress(),Si(Pp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async e=>{s.isEqual(e)||(await _d(t.localStore,e),s=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Op(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Lp(e);Si(Pp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ph(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ph(t.remoteStore,n)),e._onlineComponents=t}async function Lp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Si(Pp,"Using user provided OfflineComponentProvider");try{await Dp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ri.FAILED_PRECONDITION||e.code===Ri.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ei("Error using user provided cache. Falling back to memory cache: "+n),await Dp(e,new _p)}}else Si(Pp,"Using default OfflineComponentProvider"),await Dp(e,new Tp(void 0));return e._offlineComponents}async function Mp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Si(Pp,"Using user provided OnlineComponentProvider"),await Op(e,e._uninitializedComponentsProvider._online)):(Si(Pp,"Using default OnlineComponentProvider"),await Op(e,new Ip))),e._onlineComponents}function Up(e){return Mp(e).then(e=>e.syncEngine)}async function Fp(e){const t=await Mp(e),n=t.eventManager;return n.onListen=ip.bind(null,t.syncEngine),n.onUnlisten=cp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ap.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=up.bind(null,t.syncEngine),n}function Vp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new Oi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,s,r){const i=new Ap({next:o=>{i.Nu(),t.enqueueAndForget(()=>Wh(e,a));const l=o.docs.has(n);!l&&o.fromCache?r.reject(new Di(Ri.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&s&&"server"===s.source?r.reject(new Di(Ri.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),a=new Xh(Dl(n.path),i,{includeMetadataChanges:!0,qa:!0});return Hh(e,a)}(await Fp(e),e.asyncQueue,t,n,s)),s.promise}function zp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new Oi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,s,r){const i=new Ap({next:n=>{i.Nu(),t.enqueueAndForget(()=>Wh(e,a)),n.fromCache&&"server"===s.source?r.reject(new Di(Ri.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),a=new Xh(n,i,{includeMetadataChanges:!0,qa:!0});return Hh(e,a)}(await Fp(e),e.asyncQueue,t,n,s)),s.promise}function Bp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const qp=new Map,Hp="firestore.googleapis.com",Wp=!0;class Kp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Di(Ri.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hp,this.ssl=Wp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Wp;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=$u;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ed)throw new Di(Ri.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,s){if(!0===t&&!0===s)throw new Di(Ri.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Di(Ri.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Di(Ri.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Di(Ri.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gp{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Di(Ri.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Di(Ri.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mi;switch(e.type){case"firstParty":return new zi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Di(Ri.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qp.get(e);t&&(Si("ComponentProvider","Removing Datastore"),qp.delete(e),t.terminate())}(this),Promise.resolve()}}class Qp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qp(this.firestore,e,this._query)}}class Yp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $p(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yp(this.firestore,e,this._key)}toJSON(){return{type:Yp._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ha(t,Yp._jsonSchema))return new Yp(e,n||null,new sa(ea.fromString(t.referencePath)))}}Yp._jsonSchemaVersion="firestore/documentReference/1.0",Yp._jsonSchema={type:da("string",Yp._jsonSchemaVersion),referencePath:da("string")};class $p extends Qp{constructor(e,t,n){super(e,t,Dl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yp(this.firestore,null,new sa(e))}withConverter(e){return new $p(this.firestore,e,this._path)}}function Xp(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];if(e=on(e),ra("collection","path",t),e instanceof Gp){const n=ea.fromString(t,...s);return aa(n),new $p(e,null,n)}{if(!(e instanceof Yp||e instanceof $p))throw new Di(Ri.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ea.fromString(t,...s));return aa(n),new $p(e.firestore,null,n)}}function Jp(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];if(e=on(e),1===arguments.length&&(t=Wi.newId()),ra("doc","path",t),e instanceof Gp){const n=ea.fromString(t,...s);return ia(n),new Yp(e,null,new sa(n))}{if(!(e instanceof Yp||e instanceof $p))throw new Di(Ri.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ea.fromString(t,...s));return ia(n),new Yp(e.firestore,e instanceof $p?e.converter:null,new sa(n))}}const Zp="AsyncQueue";class em{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xd(this,"async_queue_retry"),this._c=()=>{const e=Yd();e&&Si(Zp,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Yd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Yd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(cI){if(!_a(cI))throw cI;Si(Zp,"Operation failed with retryable error: "+cI)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",tm(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Lh.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(s),s}uc(){this.nc&&Ti(47125,{Pc:tm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function tm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function nm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const s of t)if(s in n&&"function"==typeof n[s])return!0;return!1}(e,["next","error","complete"])}class sm extends Gp{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new em,this._persistenceKey=(null===s||void 0===s?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new em(e),this._firestoreClient=void 0,await e}}}function rm(e){if(e._terminated)throw new Di(Ri.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||im(e),e._firestoreClient}function im(e){var t,n,s;const r=e._freezeSettings(),i=function(e,t,n,s){return new Io(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Bp(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||null!==(n=r.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=r.localCache)&&void 0!==s&&s._onlineComponentProvider&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Rp(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class am{constructor(e){this._byteString=e}static fromBase64String(e){try{return new am(yo.fromBase64String(e))}catch(e){throw new Di(Ri.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new am(yo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:am._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ha(e,am._jsonSchema))return am.fromBase64String(e.bytes)}}am._jsonSchemaVersion="firestore/bytes/1.0",am._jsonSchema={type:da("string",am._jsonSchemaVersion),bytes:da("string")};class om{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let s=0;s<t.length;++s)if(0===t[s].length)throw new Di(Ri.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new na(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lm{constructor(e){this._methodName=e}}class cm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Di(Ri.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Di(Ri.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ki(this._lat,e._lat)||Ki(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cm._jsonSchemaVersion}}static fromJSON(e){if(ha(e,cm._jsonSchema))return new cm(e.latitude,e.longitude)}}cm._jsonSchemaVersion="firestore/geoPoint/1.0",cm._jsonSchema={type:da("string",cm._jsonSchemaVersion),latitude:da("number"),longitude:da("number")};class um{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:um._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ha(e,um._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new um(e.vectorValues);throw new Di(Ri.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}um._jsonSchemaVersion="firestore/vectorValue/1.0",um._jsonSchema={type:da("string",um._jsonSchemaVersion),vectorValues:da("object")};const dm=/^__.*__$/;class hm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class pm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ti(40011,{Ac:e})}}class fm{constructor(e,t,n,s,r,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,void 0===r&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fm(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(mm(this.Ac)&&dm.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||$d(e)}Cc(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new fm({Ac:e,methodName:t,Dc:n,path:na.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vm(e){const t=e._freezeSettings(),n=$d(e._databaseId);return new gm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ym(e,t,n,s,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,r);Im("Data must be an object, but it was:",a,s);const o=_m(s,a);let l,c;if(i.merge)l=new go(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const s of i.mergeFields){const r=Am(t,s,n);if(!a.contains(r))throw new Di(Ri.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));Om(e,r)||e.push(r)}l=new go(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new hm(new nl(o),l,c)}class xm extends lm{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}function bm(e,t,n){return new fm({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class wm extends lm{_toFieldTransform(e){return new Nc(e.path,new gc)}isEqual(e){return e instanceof wm}}class jm extends lm{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=bm(this,e,!0),n=this.vc.map(e=>Em(e,t)),s=new vc(n);return new Nc(e.path,s)}isEqual(e){return e instanceof jm&&Jt(this.vc,e.vc)}}class km extends lm{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=bm(this,e,!0),n=this.vc.map(e=>Em(e,t)),s=new xc(n);return new Nc(e.path,s)}isEqual(e){return e instanceof km&&Jt(this.vc,e.vc)}}function Nm(e,t,n,s){const r=e.Cc(1,t,n);Im("Data must be an object, but it was:",r,s);const i=[],a=nl.empty();lo(s,(e,s)=>{const o=Rm(t,e,n);s=on(s);const l=r.yc(o);if(s instanceof xm)i.push(o);else{const e=Em(s,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new go(i);return new pm(a,o,r.fieldTransforms)}function Sm(e,t,n,s,r,i){const a=e.Cc(1,t,n),o=[Am(t,s,n)],l=[r];if(i.length%2!=0)throw new Di(Ri.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(Am(t,i[h])),l.push(i[h+1]);const c=[],u=nl.empty();for(let h=o.length-1;h>=0;--h)if(!Om(c,o[h])){const e=o[h];let t=l[h];t=on(t);const n=a.yc(e);if(t instanceof xm)c.push(e);else{const s=Em(t,n);null!=s&&(c.push(e),u.set(e,s))}}const d=new go(c);return new pm(u,d,a.fieldTransforms)}function Cm(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Em(n,e.Cc(s?4:3,t))}function Em(e,t){if(Tm(e=on(e)))return Im("Unsupported field value:",t,e),_m(e,t);if(e instanceof lm)return function(e,t){if(!mm(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let s=0;for(const r of e){let e=Em(r,t.wc(s));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),s++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=on(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fa.fromDate(e);return{timestampValue:gu(t.serializer,n)}}if(e instanceof fa){const n=new fa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gu(t.serializer,n)}}if(e instanceof cm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof am)return{bytesValue:vu(t.serializer,e._byteString)};if(e instanceof Yp){const n=t.databaseId,s=e.firestore._databaseId;if(!s.isEqual(n))throw t.Sc("Document reference is for database ".concat(s.projectId,"/").concat(s.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:bu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof um)return function(e,t){return{mapValue:{fields:{[Ro]:{stringValue:Lo},[Mo]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return cc(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(la(e)))}(e,t)}function _m(e,t){const n={};return co(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lo(e,(e,s)=>{const r=Em(s,t.mc(e));null!=r&&(n[e]=r)}),{mapValue:{fields:n}}}function Tm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fa||e instanceof cm||e instanceof am||e instanceof Yp||e instanceof lm||e instanceof um)}function Im(e,t,n){if(!Tm(n)||!oa(n)){const s=la(n);throw"an object"===s?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Am(e,t,n){if((t=on(t))instanceof om)return t._internalPath;if("string"==typeof t)return Rm(e,t);throw Dm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pm=new RegExp("[~\\*/\\[\\]]");function Rm(e,t,n){if(t.search(Pm)>=0)throw Dm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new om(...t.split("."))._internalPath}catch(s){throw Dm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Dm(e,t,n,s,r){const i=s&&!s.isEmpty(),a=void 0!==r;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(s)),a&&(l+=" in document ".concat(r)),l+=")"),new Di(Ri.INVALID_ARGUMENT,o+e+l)}function Om(e,t){return e.some(e=>e.isEqual(t))}class Lm{constructor(e,t,n,s,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Yp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mm extends Lm{data(){return super.data()}}function Um(e,t){return"string"==typeof t?Rm(e,t):t instanceof om?t._internalPath:t._delegate._internalPath}function Fm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Di(Ri.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class zm extends Vm{}function Bm(e,t){let n=[];for(var s=arguments.length,r=new Array(s>2?s-2:0),i=2;i<s;i++)r[i-2]=arguments[i];t instanceof Vm&&n.push(t),n=n.concat(r),function(e){const t=e.filter(e=>e instanceof Wm).length,n=e.filter(e=>e instanceof qm).length;if(t>1||t>0&&n>0)throw new Di(Ri.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class qm extends zm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qm(e,t,n)}_apply(e){const t=this._parse(e);return Jm(e._query,t),new Qp(e.firestore,e.converter,Vl(e._query,t))}_parse(e){const t=vm(e.firestore),n=function(e,t,n,s,r,i,a){let o;if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Di(Ri.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Xm(a,i);const t=[];for(const n of a)t.push($m(s,e,n));o={arrayValue:{values:t}}}else o=$m(s,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Xm(a,i),o=Cm(n,t,a,"in"===i||"not-in"===i);return dl.create(r,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Hm(e,t,n){const s=t,r=Um("where",e);return qm._create(r,s,n)}class Wm extends Vm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:hl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const s=t.getFlattenedFilters();for(const r of s)Jm(n,r),n=Vl(n,r)}(e._query,t),new Qp(e.firestore,e.converter,Vl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Km extends zm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Km(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Di(Ri.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Di(Ri.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ll(t,n)}(e._query,this._field,this._direction);return new Qp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Pl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Gm(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Um("orderBy",e);return Km._create(n,t)}class Qm extends zm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Qm(e,t,n)}_apply(e){return new Qp(e.firestore,e.converter,zl(e._query,this._limit,this._limitType))}}function Ym(e){return ua("limit",e),Qm._create("limit",e,"F")}function $m(e,t,n){if("string"==typeof(n=on(n))){if(""===n)throw new Di(Ri.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ll(t)&&-1!==n.indexOf("/"))throw new Di(Ri.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const s=t.path.child(ea.fromString(n));if(!sa.isDocumentKey(s))throw new Di(Ri.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(s,"' is not because it has an odd number of segments (").concat(s.length,")."));return Go(e,new sa(s))}if(n instanceof Yp)return Go(e,n._key);throw new Di(Ri.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(la(n),"."))}function Xm(e,t){if(!Array.isArray(e)||0===e.length)throw new Di(Ri.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Jm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Di(Ri.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Di(Ri.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ti(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lo(e,(e,s)=>{n[e]=this.convertValue(s,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Mo].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>wo(e.doubleValue));return new um(n)}convertGeoPoint(e){return new cm(wo(e.latitude),wo(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_o(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){const t=bo(e);return new fa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ea.fromString(e);Ai(Bu(n),9688,{name:e});const s=new Po(n.get(1),n.get(3)),r=new sa(n.popFirst(5));return s.isEqual(t)||Ci("Document ".concat(r," contains a document reference within a different database (").concat(s.projectId,"/").concat(s.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function ef(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class tf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nf extends Lm{constructor(e,t,n,s,r,i){super(e,t,n,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Di(Ri.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=nf._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}nf._jsonSchemaVersion="firestore/documentSnapshot/1.0",nf._jsonSchema={type:da("string",nf._jsonSchemaVersion),bundleSource:da("string","DocumentSnapshot"),bundleName:da("string"),bundle:da("string")};class sf extends nf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class rf{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new tf(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new sf(this._firestore,this._userDataWriter,n.key,n,new tf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Di(Ri.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const s=new sf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new tf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:s,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const s=new sf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,i=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:af(t.type),doc:s,oldIndex:r,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Di(Ri.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wi.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),s.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function af(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ti(61501,{type:e})}}function of(e){e=ca(e,Yp);const t=ca(e.firestore,sm);return Vp(rm(t),e._key).then(n=>gf(t,e,n))}rf._jsonSchemaVersion="firestore/querySnapshot/1.0",rf._jsonSchema={type:da("string",rf._jsonSchemaVersion),bundleSource:da("string","QuerySnapshot"),bundleName:da("string"),bundle:da("string")};class lf extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new am(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yp(this.firestore,null,t)}}function cf(e){e=ca(e,Qp);const t=ca(e.firestore,sm),n=rm(t),s=new lf(t);return Fm(e._query),zp(n,e._query).then(n=>new rf(t,s,e,n))}function uf(e,t,n){e=ca(e,Yp);const s=ca(e.firestore,sm),r=ef(e.converter,t,n);return ff(s,[ym(vm(s),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Cc.none())])}function df(e,t,n){e=ca(e,Yp);const s=ca(e.firestore,sm),r=vm(s);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=on(t))||t instanceof om?Sm(r,"updateDoc",e._key,t,n,o):Nm(r,"updateDoc",e._key,t),ff(s,[i.toMutation(e._key,Cc.exists(!0))])}function hf(e){return ff(ca(e.firestore,sm),[new Fc(e._key,Cc.none())])}function pf(e,t){const n=ca(e.firestore,sm),s=Jp(e),r=ef(e.converter,t);return ff(n,[ym(vm(e.firestore),"addDoc",s._key,r,null!==e.converter,{}).toMutation(s._key,Cc.exists(!1))]).then(()=>s)}function mf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];e=on(e);let r={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||nm(n[i])||(r=n[i++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(nm(n[i])){var o,l,c;const e=n[i];n[i]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[i+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[i+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof Yp)d=ca(e.firestore,sm),h=Dl(e._key.path),u={next:t=>{n[i]&&n[i](gf(d,e,t))},error:n[i+1],complete:n[i+2]};else{const t=ca(e,Qp);d=ca(t.firestore,sm),h=t._query;const s=new lf(d);u={next:e=>{n[i]&&n[i](new rf(d,s,t,e))},error:n[i+1],complete:n[i+2]},Fm(e._query)}return function(e,t,n,s){const r=new Ap(s),i=new Xh(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>Hh(await Fp(e),i)),()=>{r.Nu(),e.asyncQueue.enqueueAndForget(async()=>Wh(await Fp(e),i))}}(rm(d),h,a,u)}function ff(e,t){return function(e,t){const n=new Oi;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const s=Ep(e);try{const e=await function(e,t){const n=Pi(e),s=fa.now(),r=t.reduce((e,t)=>e.add(t.key),ac());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Xl(),l=ac();return n.Ns.getEntries(e,r).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(r=>{i=r;const a=[];for(const e of t){const t=Pc(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Oc(e.key,t,sl(t.value.mapValue),Cc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,s,a,t)}).next(t=>{a=t;const s=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,s)})}).then(()=>({batchId:a.batchId,changes:ec(i)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let s=e.Vu[e.currentUser.toKey()];s||(s=new uo(Ki)),s=s.insert(t,n),e.Vu[e.currentUser.toKey()]=s}(s,e.batchId,n),await kp(s,e.changes),await kh(s.remoteStore)}catch(e){const t=Mh(e,"Failed to persist write");n.reject(t)}}(await Up(e),t,n)),n.promise}(rm(e),t)}function gf(e,t,n){const s=n.docs.get(t._key),r=new lf(e);return new nf(e,r,t._key,s,new tf(n.hasPendingWrites,n.fromCache),t.converter)}class vf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vm(e)}set(e,t,n){this._verifyNotCommitted();const s=yf(e,this._firestore),r=ef(s.converter,t,n),i=ym(this._dataReader,"WriteBatch.set",s._key,r,null!==s.converter,n);return this._mutations.push(i.toMutation(s._key,Cc.none())),this}update(e,t,n){this._verifyNotCommitted();const s=yf(e,this._firestore);let r;for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return r="string"==typeof(t=on(t))||t instanceof om?Sm(this._dataReader,"WriteBatch.update",s._key,t,n,a):Nm(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(r.toMutation(s._key,Cc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yf(e,this._firestore);return this._mutations=this._mutations.concat(new Fc(t._key,Cc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Di(Ri.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yf(e,t){if((e=on(e)).firestore!==t)throw new Di(Ri.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function xf(){return new wm("serverTimestamp")}function bf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jm("arrayUnion",t)}function wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new km("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ji=e}(ks),ys(new ln("firestore",(e,n)=>{let{instanceIdentifier:s,options:r}=n;const i=e.getProvider("app").getImmediate(),a=new sm(new Fi(e.getProvider("auth-internal")),new qi(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Di(Ri.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(e.options.projectId,t)}(i,s),i);return r=c({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),Es(xi,bi,e),Es(xi,bi,"esm2020")}();const jf=["providerId"],kf=["uid","auth","stsTokenManager"],Nf=["providerId","signInMethod"];function Sf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cf=Sf,Ef=new $t("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_f=new yn("@firebase/auth");function Tf(e){if(_f.logLevel<=pn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];_f.error("Auth (".concat(ks,"): ").concat(e),...n)}}function If(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];throw Of(e,...n)}function Af(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Of(e,...n)}function Pf(e,t,n){const s=c(c({},Cf()),{},{[t]:n});return new $t("auth","Firebase",s).create(t,{appName:e.name})}function Rf(e){return Pf(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Df(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&If(e,"argument-error"),Pf(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Of(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if("string"!==typeof e){const t=n[0],s=[...n.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(t,...s)}return Ef.create(e,...n)}function Lf(e,t){if(!e){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];throw Of(t,...s)}}function Mf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tf(t),new Error(t)}function Uf(e,t){e||Mf(t)}function Ff(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vf(){return"http:"===zf()||"https:"===zf()}function zf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Bf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Uf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vf()||Wt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function qf(e,t){Uf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Hf{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Mf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Mf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Mf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kf=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Gf=new Bf(3e4,6e4);function Qf(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Yf(e,t,n,s){return $f(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let r={},i={};s&&("GET"===t?i=s:r={body:JSON.stringify(s)});const a=en(c({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:o},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Mt(e.emulatorConfig.host)&&(l.credentials="include"),Hf.fetch()(await Jf(e,e.config.apiHost,n,a),l)})}async function $f(e,t,n){e._canInitEmulator=!1;const s=c(c({},Wf),t);try{const t=new eg(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await r.json();if("needConfirmation"in i)throw tg(e,"account-exists-with-different-credential",i);if(r.ok&&!("errorMessage"in i))return i;{const t=r.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw tg(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw tg(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw tg(e,"user-disabled",i);const o=s[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Pf(e,o,a);If(e,o)}}catch(cI){if(cI instanceof Yt)throw cI;If(e,"network-request-failed",{message:String(cI)})}}async function Xf(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Yf(e,t,n,s,r);return"mfaPendingCredential"in i&&If(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Jf(e,t,n,s){const r="".concat(t).concat(n,"?").concat(s),i=e,a=i.config.emulator?qf(e.config,r):"".concat(e.config.apiScheme,"://").concat(r);if(Kf.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function Zf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eg{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Af(this.auth,"network-request-failed")),Gf.get())})}}function tg(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Af(e,t,s);return r.customData._tokenResponse=n,r}function ng(e){return void 0!==e&&void 0!==e.enterprise}class sg{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rg(e,t){return Yf(e,"GET","/v2/recaptchaConfig",Qf(e,t))}async function ig(e,t){return Yf(e,"POST","/v1/accounts:lookup",t)}function ag(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(cI){}}function og(e){return 1e3*Number(e)}function lg(e){const[t,n,s]=e.split(".");if(void 0===t||void 0===n||void 0===s)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const e=Tt(n);return e?JSON.parse(e):(Tf("Failed to decode base64 JWT payload"),null)}catch(cI){return Tf("Caught error parsing JWT payload as JSON",null===cI||void 0===cI?void 0:cI.toString()),null}}function cg(e){const t=lg(e);return Lf(t,"internal-error"),Lf("undefined"!==typeof t.exp,"internal-error"),Lf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ug(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(cI){throw cI instanceof Yt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(cI)&&e.auth.currentUser===e&&await e.auth.signOut(),cI}}class dg{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(cI){return void((null===cI||void 0===cI?void 0:cI.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ag(this.lastLoginAt),this.creationTime=ag(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pg(e){var t;const n=e.auth,s=await e.getIdToken(),r=await ug(e,ig(n,{idToken:s}));Lf(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?mg(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new hg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function mg(e){return e.map(e=>{let{providerId:t}=e,n=r(e,jf);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class fg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Lf(e.idToken,"internal-error"),Lf("undefined"!==typeof e.idToken,"internal-error"),Lf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):cg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Lf(0!==e.length,"internal-error");const t=cg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Lf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:r}=await async function(e,t){const n=await $f(e,{},async()=>{const n=en({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,i=await Jf(e,s,"/v1/token","key=".concat(r)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&Mt(e.emulatorConfig.host)&&(o.credentials="include"),Hf.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,s,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:r}=t,i=new fg;return n&&(Lf("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),s&&(Lf("string"===typeof s,"internal-error",{appName:e}),i.accessToken=s),r&&(Lf("number"===typeof r,"internal-error",{appName:e}),i.expirationTime=r),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fg,this.toJSON())}_performRefresh(){return Mf("not implemented")}}function gg(e,t){Lf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vg{constructor(e){let{uid:t,auth:n,stsTokenManager:s}=e,i=r(e,kf);this.providerId="firebase",this.proactiveRefresh=new dg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ug(this,this.stsTokenManager.getToken(this.auth,e));return Lf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=on(e),s=await n.getIdToken(t),r=lg(s);Lf(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i="object"===typeof r.firebase?r.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:ag(og(r.auth_time)),issuedAtTime:ag(og(r.iat)),expirationTime:ag(og(r.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=on(e);await pg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Lf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vg(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Lf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await pg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(Rf(this.auth));const e=await this.getIdToken();return await ug(this,async function(e,t){return Yf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,r,i,a,o,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(s=t.email)&&void 0!==s?s:void 0,p=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:j,stsTokenManager:k}=t;Lf(x&&k,e,"internal-error");const N=fg.fromJSON(this.name,k);Lf("string"===typeof x,e,"internal-error"),gg(d,e.name),gg(h,e.name),Lf("boolean"===typeof b,e,"internal-error"),Lf("boolean"===typeof w,e,"internal-error"),gg(p,e.name),gg(m,e.name),gg(f,e.name),gg(g,e.name),gg(v,e.name),gg(y,e.name);const S=new vg({uid:x,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:w,photoURL:m,phoneNumber:p,tenantId:f,stsTokenManager:N,createdAt:v,lastLoginAt:y});return j&&Array.isArray(j)&&(S.providerData=j.map(e=>c({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=new fg;s.updateFromServerResponse(t);const r=new vg({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await pg(r),r}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];Lf(void 0!==s.localId,"internal-error");const r=void 0!==s.providerUserInfo?mg(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(null!==r&&void 0!==r&&r.length),a=new fg;a.updateFromIdToken(n);const o=new vg({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new hg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(null!==r&&void 0!==r&&r.length)};return Object.assign(o,l),o}}const yg=new Map;function xg(e){Uf(e instanceof Function,"Expected a class definition");let t=yg.get(e);return t?(Uf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yg.set(e,t),t)}class bg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bg.type="NONE";const wg=bg;function jg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class kg{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:r}=this.auth;this.fullUserKey=jg(this.userKey,s.apiKey,r),this.fullPersistenceKey=jg("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await ig(this.auth,{idToken:e}).catch(()=>{});return t?vg._fromGetAccountInfoResponse(this.auth,t,e):null}return vg._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kg(xg(wg),e,n);const s=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=s[0]||xg(wg);const i=jg(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const s=await ig(e,{idToken:t}).catch(()=>{});if(!s)break;n=await vg._fromGetAccountInfoResponse(e,s,t)}else n=vg._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(l){}const o=s.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(i)}catch(t){}})),new kg(r,e,n)):new kg(r,e,n)}}function Ng(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_g(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ig(t))return"Blackberry";if(Ag(t))return"Webos";if(Cg(t))return"Safari";if((t.includes("chrome/")||Eg(t))&&!t.includes("edge/"))return"Chrome";if(Tg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Sg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/firefox\//i.test(e)}function Cg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/crios\//i.test(e)}function _g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/iemobile/i.test(e)}function Tg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/android/i.test(e)}function Ig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/blackberry/i.test(e)}function Ag(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/webos/i.test(e)}function Pg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rg(){return function(){const e=qt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Dg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return Pg(e)||Tg(e)||Ag(e)||Ig(e)||/windows phone/i.test(e)||_g(e)}function Og(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ng(qt());break;case"Worker":t="".concat(Ng(qt()),"-").concat(e);break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ks,"/").concat(s)}class Lg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,s)=>{try{n(e(t))}catch(cI){s(cI)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(cI){t.reverse();for(const s of t)try{s()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===cI||void 0===cI?void 0:cI.message})}}}class Mg{constructor(e){var t,n,s,r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(s=e.allowedNonAlphanumericCharacters)||void 0===s?void 0:s.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,r,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(s=o.containsLowercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class Ug{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vg(this),this.idTokenSubscription=new Vg(this),this.beforeStateQueue=new Lg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ef,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xg(t)),this._initializationPromise=this.queue(async()=>{var n,s,r;if(!this._deleted&&(this.persistenceManager=await kg.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(s=this._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(cI){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ig(this,{idToken:e}),n=await vg._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bs(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){var r,i;await this.getOrInitRedirectPersistenceManager();const t=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,a=null===(i=n)||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(cI){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(cI))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Lf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(cI){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(cI){if((null===cI||void 0===cI?void 0:cI.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(Rf(this));const t=e?on(e):null;return t&&Lf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Lf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(Rf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(Rf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xg(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Yf(e,"GET","/v2/passwordPolicy",Qf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Mg(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $t("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Yf(e,"POST","/v2/accounts:revokeToken",Qf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xg(e)||this._popupRedirectResolver;Lf(t,this,"argument-error"),this.redirectPersistenceManager=await kg.create(this,[xg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lf(a,this,"internal-error"),a.then(()=>{i||r(this.currentUser)}),"function"===typeof t){const r=e.addObserver(t,n,s);return()=>{i=!0,r()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Lf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Og(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(_f.logLevel<=pn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];_f.warn("Auth (".concat(ks,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Fg(e){return on(e)}class Vg{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new sn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Lf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bg(e){return zg.loadJS(e)}function qg(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Hg{constructor(){this.enterprise=new Wg}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Wg{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Kg="NO_RECAPTCHA";class Gg{constructor(e){this.type="recaptcha-enterprise",this.auth=Fg(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,s){const r=window.grecaptcha;ng(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Kg)})}):s(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Hg).execute("siteKey",{action:"verify"})}return new Promise((e,s)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{rg(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(s=>{if(void 0!==s.recaptchaKey){const n=new sg(s);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(r=>{if(!t&&ng(window.grecaptcha))n(r,e,s);else{if("undefined"===typeof window)return void s(new Error("RecaptchaVerifier is only supported in browser"));let t=zg.recaptchaEnterpriseScript;0!==t.length&&(t+=r),Bg(t).then(()=>{n(r,e,s)}).catch(e=>{s(e)})}}).catch(e=>{s(e)})})}}async function Qg(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Gg(e);let a;if(r)a=Kg;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Yg(e,t,n,s,r){if("EMAIL_PASSWORD_PROVIDER"===r){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Qg(e,t,n,"getOobCode"===n);return s(e,r)}return s(e,t).catch(async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Qg(e,t,n,"getOobCode"===n);return s(e,r)}return Promise.reject(r)})}if("PHONE_PROVIDER"===r){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const r=await Qg(e,t,n);return s(e,r).catch(async r=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(r.code==="auth/".concat("missing-recaptcha-token")||r.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const r=await Qg(e,t,n,!1,!0);return s(e,r)}return Promise.reject(r)})}{const r=await Qg(e,t,n,!1,!0);return s(e,r)}}return Promise.reject(r+" provider is not supported.")}async function $g(e){const t=Fg(e),n=await rg(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new sg(n);if(null==t.tenantId?t._agentRecaptchaConfig=s:t._tenantRecaptchaConfigs[t.tenantId]=s,s.isAnyProviderEnabled()){new Gg(t).verify()}}function Xg(e,t,n){const s=Fg(e);Lf(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const r=!(null===n||void 0===n||!n.disableWarnings),i=Jg(t),{host:a,port:o}=function(e){const t=Jg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const e=r[1];return{host:e,port:Zg(s.substr(e.length+1))}}{const[e,t]=s.split(":");return{host:e,port:Zg(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator)return Lf(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),void Lf(Jt(c,s.config.emulator)&&Jt(u,s.emulatorConfig),s,"emulator-config-failed");s.config.emulator=c,s.emulatorConfig=u,s.settings.appVerificationDisabledForTesting=!0,Mt(a)?(Ut("".concat(i,"//").concat(a).concat(l)),Bt("Auth",!0)):r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Jg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ev{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mf("not implemented")}_getIdTokenResponse(e){return Mf("not implemented")}_linkToIdToken(e,t){return Mf("not implemented")}_getReauthenticationResolver(e){return Mf("not implemented")}}async function tv(e,t){return Yf(e,"POST","/v1/accounts:signUp",t)}async function nv(e,t){return Xf(e,"POST","/v1/accounts:signInWithPassword",Qf(e,t))}class sv extends ev{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new sv(e,t,"password")}static _fromEmailAndCode(e,t){return new sv(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Yg(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",nv,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Xf(e,"POST","/v1/accounts:signInWithEmailLink",Qf(e,t))}(e,{email:this._email,oobCode:this._password});default:If(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Yg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tv,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Xf(e,"POST","/v1/accounts:signInWithEmailLink",Qf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:If(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function rv(e,t){return Xf(e,"POST","/v1/accounts:signInWithIdp",Qf(e,t))}class iv extends ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new iv(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):If("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,i=r(t,Nf);if(!n||!s)return null;const a=new iv(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return rv(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,rv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rv(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=en(t)}return e}}async function av(e,t){return Yf(e,"POST","/v1/accounts:sendVerificationCode",Qf(e,t))}const ov={USER_NOT_FOUND:"user-not-found"};class lv extends ev{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new lv({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new lv({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Xf(e,"POST","/v1/accounts:signInWithPhoneNumber",Qf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Xf(e,"POST","/v1/accounts:signInWithPhoneNumber",Qf(e,t));if(n.temporaryProof)throw tg(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Xf(e,"POST","/v1/accounts:signInWithPhoneNumber",Qf(e,c(c({},t),{},{operation:"REAUTH"})),ov)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:r}=e;return n||t||s||r?new lv({verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:r}):null}}class cv{constructor(e){var t,n,s,r,i,a;const o=tn(nn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=o.mode)&&void 0!==s?s:null);Lf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=tn(nn(e)).link,n=t?tn(nn(t)).deep_link_id:null,s=tn(nn(e)).deep_link_id;return(s?tn(nn(s)).link:null)||s||n||t||e}(e);try{return new cv(t)}catch(n){return null}}}class uv{constructor(){this.providerId=uv.PROVIDER_ID}static credential(e,t){return sv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=cv.parseLink(t);return Lf(n,"argument-error"),sv._fromEmailAndCode(e,n.code,n.tenantId)}}uv.PROVIDER_ID="password",uv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",uv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hv extends dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pv extends hv{constructor(){super("facebook.com")}static credential(e){return iv._fromParams({providerId:pv.PROVIDER_ID,signInMethod:pv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pv.credentialFromTaggedObject(e)}static credentialFromError(e){return pv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pv.credential(t.oauthAccessToken)}catch(n){return null}}}pv.FACEBOOK_SIGN_IN_METHOD="facebook.com",pv.PROVIDER_ID="facebook.com";class mv extends hv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return iv._fromParams({providerId:mv.PROVIDER_ID,signInMethod:mv.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mv.credentialFromTaggedObject(e)}static credentialFromError(e){return mv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return mv.credential(n,s)}catch(r){return null}}}mv.GOOGLE_SIGN_IN_METHOD="google.com",mv.PROVIDER_ID="google.com";class fv extends hv{constructor(){super("github.com")}static credential(e){return iv._fromParams({providerId:fv.PROVIDER_ID,signInMethod:fv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fv.credentialFromTaggedObject(e)}static credentialFromError(e){return fv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fv.credential(t.oauthAccessToken)}catch(n){return null}}}fv.GITHUB_SIGN_IN_METHOD="github.com",fv.PROVIDER_ID="github.com";class gv extends hv{constructor(){super("twitter.com")}static credential(e,t){return iv._fromParams({providerId:gv.PROVIDER_ID,signInMethod:gv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gv.credentialFromTaggedObject(e)}static credentialFromError(e){return gv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return gv.credential(n,s)}catch(r){return null}}}gv.TWITTER_SIGN_IN_METHOD="twitter.com",gv.PROVIDER_ID="twitter.com";class vv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await vg._fromIdTokenResponse(e,n,s),i=yv(n);return new vv({user:r,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=yv(n);return new vv({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function yv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class xv extends Yt{constructor(e,t,n,s){var r;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,xv.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new xv(e,t,n,s)}}function bv(e,t,n,s){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw xv._fromErrorAndOperation(e,n,t,s);throw n})}async function wv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=await ug(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return vv._forOperation(e,"link",s)}async function jv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:s}=e;if(bs(s.app))return Promise.reject(Rf(s));const r="reauthenticate";try{const i=await ug(e,bv(s,r,t,e),n);Lf(i.idToken,s,"internal-error");const a=lg(i.idToken);Lf(a,s,"internal-error");const{sub:o}=a;return Lf(e.uid===o,s,"user-mismatch"),vv._forOperation(e,r,i)}catch(cI){throw(null===cI||void 0===cI?void 0:cI.code)==="auth/".concat("user-not-found")&&If(s,"user-mismatch"),cI}}async function kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bs(e.app))return Promise.reject(Rf(e));const s="signIn",r=await bv(e,s,t),i=await vv._fromIdTokenResponse(e,s,r);return n||await e._updateCurrentUser(i.user),i}function Nv(e,t,n,s){return on(e).onAuthStateChanged(t,n,s)}function Sv(e,t){return Yf(e,"POST","/v2/accounts/mfaEnrollment:start",Qf(e,t))}new WeakMap;const Cv="__sak";class Ev{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cv,"1"),this.storage.removeItem(Cv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _v extends Ev{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Rg()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,10):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_v.type="LOCAL";const Tv=_v;function Iv(e){var t,n;const s=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp("".concat(s,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(r))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Av(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Pv{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Av(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Iv(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Av(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Av(e);if(window.cookieStore){const e=e=>{const s=e.changed.find(e=>e.name===n);s&&t(s.value);e.deleted.find(e=>e.name===n)&&t(null)},s=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,s),window.cookieStore.addEventListener("change",e)}let s=Iv(n);const r=setInterval(()=>{const e=Iv(n);e!==s&&(t(e),s=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(r))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Pv.type="COOKIE";class Rv extends Ev{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rv.type="SESSION";const Dv=Rv;class Ov{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ov(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:r}=t.data,i=this.handlersMap[s];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(i).map(async e=>e(t.origin,r)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Lv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let s=0;s<t;s++)n+=Math.floor(10*Math.random());return e+n}Ov.receivers=[];class Mv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const s="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,i;return new Promise((a,o)=>{const l=Lv("",20);s.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Uv(){return window}function Fv(){return"undefined"!==typeof Uv().WorkerGlobalScope&&"function"===typeof Uv().importScripts}const Vv="firebaseLocalStorageDb",zv="firebaseLocalStorage",Bv="fbase_key";class qv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hv(e,t){return e.transaction([zv],t?"readwrite":"readonly").objectStore(zv)}function Wv(){const e=indexedDB.open(Vv,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(zv,{keyPath:Bv})}catch(cI){n(cI)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(zv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Vv);return new qv(e).toPromise()}(),t(await Wv()))})})}async function Kv(e,t,n){const s=Hv(e,!0).put({[Bv]:t,value:n});return new qv(s).toPromise()}function Gv(e,t){const n=Hv(e,!0).delete(t);return new qv(n).toPromise()}class Qv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Wv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(cI){if(t++>3)throw cI;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ov._getInstance(Fv()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Mv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wv();return await Kv(e,Cv,"1"),await Gv(e,Cv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Hv(e,!1).get(t),s=await new qv(n).toPromise();return void 0===s?null:s.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Hv(e,!1).getAll();return new qv(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:s,value:r}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qv.type="LOCAL";const Yv=Qv;function $v(e,t){return Yf(e,"POST","/v2/accounts/mfaSignIn:start",Qf(e,t))}qg("rcb"),new Bf(3e4,6e4);const Xv="recaptcha";async function Jv(e,t,n){if(!e._getRecaptchaConfig())try{await $g(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Lf("enroll"===t.type,e,"internal-error");const s={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Yg(e,s,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Kg){Lf((null===n||void 0===n?void 0:n.type)===Xv,e,"argument-error");return Sv(e,await Zv(e,t,n))}return Sv(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var s;Lf("signin"===t.type,e,"internal-error");const i=(null===(s=r.multiFactorHint)||void 0===s?void 0:s.uid)||r.multiFactorUid;Lf(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Yg(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Kg){Lf((null===n||void 0===n?void 0:n.type)===Xv,e,"argument-error");return $v(e,await Zv(e,t,n))}return $v(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},s=Yg(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Kg){Lf((null===n||void 0===n?void 0:n.type)===Xv,e,"argument-error");return av(e,await Zv(e,t,n))}return av(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Zv(e,t,n){Lf(n.type===Xv,e,"argument-error");const s=await n.verify();Lf("string"===typeof s,e,"argument-error");const r=c({},t);if("phoneEnrollmentInfo"in r){const e=r.phoneEnrollmentInfo.phoneNumber,t=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,i=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:s,captchaResponse:t,clientType:n,recaptchaVersion:i}}),r}if("phoneSignInInfo"in r){const e=r.phoneSignInInfo.captchaResponse,t=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:e,clientType:t,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:s}),r}class ey{constructor(e){this.providerId=ey.PROVIDER_ID,this.auth=Fg(e)}verifyPhoneNumber(e,t){return Jv(this.auth,e,on(t))}static credential(e,t){return lv._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ey.credentialFromTaggedObject(t)}static credentialFromError(e){return ey.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:s}=t;return n&&s?lv._fromTokenResponse(n,s):null}}function ty(e,t){return t?xg(t):(Lf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ey.PROVIDER_ID="phone",ey.PHONE_SIGN_IN_METHOD="phone";class ny extends ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sy(e){return kv(e.auth,new ny(e),e.bypassAuthState)}function ry(e){const{auth:t,user:n}=e;return Lf(n,t,"internal-error"),jv(n,new ny(e),e.bypassAuthState)}async function iy(e){const{auth:t,user:n}=e;return Lf(n,t,"internal-error"),wv(n,new ny(e),e.bypassAuthState)}class ay{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(cI){this.reject(cI)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:r,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(cI){this.reject(cI)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sy;case"linkViaPopup":case"linkViaRedirect":return iy;case"reauthViaPopup":case"reauthViaRedirect":return ry;default:If(this.auth,"internal-error")}}resolve(e){Uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oy=new Bf(2e3,1e4);async function ly(e,t,n){if(bs(e.app))return Promise.reject(Af(e,"operation-not-supported-in-this-environment"));const s=Fg(e);Df(e,t,dv);const r=ty(s,n);return new cy(s,"signInViaPopup",t,r).executeNotNull()}class cy extends ay{constructor(e,t,n,s,r){super(e,t,s,r),this.provider=n,this.authWindow=null,this.pollId=null,cy.currentPopupAction&&cy.currentPopupAction.cancel(),cy.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Lf(e,this.auth,"internal-error"),e}async onExecution(){Uf(1===this.filter.length,"Popup operations only handle one event");const e=Lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Af(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Af(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cy.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Af(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,oy.get())};e()}}cy.currentPopupAction=null;const uy=new Map;class dy extends ay{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=uy.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=my(t),s=py(e);if(!await s._isAvailable())return!1;const r="true"===await s._get(n);return await s._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(cI){e=()=>Promise.reject(cI)}uy.set(this.auth._key(),e)}return this.bypassAuthState||uy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function hy(e,t){uy.set(e._key(),t)}function py(e){return xg(e._redirectPersistence)}function my(e){return jg("pendingRedirect",e.config.apiKey,e.name)}async function fy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bs(e.app))return Promise.reject(Rf(e));const s=Fg(e),r=ty(s,t),i=new dy(s,r,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,t)),a}class gy{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!yy(e)){var n;const s=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Af(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vy(e))}saveEventToCache(e){this.cachedEventUids.add(vy(e)),this.lastProcessedEventTime=Date.now()}}function vy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function yy(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const xy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,by=/^https?/;async function wy(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Yf(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const s of t)try{if(jy(s))return}catch(n){}If(e,"unauthorized-domain")}function jy(e){const t=Ff(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===s?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===s}if(!by.test(n))return!1;if(xy.test(e))return s===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const ky=new Bf(3e4,6e4);function Ny(){const e=Uv().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Sy(e){return new Promise((t,n)=>{var s,r;function i(){Ny(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ny(),n(Af(e,"network-request-failed"))},timeout:ky.get()})}if(null!==(s=Uv().gapi)&&void 0!==s&&null!==(s=s.iframes)&&void 0!==s&&s.Iframe)t(gapi.iframes.getContext());else{if(null===(r=Uv().gapi)||void 0===r||!r.load){const t=qg("iframefcb");return Uv()[t]=()=>{gapi.load?i():n(Af(e,"network-request-failed"))},Bg("".concat(zg.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw Cy=null,e})}let Cy=null;const Ey=new Bf(5e3,15e3),_y={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ty=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iy(e){const t=e.config;Lf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),s={apiKey:t.apiKey,appName:e.name,v:ks},r=Ty.get(e.config.apiHost);r&&(s.eid=r);const i=e._getFrameworks();return i.length&&(s.fw=i.join(",")),"".concat(n,"?").concat(en(s).slice(1))}async function Ay(e){const t=await function(e){return Cy=Cy||Sy(e),Cy}(e),n=Uv().gapi;return Lf(n,e,"internal-error"),t.open({where:document.body,url:Iy(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_y,dontclear:!0},t=>new Promise(async(n,s)=>{await t.restyle({setHideOnLeave:!1});const r=Af(e,"network-request-failed"),i=Uv().setTimeout(()=>{s(r)},Ey.get());function a(){Uv().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{s(r)})}))}const Py={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(cI){}}}function Dy(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let o="";const l=c(c({},Py),{},{width:s.toString(),height:r.toString(),top:i,left:a}),u=qt().toLowerCase();n&&(o=Eg(u)?"_blank":n),Sg(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,s]=t;return"".concat(e).concat(n,"=").concat(s,",")},"");if(function(){var e;return Pg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}(t||"",o),new Ry(null);const h=window.open(t||"",o,d);Lf(h,e,"popup-blocked");try{h.focus()}catch(cI){}return new Ry(h)}const Oy="__/auth/handler",Ly="emulator/auth/handler",My=encodeURIComponent("fac");async function Uy(e,t,n,s,r,i){Lf(e.config.authDomain,e,"auth-domain-config-required"),Lf(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:ks,eventId:r};if(t instanceof dv){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof hv){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(My,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Oy);return qf(t,Ly)}(e),"?").concat(en(o).slice(1)).concat(c)}const Fy="webStorageSupport";const Vy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dv,this._completeRedirectFn=fy,this._overrideRedirectResult=hy}async _openPopup(e,t,n,s){var r;Uf(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Dy(e,await Uy(e,t,n,Ff(),s),Lv())}async _openRedirect(e,t,n,s){await this._originValidation(e);return function(e){Uv().location.href=e}(await Uy(e,t,n,Ff(),s)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Uf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ay(e),n=new gy(e);return t.register("authEvent",t=>{Lf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fy,{type:Fy},n=>{var s;const r=null===n||void 0===n||null===(s=n[0])||void 0===s?void 0:s[Fy];void 0!==r&&t(!!r),If(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wy(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dg()||Cg()||Pg()}};var zy="@firebase/auth",By="1.11.0";class qy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Lf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hy=Ot("authIdTokenMaxAge")||300;let Wy=null;function Ky(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();const t=xs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=xs(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Jt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;If(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Vy,persistence:[Yv,Tv,Dv]}),s=Ot("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Hy)return;const s=null===t||void 0===t?void 0:t.token;Wy!==s&&(Wy=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:"Bearer ".concat(s)}:{}}))});!function(e,t,n){on(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,s){on(e).onIdTokenChanged(t,n,s)}(n,e=>t(e))}}var r;const i=Pt("auth");return i&&Xg(n,"http://".concat(i)),n}var Gy;zg={loadJS:e=>new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{const t=Af("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Gy="Browser",ys(new ln("auth",(e,t)=>{let{options:n}=t;const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=s.options;Lf(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:a,authDomain:o,clientPlatform:Gy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Og(Gy)},c=new Ug(s,r,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(xg);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ys(new ln("auth-internal",e=>(e=>new qy(e))(Fg(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Es(zy,By,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Gy)),Es(zy,By,"esm2020");const Qy="firebasestorage.googleapis.com",Yy="storageBucket";class $y extends Yt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Zy(e),"Firebase Storage: ".concat(t," (").concat(Zy(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$y.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Xy,Jy;function Zy(e){return"storage/"+e}function ex(){return new $y(Xy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tx(){return new $y(Xy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nx(){return new $y(Xy.CANCELED,"User canceled the upload/download.")}function sx(){return new $y(Xy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rx(e){return new $y(Xy.INVALID_ARGUMENT,e)}function ix(){return new $y(Xy.APP_DELETED,"The Firebase app was deleted.")}function ax(e,t){return new $y(Xy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ox(e){throw new $y(Xy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Xy||(Xy={}));class lx{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=lx.makeFromUrl(e,t)}catch(cI){return new lx(e,"")}if(""===n.path)return n;throw s=e,new $y(Xy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.");var s}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+s+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(s,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===Qy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(s,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],s=t.regex.exec(e);if(s){const e=s[t.indices.bucket];let r=s[t.indices.path];r||(r=""),n=new lx(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new $y(Xy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class cx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function ux(e){return"string"===typeof e||e instanceof String}function dx(e){return hx()&&e instanceof Blob}function hx(){return"undefined"!==typeof Blob}function px(e,t,n,s){if(s<t)throw rx("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(s>n)throw rx("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mx(e,t,n){let s=t;return null==n&&(s="https://".concat(t)),"".concat(n,"://").concat(s,"/v0").concat(e)}function fx(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){n=n+(t(s)+"="+t(e[s]))+"&"}return n=n.slice(0,-1),n}function gx(e,t){const n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||s||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Jy||(Jy={}));class vx{constructor(e,t,n,s,r,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new yx(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const s=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(s),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(s),this.pendingConnection_=null;const t=n.getErrorCode()===Jy.NO_ERROR,r=n.getStatus();if(!t||gx(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Jy.ABORT;return void e(!1,new yx(!1,null,t))}const i=-1!==this.successCodes_.indexOf(r);e(!0,new yx(i,n))})},t=(e,t)=>{const n=this.resolve_,s=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(cI){s(cI)}else if(null!==r){const e=ex();e.serverResponse=r.getErrorText(),this.errorCallback_?s(this.errorCallback_(r,e)):s(e)}else if(t.canceled){s(this.appDelete_?ix():nx())}else{s(tx())}};this.canceled_?t(0,new yx(!1,null,!0)):this.backoffId_=function(e,t,n){let s=1,r=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(null,n)}}function d(t){r=setTimeout(()=>{r=null,e(p,l())},t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;s<64&&(s*=2),1===o?(o=2,i=0):i=1e3*(s+Math.random()),d(i)}let m=!1;function f(e){m||(m=!0,h(),c||(null!==r?(e||(o=2),clearTimeout(r),d(0)):e||(o=1)))}return d(0),i=setTimeout(()=>{a=!0,f(!0)},n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class yx{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function xx(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function bx(){const e=xx();for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(hx())return new Blob(n);throw new $y(Xy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function wx(e){if("undefined"===typeof atob)throw t="base-64",new $y(Xy.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const jx="raw",kx="base64",Nx="base64url",Sx="data_url";class Cx{constructor(e,t){this.data=e,this.contentType=t||null}}function Ex(e,t){switch(e){case jx:return new Cx(_x(t));case kx:case Nx:return new Cx(Tx(e,t));case Sx:return new Cx(function(e){const t=new Ix(e);return t.base64?Tx(kx,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(cI){throw ax(Sx,"Malformed data URL.")}return _x(t)}(t.rest)}(t),new Ix(t).contentType)}throw ex()}function _x(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|63&s);else if(55296===(64512&s)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){s=65536|(1023&s)<<10|1023&e.charCodeAt(++n),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)}else t.push(239,191,189)}else 56320===(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function Tx(e,t){switch(e){case kx:{const n=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(n||s){throw ax(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Nx:{const n=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(n||s){throw ax(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wx(t)}catch(cI){if(cI.message.includes("polyfill"))throw cI;throw ax(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class Ix{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw ax(Sx,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Ax{constructor(e,t){let n=0,s="";dx(e)?(this.data_=e,n=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(dx(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Ax(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Ax(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(hx()){const e=t.map(e=>e instanceof Ax?e.data_:e);return new Ax(bx.apply(null,e))}{const e=t.map(e=>ux(e)?Ex(jx,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const s=new Uint8Array(n);let r=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)s[r++]=e[t]}),new Ax(s,!0)}}uploadData(){return this.data_}}function Px(e){let t;try{t=JSON.parse(e)}catch(cI){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Rx(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Dx(e,t){return t}class Ox{constructor(e,t,n,s){this.server=e,this.local=t||e,this.writable=!!n,this.xform=s||Dx}}let Lx=null;function Mx(){if(Lx)return Lx;const e=[];e.push(new Ox("bucket")),e.push(new Ox("generation")),e.push(new Ox("metageneration")),e.push(new Ox("name","fullPath",!0));const t=new Ox("name");t.xform=function(e,t){return function(e){return!ux(e)||e.length<2?e:Rx(e)}(t)},e.push(t);const n=new Ox("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ox("timeCreated")),e.push(new Ox("updated")),e.push(new Ox("md5Hash",null,!0)),e.push(new Ox("cacheControl",null,!0)),e.push(new Ox("contentDisposition",null,!0)),e.push(new Ox("contentEncoding",null,!0)),e.push(new Ox("contentLanguage",null,!0)),e.push(new Ox("contentType",null,!0)),e.push(new Ox("metadata","customMetadata",!0)),Lx=e,Lx}function Ux(e,t,n){const s={type:"file"},r=n.length;for(let i=0;i<r;i++){const e=n[i];s[e.local]=e.xform(s,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,s=e.fullPath,r=new lx(n,s);return t._makeStorageReference(r)}})}(s,e),s}function Fx(e,t,n){const s=Px(t);if(null===s)return null;return Ux(e,s,n)}function Vx(e,t){const n={},s=t.length;for(let r=0;r<s;r++){const s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class zx{constructor(e,t,n,s){this.url=e,this.method=t,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bx(e){if(!e)throw ex()}function qx(e,t){return function(n,s){const r=Fx(e,s,t);return Bx(null!==r),r}}function Hx(e,t){return function(n,s){const r=Fx(e,s,t);return Bx(null!==r),function(e,t,n,s){const r=Px(t);if(null===r)return null;if(!ux(r.downloadTokens))return null;const i=r.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map(t=>{const r=e.bucket,i=e.fullPath;return mx("/b/"+a(r)+"/o/"+a(i),n,s)+fx({alt:"media",token:t})})[0]}(r,s,e.host,e._protocol)}}function Wx(e){return function(t,n){let s;var r,i;return 401===t.getStatus()?s=t.getErrorText().includes("Firebase App Check token is invalid")?new $y(Xy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new $y(Xy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,s=new $y(Xy.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,s=new $y(Xy.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):s=n,s.status=t.getStatus(),s.serverResponse=n.serverResponse,s}}function Kx(e){const t=Wx(e);return function(n,s){let r=t(n,s);var i;return 404===n.getStatus()&&(i=e.path,r=new $y(Xy.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),r.serverResponse=s.serverResponse,r}}function Gx(e,t,n){const s=mx(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new zx(s,"GET",qx(e,n),r);return i.errorHandler=Kx(t),i}function Qx(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),s}function Yx(e,t,n,s,r){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Qx(t,s,r),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Vx(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Ax.getBlob(c,s,u);if(null===d)throw sx();const h={name:l.fullPath},p=mx(i,e.host,e._protocol),m=e.maxUploadRetryTime,f=new zx(p,"POST",qx(e,n),m);return f.urlParams=h,f.headers=a,f.body=d.uploadData(),f.errorHandler=Wx(t),f}class $x{constructor(e,t,n,s){this.current=e,this.total=t,this.finalized=!!n,this.metadata=s||null}}function Xx(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(cI){Bx(!1)}return Bx(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Jx=262144;function Zx(e,t,n,s,r,i,a,o){const l=new $x(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=s.size()),s.size()!==l.total)throw new $y(Xy.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const d=l.current,h=d+u;let p="";p=0===u?"finalize":c===u?"upload, finalize":"upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":"".concat(l.current)},f=s.slice(d,h);if(null===f)throw sx();const g=t.maxUploadRetryTime,v=new zx(n,"POST",function(e,n){const r=Xx(e,["active","final"]),a=l.current+u,o=s.size();let c;return c="final"===r?qx(t,i)(e,n):null,new $x(a,o,"final"===r,c)},g);return v.headers=m,v.body=f.uploadData(),v.progressCallback=o||null,v.errorHandler=Wx(e),v}const eb="running",tb="paused",nb="success",sb="canceled",rb="error";function ib(e){switch(e){case"running":case"pausing":case"canceling":return eb;case"paused":return tb;case"success":return nb;case"canceled":return sb;default:return rb}}class ab{constructor(e,t,n){const s=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(s)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function ob(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];Promise.resolve().then(()=>e(...n))}}class lb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jy.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jy.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jy.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,s,r){if(this.sent_)throw ox("cannot .send() more than once");if(Mt(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ox("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ox("cannot .getStatus() before sending");try{return this.xhr_.status}catch(cI){return-1}}getResponse(){if(!this.sent_)throw ox("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ox("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class cb extends lb{initXhr(){this.xhr_.responseType="text"}}function ub(){return new cb}class db{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Mx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Xy.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(gx(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=tx()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Xy.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(t=>{let[n,s]=t;switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,s,r){const i=t.bucketOnlyServerUrl(),a=Qx(t,s,r),o={name:a.fullPath},l=mx(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(s.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=Vx(a,n),d=e.maxUploadRetryTime,h=new zx(l,"POST",function(e){let t;Xx(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(cI){Bx(!1)}return Bx(ux(t)),t},d);return h.urlParams=o,h.headers=c,h.body=u,h.errorHandler=Wx(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(n,ub,e,t);this._request=s,s.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const s=function(e,t,n,s){const r=e.maxUploadRetryTime,i=new zx(n,"POST",function(e){const t=Xx(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(cI){Bx(!1)}n||Bx(!1);const r=Number(n);return Bx(!isNaN(r)),new $x(r,s.size(),"final"===t)},r);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Wx(t),i}(this._ref.storage,this._ref._location,e,this._blob),r=this._ref.storage._makeRequest(s,ub,t,n);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Jx*this._chunkMultiplier,t=new $x(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((s,r)=>{let i;try{i=Zx(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(cI){return this._error=cI,void this._transition("error")}const a=this._ref.storage._makeRequest(i,ub,s,r,!1);this._request=a,a.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){2*(Jx*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=Gx(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(n,ub,e,t);this._request=s,s.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=Yx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(n,ub,e,t);this._request=s,s.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nx(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ib(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,s){const r=new ab(t||void 0,n||void 0,s||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ib(this._state)){case nb:ob(this._resolve.bind(null,this.snapshot))();break;case sb:case rb:ob(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ib(this._state)){case eb:case tb:e.next&&ob(e.next.bind(e,this.snapshot))();break;case nb:e.complete&&ob(e.complete.bind(e))();break;default:e.error&&ob(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class hb{constructor(e,t){this._service=e,this._location=t instanceof lx?t:lx.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hb(e,t)}get root(){const e=new lx(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rx(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new lx(this._location.bucket,e);return new hb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new $y(Xy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function pb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const s=mx(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new zx(s,"GET",Hx(e,n),r);return i.errorHandler=Kx(t),i}(e.storage,e._location,Mx());return e.storage.makeRequestWithTokens(t,ub).then(e=>{if(null===e)throw new $y(Xy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function mb(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),s=new lx(e._location.bucket,n);return new hb(e.storage,s)}function fb(e,t){if(e instanceof yb){const n=e;if(null==n._bucket)throw new $y(Xy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yy+"' property when initializing the app?");const s=new hb(n,n._bucket);return null!=t?fb(s,t):s}return void 0!==t?mb(e,t):e}function gb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof yb)return new hb(e,t);throw rx("To use ref(service, url), the first argument must be a Storage instance.")}return fb(e,t)}function vb(e,t){const n=null===t||void 0===t?void 0:t[Yy];return null==n?null:lx.makeFromBucketSpec(n,e)}class yb{constructor(e,t,n,s,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=r,this._isUsingEmulator=i,this._bucket=null,this._host=Qy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?lx.makeFromBucketSpec(s,this._host):vb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=lx.makeFromBucketSpec(this._url,e):this._bucket=vb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){px("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){px("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hb(this,e)}_makeRequest(e,t,n,s){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new cx(ix());{const i=function(e,t,n,s,r,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=fx(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,s),new vx(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a,o)}(e,this._appId,n,s,t,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const xb="@firebase/storage",bb="0.14.0",wb="storage";function jb(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new db(e,new Ax(t),n)}(e=on(e),t,n)}function kb(e,t){let{instanceIdentifier:n}=t;const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new yb(s,r,i,n,ks)}ys(new ln(wb,kb,"PUBLIC").setMultipleInstances(!0)),Es(xb,bb,""),Es(xb,bb,"esm2020");const Nb=Cs().length?Cs()[0]:Ns({apiKey:"AIzaSyAtCkrmxQ0pu78XMkkKuHIIM9AsNMOx8vQ",authDomain:"vrumies-github.firebaseapp.com",projectId:"vrumies-github",storageBucket:"vrumies-github.appspot.com",messagingSenderId:"884036346105",appId:"1:884036346105:web:0fe8428593fa77f5494228",measurementId:"G-76VZ3HR687"});let Sb;try{Sb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();e=on(e);const t=xs(e,Er);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=xs(e,Er);if(n.isInitialized()){const e=n.getImmediate();if(Jt(t,n.getOptions()))return e;throw Ir.create("already-initialized")}return n.initialize({options:t})}(e)}(Nb)}catch(cI){Sb=null}const Cb=function(e,t){const n="object"==typeof e?e:Ss(),s="string"==typeof e?e:t||Ao,r=xs(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const e=Rt("firestore");e&&function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=ca(e,Gp);const r=Mt(t),i=e._getSettings(),a=c(c({},i),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);r&&(Ut("https://".concat(o)),Bt("Firestore",!0)),i.host!==Hp&&i.host!==o&&Ei("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},i),{},{host:o,ssl:r,emulatorOptions:s});if(!Jt(l,a)&&(e._setSettings(l),s.mockUserToken)){let t,n;if("string"==typeof s.mockUserToken)t=s.mockUserToken,n=wi.MOCK_USER;else{var u;t=Ft(s.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const r=s.mockUserToken.sub||s.mockUserToken.user_id;if(!r)throw new Di(Ri.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new wi(r)}e._authCredentials=new Ui(new Li(t,n))}}(r,...e)}return r}(Nb),Eb=Ky(Nb),_b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss(),t=arguments.length>1?arguments[1]:void 0;e=on(e);const n=xs(e,wb).getImmediate({identifier:t}),s=Rt("storage");return s&&function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const r=Mt(t);r&&(Ut("https://".concat(e.host,"/b")),Bt("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:i}=s;i&&(e._overrideAuthToken="string"===typeof i?i:Ft(i,e.app.options.projectId))}(e,t,n,s)}(n,...s),n}(Nb),Tb=new mv,Ib="vrumies_preset",Ab="dmjvngk3o",Pb="AIzaSyAF-Y9M2YTMmMBu6RU7sDh4vRM9gFdC5MI";var Rb=n(579);const Db=e=>{let{formData:n,setFormData:s}=e;const[r,i]=(0,t.useState)(""),[a,o]=(0,t.useState)([]),l=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)l.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.onload=()=>{l.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Post Location"}),(0,Rb.jsx)("input",{value:r,onChange:e=>{const t=e.target.value;i(t),t&&l.current&&l.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},e=>o(e||[]))},placeholder:"Type a city..."}),(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:a.map(e=>(0,Rb.jsxs)("li",{onClick:()=>(e=>{var t,n;const r=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",a=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"";s(e=>c(c({},e),{},{city:r,state:a,location:"".concat(r,", ").concat(a)})),i("".concat(r,", ").concat(a)),o([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]})},Ob=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",value:t,onChange:n})]})};function Lb(e,t){return function(){return e.apply(t,arguments)}}const{toString:Mb}=Object.prototype,{getPrototypeOf:Ub}=Object,{iterator:Fb,toStringTag:Vb}=Symbol,zb=(Bb=Object.create(null),e=>{const t=Mb.call(e);return Bb[t]||(Bb[t]=t.slice(8,-1).toLowerCase())});var Bb;const qb=e=>(e=e.toLowerCase(),t=>zb(t)===e),Hb=e=>t=>typeof t===e,{isArray:Wb}=Array,Kb=Hb("undefined");function Gb(e){return null!==e&&!Kb(e)&&null!==e.constructor&&!Kb(e.constructor)&&$b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qb=qb("ArrayBuffer");const Yb=Hb("string"),$b=Hb("function"),Xb=Hb("number"),Jb=e=>null!==e&&"object"===typeof e,Zb=e=>{if("object"!==zb(e))return!1;const t=Ub(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Vb in e)&&!(Fb in e)},ew=qb("Date"),tw=qb("File"),nw=qb("Blob"),sw=qb("FileList"),rw=qb("URLSearchParams"),[iw,aw,ow,lw]=["ReadableStream","Request","Response","Headers"].map(qb);function cw(e,t){let n,s,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Wb(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Gb(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let a;for(n=0;n<i;n++)a=s[n],t.call(null,e[a],a,e)}}function uw(e,t){if(Gb(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s,r=n.length;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const dw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,hw=e=>!Kb(e)&&e!==dw;const pw=(mw="undefined"!==typeof Uint8Array&&Ub(Uint8Array),e=>mw&&e instanceof mw);var mw;const fw=qb("HTMLFormElement"),gw=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),vw=qb("RegExp"),yw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};cw(n,(n,r)=>{let i;!1!==(i=t(n,r,e))&&(s[r]=i||n)}),Object.defineProperties(e,s)};const xw=qb("AsyncFunction"),bw=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),s=[],dw.addEventListener("message",e=>{let{source:t,data:r}=e;t===dw&&r===n&&s.length&&s.shift()()},!1),e=>{s.push(e),dw.postMessage(n,"*")}):e=>setTimeout(e);var n,s})("function"===typeof setImmediate,$b(dw.postMessage)),ww="undefined"!==typeof queueMicrotask?queueMicrotask.bind(dw):"undefined"!==typeof process&&process.nextTick||bw,jw={isArray:Wb,isArrayBuffer:Qb,isBuffer:Gb,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||$b(e.append)&&("formdata"===(t=zb(e))||"object"===t&&$b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Qb(e.buffer),t},isString:Yb,isNumber:Xb,isBoolean:e=>!0===e||!1===e,isObject:Jb,isPlainObject:Zb,isEmptyObject:e=>{if(!Jb(e)||Gb(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(cI){return!1}},isReadableStream:iw,isRequest:aw,isResponse:ow,isHeaders:lw,isUndefined:Kb,isDate:ew,isFile:tw,isBlob:nw,isRegExp:vw,isFunction:$b,isStream:e=>Jb(e)&&$b(e.pipe),isURLSearchParams:rw,isTypedArray:pw,isFileList:sw,forEach:cw,merge:function e(){const{caseless:t}=hw(this)&&this||{},n={},s=(s,r)=>{const i=t&&uw(n,r)||r;Zb(n[i])&&Zb(s)?n[i]=e(n[i],s):Zb(s)?n[i]=e({},s):Wb(s)?n[i]=s.slice():n[i]=s};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cw(arguments[r],s);return n},extend:function(e,t,n){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return cw(t,(t,s)=>{n&&$b(t)?e[s]=Lb(t,n):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,s)=>{let r,i,a;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)a=r[i],s&&!s(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&Ub(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:zb,kindOfTest:qb,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return-1!==s&&s===n},toArray:e=>{if(!e)return null;if(Wb(e))return e;let t=e.length;if(!Xb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Fb]).call(e);let s;for(;(s=n.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const s=[];for(;null!==(n=e.exec(t));)s.push(n);return s},isHTMLForm:fw,hasOwnProperty:gw,hasOwnProp:gw,reduceDescriptors:yw,freezeMethods:e=>{yw(e,(t,n)=>{if($b(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=e[n];$b(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},s=e=>{e.forEach(e=>{n[e]=!0})};return Wb(e)?s(e):s(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:uw,global:dw,isContextDefined:hw,isSpecCompliantForm:function(e){return!!(e&&$b(e.append)&&"FormData"===e[Vb]&&e[Fb])},toJSONObject:e=>{const t=new Array(10),n=(e,s)=>{if(Jb(e)){if(t.indexOf(e)>=0)return;if(Gb(e))return e;if(!("toJSON"in e)){t[s]=e;const r=Wb(e)?[]:{};return cw(e,(e,t)=>{const i=n(e,s+1);!Kb(i)&&(r[t]=i)}),t[s]=void 0,r}}return e};return n(e,0)},isAsyncFn:xw,isThenable:e=>e&&(Jb(e)||$b(e))&&$b(e.then)&&$b(e.catch),setImmediate:bw,asap:ww,isIterable:e=>null!=e&&$b(e[Fb])};function kw(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}jw.inherits(kw,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jw.toJSONObject(this.config),code:this.code,status:this.status}}});const Nw=kw.prototype,Sw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Sw[e]={value:e}}),Object.defineProperties(kw,Sw),Object.defineProperty(Nw,"isAxiosError",{value:!0}),kw.from=(e,t,n,s,r,i)=>{const a=Object.create(Nw);return jw.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),kw.call(a,e.message,t,n,s,r),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Cw=kw;function Ew(e){return jw.isPlainObject(e)||jw.isArray(e)}function _w(e){return jw.endsWith(e,"[]")?e.slice(0,-2):e}function Tw(e,t,n){return e?e.concat(t).map(function(e,t){return e=_w(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Iw=jw.toFlatObject(jw,{},null,function(e){return/^is[A-Z]/.test(e)});const Aw=function(e,t,n){if(!jw.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(n=jw.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!jw.isUndefined(t[e])})).metaTokens,r=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&jw.isSpecCompliantForm(t);if(!jw.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(jw.isDate(e))return e.toISOString();if(jw.isBoolean(e))return e.toString();if(!o&&jw.isBlob(e))throw new Cw("Blob is not supported. Use a Buffer instead.");return jw.isArrayBuffer(e)||jw.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(jw.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(jw.isArray(e)&&function(e){return jw.isArray(e)&&!e.some(Ew)}(e)||(jw.isFileList(e)||jw.endsWith(n,"[]"))&&(o=jw.toArray(e)))return n=_w(n),o.forEach(function(e,s){!jw.isUndefined(e)&&null!==e&&t.append(!0===a?Tw([n],s,i):null===a?n:n+"[]",l(e))}),!1;return!!Ew(e)||(t.append(Tw(r,n,i),l(e)),!1)}const u=[],d=Object.assign(Iw,{defaultVisitor:c,convertValue:l,isVisitable:Ew});if(!jw.isObject(e))throw new TypeError("data must be an object");return function e(n,s){if(!jw.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+s.join("."));u.push(n),jw.forEach(n,function(n,i){!0===(!(jw.isUndefined(n)||null===n)&&r.call(t,n,jw.isString(i)?i.trim():i,s,d))&&e(n,s?s.concat(i):[i])}),u.pop()}}(e),t};function Pw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Rw(e,t){this._pairs=[],e&&Aw(e,this,t)}const Dw=Rw.prototype;Dw.append=function(e,t){this._pairs.push([e,t])},Dw.toString=function(e){const t=e?function(t){return e.call(this,t,Pw)}:Pw;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ow=Rw;function Lw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mw(e,t,n){if(!t)return e;const s=n&&n.encode||Lw;jw.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(i=r?r(t,n):jw.isURLSearchParams(t)?t.toString():new Ow(t,n).toString(s),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Uw=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){jw.forEach(this.handlers,function(t){null!==t&&e(t)})}},Fw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vw={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ow,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zw="undefined"!==typeof window&&"undefined"!==typeof document,Bw="object"===typeof navigator&&navigator||void 0,qw=zw&&(!Bw||["ReactNative","NativeScript","NS"].indexOf(Bw.product)<0),Hw="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ww=zw&&window.location.href||"http://localhost",Kw=c(c({},e),Vw);const Gw=function(e){function t(e,n,s,r){let i=e[r++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=r>=e.length;if(i=!i&&jw.isArray(s)?s.length:i,o)return jw.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!a;s[i]&&jw.isObject(s[i])||(s[i]=[]);return t(e,n,s[i],r)&&jw.isArray(s[i])&&(s[i]=function(e){const t={},n=Object.keys(e);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],t[i]=e[i];return t}(s[i])),!a}if(jw.isFormData(e)&&jw.isFunction(e.entries)){const n={};return jw.forEachEntry(e,(e,s)=>{t(function(e){return jw.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,n,0)}),n}return null};const Qw={transitional:Fw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=jw.isObject(e);r&&jw.isHTMLForm(e)&&(e=new FormData(e));if(jw.isFormData(e))return s?JSON.stringify(Gw(e)):e;if(jw.isArrayBuffer(e)||jw.isBuffer(e)||jw.isStream(e)||jw.isFile(e)||jw.isBlob(e)||jw.isReadableStream(e))return e;if(jw.isArrayBufferView(e))return e.buffer;if(jw.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Aw(e,new Kw.classes.URLSearchParams,c({visitor:function(e,t,n,s){return Kw.isNode&&jw.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=jw.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Aw(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,n){if(jw.isString(e))try{return(t||JSON.parse)(e),jw.trim(e)}catch(cI){if("SyntaxError"!==cI.name)throw cI}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Qw.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(jw.isResponse(e)||jw.isReadableStream(e))return e;if(e&&jw.isString(e)&&(n&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(cI){if(n){if("SyntaxError"===cI.name)throw Cw.from(cI,Cw.ERR_BAD_RESPONSE,this,null,this.response);throw cI}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kw.classes.FormData,Blob:Kw.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jw.forEach(["delete","get","head","post","put","patch"],e=>{Qw.headers[e]={}});const Yw=Qw,$w=jw.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xw=Symbol("internals");function Jw(e){return e&&String(e).trim().toLowerCase()}function Zw(e){return!1===e||null==e?e:jw.isArray(e)?e.map(Zw):String(e)}function ej(e,t,n,s,r){return jw.isFunction(s)?s.call(this,t,n):(r&&(t=n),jw.isString(t)?jw.isString(s)?-1!==t.indexOf(s):jw.isRegExp(s)?s.test(t):void 0:void 0)}class tj{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function r(e,t,n){const r=Jw(t);if(!r)throw new Error("header name must be a non-empty string");const i=jw.findKey(s,r);(!i||void 0===s[i]||!0===n||void 0===n&&!1!==s[i])&&(s[i||t]=Zw(e))}const i=(e,t)=>jw.forEach(e,(e,n)=>r(e,n,t));if(jw.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(jw.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,s,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),s=e.substring(r+1).trim(),!n||t[n]&&$w[n]||("set-cookie"===n?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t})(e),t);else if(jw.isObject(e)&&jw.isIterable(e)){let n,s,r={};for(const t of e){if(!jw.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[s=t[0]]=(n=r[s])?jw.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Jw(e)){const n=jw.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}(e);if(jw.isFunction(t))return t.call(this,e,n);if(jw.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jw(e)){const n=jw.findKey(this,e);return!(!n||void 0===this[n]||t&&!ej(0,this[n],n,t))}return!1}delete(e,t){const n=this;let s=!1;function r(e){if(e=Jw(e)){const r=jw.findKey(n,e);!r||t&&!ej(0,n[r],r,t)||(delete n[r],s=!0)}}return jw.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const r=t[n];e&&!ej(0,this[r],r,e,!0)||(delete this[r],s=!0)}return s}normalize(e){const t=this,n={};return jw.forEach(this,(s,r)=>{const i=jw.findKey(n,r);if(i)return t[i]=Zw(s),void delete t[r];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();a!==r&&delete t[r],t[a]=Zw(s),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return jw.forEach(this,(n,s)=>{null!=n&&!1!==n&&(t[s]=e&&jw.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Xw]=this[Xw]={accessors:{}}).accessors,n=this.prototype;function s(e){const s=Jw(e);t[s]||(!function(e,t){const n=jw.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(e,n,r){return this[s].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[s]=!0)}return jw.isArray(e)?e.forEach(s):s(e),this}}tj.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),jw.reduceDescriptors(tj.prototype,(e,t)=>{let{value:n}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[s]=e}}}),jw.freezeMethods(tj);const nj=tj;function sj(e,t){const n=this||Yw,s=t||n,r=nj.from(s.headers);let i=s.data;return jw.forEach(e,function(e){i=e.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function rj(e){return!(!e||!e.__CANCEL__)}function ij(e,t,n){Cw.call(this,null==e?"canceled":e,Cw.ERR_CANCELED,t,n),this.name="CanceledError"}jw.inherits(ij,Cw,{__CANCEL__:!0});const aj=ij;function oj(e,t,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new Cw("Request failed with status code "+n.status,[Cw.ERR_BAD_REQUEST,Cw.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const lj=function(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=s[a];r||(r=l),n[i]=o,s[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const cj=function(e,t){let n,s,r=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=i,n=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,s||(s=setTimeout(()=>{s=null,a(n)},i-t)))},()=>n&&a(n)]},uj=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const r=lj(50,250);return cj(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-s,l=r(o);s=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},dj=(e,t)=>{const n=null!=e;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},hj=e=>function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return jw.asap(()=>e(...n))},pj=Kw.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kw.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kw.origin),Kw.navigator&&/(msie|trident)/i.test(Kw.navigator.userAgent)):()=>!0,mj=Kw.hasStandardBrowserEnv?{write(e,t,n,s,r,i){const a=[e+"="+encodeURIComponent(t)];jw.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),jw.isString(s)&&a.push("path="+s),jw.isString(r)&&a.push("domain="+r),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function fj(e,t,n){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const gj=e=>e instanceof nj?c({},e):e;function vj(e,t){t=t||{};const n={};function s(e,t,n,s){return jw.isPlainObject(e)&&jw.isPlainObject(t)?jw.merge.call({caseless:s},e,t):jw.isPlainObject(t)?jw.merge({},t):jw.isArray(t)?t.slice():t}function r(e,t,n,r){return jw.isUndefined(t)?jw.isUndefined(e)?void 0:s(void 0,e,0,r):s(e,t,0,r)}function i(e,t){if(!jw.isUndefined(t))return s(void 0,t)}function a(e,t){return jw.isUndefined(t)?jw.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function o(n,r,i){return i in t?s(n,r):i in e?s(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>r(gj(e),gj(t),0,!0)};return jw.forEach(Object.keys(c(c({},e),t)),function(s){const i=l[s]||r,a=i(e[s],t[s],s);jw.isUndefined(a)&&i!==o||(n[s]=a)}),n}const yj=e=>{const t=vj({},e);let n,{data:s,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=nj.from(o),t.url=Mw(fj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),jw.isFormData(s))if(Kw.hasStandardBrowserEnv||Kw.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Kw.hasStandardBrowserEnv&&(r&&jw.isFunction(r)&&(r=r(t)),r||!1!==r&&pj(t.url))){const e=i&&a&&mj.read(a);e&&o.set(i,e)}return t},xj="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const s=yj(e);let r=s.data;const i=nj.from(s.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=s;function m(){c&&c(),u&&u(),s.cancelToken&&s.cancelToken.unsubscribe(a),s.signal&&s.signal.removeEventListener("abort",a)}let f=new XMLHttpRequest;function g(){if(!f)return;const s=nj.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());oj(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:s,config:e,request:f}),f=null}f.open(s.method.toUpperCase(),s.url,!0),f.timeout=s.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Cw("Request aborted",Cw.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Cw("Network Error",Cw.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const r=s.transitional||Fw;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),n(new Cw(t,r.clarifyTimeoutError?Cw.ETIMEDOUT:Cw.ECONNABORTED,e,f)),f=null},void 0===r&&i.setContentType(null),"setRequestHeader"in f&&jw.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),jw.isUndefined(s.withCredentials)||(f.withCredentials=!!s.withCredentials),d&&"json"!==d&&(f.responseType=s.responseType),p&&([l,u]=uj(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=uj(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(a=t=>{f&&(n(!t||t.type?new aj(null,e,f):t),f.abort(),f=null)},s.cancelToken&&s.cancelToken.subscribe(a),s.signal&&(s.signal.aborted?a():s.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);v&&-1===Kw.protocols.indexOf(v)?n(new Cw("Unsupported protocol "+v+":",Cw.ERR_BAD_REQUEST,e)):f.send(r||null)})},bj=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,s=new AbortController;const r=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;s.abort(t instanceof Cw?t:new aj(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,r(new Cw("timeout ".concat(t," of ms exceeded"),Cw.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=s;return o.unsubscribe=()=>jw.asap(a),o}};function wj(e,t){this.v=e,this.k=t}function jj(e){return function(){return new kj(e.apply(this,arguments))}}function kj(e){var t,n;function s(t,n){try{var i=e[t](n),a=i.value,o=a instanceof wj;Promise.resolve(o?a.v:a).then(function(n){if(o){var l="return"===t?"return":"next";if(!a.k||n.done)return s(l,n);n=e[l](n).value}r(i.done?"return":"normal",n)},function(e){s("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?s(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,a){var o={key:e,arg:r,resolve:i,reject:a,next:null};n?n=n.next=o:(t=n=o,s(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Nj(e){return new wj(e,0)}function Sj(e){var t={},n=!1;function s(t,s){return n=!0,s=new Promise(function(n){n(e[t](s))}),{done:!1,value:new wj(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):s("return",e)}),t}function Cj(e){var t,n,s,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,s=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(s&&null!=(t=e[s]))return new Ej(t.call(e));n="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function Ej(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ej=function(e){this.s=e,this.n=e.next},Ej.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ej(e)}kj.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},kj.prototype.next=function(e){return this._invoke("next",e)},kj.prototype.throw=function(e){return this._invoke("throw",e)},kj.prototype.return=function(e){return this._invoke("return",e)};const _j=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let s,r=0;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Tj=function(){var e=jj(function*(e,t){var n,s=!1,r=!1;try{for(var i,a=Cj(Ij(e));s=!(i=yield Nj(a.next())).done;s=!1){const e=i.value;yield*Sj(Cj(_j(e,t)))}}catch(o){r=!0,n=o}finally{try{s&&null!=a.return&&(yield Nj(a.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Ij=function(){var e=jj(function*(e){if(e[Symbol.asyncIterator])return void(yield*Sj(Cj(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Nj(t.read());if(e)break;yield n}}finally{yield Nj(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Aj=(e,t,n,s)=>{const r=Tj(e,t);let i,a=0,o=e=>{i||(i=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await r.next();if(t)return o(),void e.close();let i=s.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(s))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},Pj="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Rj=Pj&&"function"===typeof ReadableStream,Dj=Pj&&("function"===typeof TextEncoder?(Oj=new TextEncoder,e=>Oj.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Oj;const Lj=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return!!e(...n)}catch(cI){return!1}},Mj=Rj&&Lj(()=>{let e=!1;const t=new Request(Kw.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Uj=Rj&&Lj(()=>jw.isReadableStream(new Response("").body)),Fj={stream:Uj&&(e=>e.body)};var Vj;Pj&&(Vj=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fj[e]&&(Fj[e]=jw.isFunction(Vj[e])?t=>t[e]():(t,n)=>{throw new Cw("Response type '".concat(e,"' is not supported"),Cw.ERR_NOT_SUPPORT,n)})}));const zj=async(e,t)=>{const n=jw.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(jw.isBlob(e))return e.size;if(jw.isSpecCompliantForm(e)){const t=new Request(Kw.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return jw.isArrayBufferView(e)||jw.isArrayBuffer(e)?e.byteLength:(jw.isURLSearchParams(e)&&(e+=""),jw.isString(e)?(await Dj(e)).byteLength:void 0)})(t):n},Bj=Pj&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=yj(e);u=u?(u+"").toLowerCase():"text";let m,f=bj([r,i&&i.toAbortSignal()],a);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&Mj&&"get"!==n&&"head"!==n&&0!==(v=await zj(d,s))){let e,n=new Request(t,{method:"POST",body:s,duplex:"half"});if(jw.isFormData(s)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=dj(v,uj(hj(l)));s=Aj(n.body,65536,e,t)}}jw.isString(h)||(h=h?"include":"omit");const r="credentials"in Request.prototype;m=new Request(t,c(c({},p),{},{signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:r?h:void 0}));let i=await fetch(m,p);const a=Uj&&("stream"===u||"response"===u);if(Uj&&(o||a&&g)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=jw.toFiniteNumber(i.headers.get("content-length")),[n,s]=o&&dj(t,uj(hj(o),!0))||[];i=new Response(Aj(i.body,65536,n,()=>{s&&s(),g&&g()}),e)}u=u||"text";let y=await Fj[jw.findKey(Fj,u)||"text"](i,e);return!a&&g&&g(),await new Promise((t,n)=>{oj(t,n,{data:y,headers:nj.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:m})})}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new Cw("Network Error",Cw.ERR_NETWORK,e,m),{cause:y.cause||y});throw Cw.from(y,y&&y.code,e,m)}}),qj={http:null,xhr:xj,fetch:Bj};jw.forEach(qj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(cI){}Object.defineProperty(e,"adapterName",{value:t})}});const Hj=e=>"- ".concat(e),Wj=e=>jw.isFunction(e)||null===e||!1===e,Kj=e=>{e=jw.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let i=0;i<t;i++){let t;if(n=e[i],s=n,!Wj(n)&&(s=qj[(t=String(n)).toLowerCase()],void 0===s))throw new Cw("Unknown adapter '".concat(t,"'"));if(s)break;r[t||"#"+i]=s}if(!s){const e=Object.entries(r).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Hj).join("\n"):" "+Hj(e[0]):"as no adapter specified";throw new Cw("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s};function Gj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new aj(null,e)}function Qj(e){Gj(e),e.headers=nj.from(e.headers),e.data=sj.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Kj(e.adapter||Yw.adapter)(e).then(function(t){return Gj(e),t.data=sj.call(e,e.transformResponse,t),t.headers=nj.from(t.headers),t},function(t){return rj(t)||(Gj(e),t&&t.response&&(t.response.data=sj.call(e,e.transformResponse,t.response),t.response.headers=nj.from(t.response.headers))),Promise.reject(t)})}const Yj="1.11.0",$j={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$j[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Xj={};$j.transitional=function(e,t,n){function s(e,t){return"[Axios v"+Yj+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,i)=>{if(!1===e)throw new Cw(s(r," has been removed"+(t?" in "+t:"")),Cw.ERR_DEPRECATED);return t&&!Xj[r]&&(Xj[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},$j.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Jj={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Cw("options must be an object",Cw.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const i=s[r],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Cw("option "+i+" must be "+n,Cw.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Cw("Unknown option "+i,Cw.ERR_BAD_OPTION)}},validators:$j},Zj=Jj.validators;class ek{constructor(e){this.defaults=e||{},this.interceptors={request:new Uw,response:new Uw}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(cI){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=vj(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:r}=t;void 0!==n&&Jj.assertOptions(n,{silentJSONParsing:Zj.transitional(Zj.boolean),forcedJSONParsing:Zj.transitional(Zj.boolean),clarifyTimeoutError:Zj.transitional(Zj.boolean)},!1),null!=s&&(jw.isFunction(s)?t.paramsSerializer={serialize:s}:Jj.assertOptions(s,{encode:Zj.function,serialize:Zj.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Jj.assertOptions(t,{baseUrl:Zj.spelling("baseURL"),withXsrfToken:Zj.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=r&&jw.merge(r.common,r[t.method]);r&&jw.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=nj.concat(i,r);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[Qj.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Qj.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Mw(fj((e=vj(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}jw.forEach(["delete","get","head","options"],function(e){ek.prototype[e]=function(t,n){return this.request(vj(n||{},{method:e,url:t,data:(n||{}).data}))}}),jw.forEach(["post","put","patch"],function(e){function t(t){return function(n,s,r){return this.request(vj(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}ek.prototype[e]=t(),ek.prototype[e+"Form"]=t(!0)});const tk=ek;class nk{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{n.subscribe(e),t=e}).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e(function(e,s,r){n.reason||(n.reason=new aj(e,s,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nk(function(t){e=t}),cancel:e}}}const sk=nk;const rk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rk).forEach(e=>{let[t,n]=e;rk[n]=t});const ik=rk;const ak=function e(t){const n=new tk(t),s=Lb(tk.prototype.request,n);return jw.extend(s,tk.prototype,n,{allOwnKeys:!0}),jw.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(vj(t,n))},s}(Yw);ak.Axios=tk,ak.CanceledError=aj,ak.CancelToken=sk,ak.isCancel=rj,ak.VERSION=Yj,ak.toFormData=Aw,ak.AxiosError=Cw,ak.Cancel=ak.CanceledError,ak.all=function(e){return Promise.all(e)},ak.spread=function(e){return function(t){return e.apply(null,t)}},ak.isAxiosError=function(e){return jw.isObject(e)&&!0===e.isAxiosError},ak.mergeConfig=vj,ak.AxiosHeaders=nj,ak.formToJSON=e=>Gw(jw.isHTMLForm(e)?new FormData(e):e),ak.getAdapter=Kj,ak.HttpStatusCode=ik,ak.default=ak;const ok=ak,lk=e=>{let{formData:t,setFormData:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Upload Video"}),(0,Rb.jsx)("input",{type:"file",accept:"video/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;const s=new FormData;s.append("file",t),s.append("upload_preset",Ib);const r=await ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/video/upload"),s);n(e=>c(c({},e),{},{video:r.data.secure_url}))}}),t.video&&(0,Rb.jsx)("video",{src:t.video,controls:!0,className:"preview-media"})]})},ck=e=>{let{formData:t,setFormData:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Upload Image"}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;const s=new FormData;s.append("file",t),s.append("upload_preset",Ib);const r=await ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),s);n(e=>c(c({},e),{},{image:r.data.secure_url}))}}),t.image&&(0,Rb.jsx)("img",{src:t.image,className:"preview-media",alt:"preview"})]})},uk=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",value:t,onChange:n})]})},dk=()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",image:"",video:"",tokens:""}),[i,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),u=e=>n(t=>t===e?null:e),d=e=>{const{name:t,value:n}=e.target;r(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},h="/Vrumies";return i?(0,Rb.jsx)("div",{className:"post-success-message",children:o}):(0,Rb.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;if(!t)return l("\u274c You must be logged in");try{await pf(Xp(Cb,"Posts"),c(c({},s),{},{type:"video",userId:t.uid,createdAt:fa.now(),likes:[],dislikes:[],likesCounter:0,dislikesCounter:0})),a(!0),l("\u2705 Video post created!")}catch(n){console.error(n),l("\u274c Failed to submit post")}},children:[(0,Rb.jsx)("label",{className:"form-label",children:"Title"}),(0,Rb.jsx)("input",{name:"title",value:s.title,onChange:d}),(0,Rb.jsx)("label",{className:"form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:s.description,onChange:d}),(0,Rb.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Map-Icon.png"),onClick:()=>u("address"),className:"address"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Link-Icon.png"),onClick:()=>u("link"),className:"link"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Video-Icon.png"),onClick:()=>u("video"),className:"video"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Image-Icon.png"),onClick:()=>u("image"),className:"image"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Token-Icon.png"),onClick:()=>u("tokens"),className:"tokens"===e?"active":""})]}),"address"===e&&(0,Rb.jsx)(Db,{formData:s,setFormData:r}),"link"===e&&(0,Rb.jsx)(Ob,{value:s.link,onChange:d}),"video"===e&&(0,Rb.jsx)(lk,{formData:s,setFormData:r}),"image"===e&&(0,Rb.jsx)(ck,{formData:s,setFormData:r}),"tokens"===e&&(0,Rb.jsx)(uk,{value:s.tokens,onChange:d}),(0,Rb.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),o&&(0,Rb.jsx)("p",{children:o})]})},hk=e=>{let{cityInput:t,suggestions:n,onCityChange:s,onSelectCity:r}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",value:t,onChange:s,placeholder:"Type a city...",required:!0}),n.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:n.map(e=>(0,Rb.jsxs)("li",{onClick:()=>r(e),children:[e.structured_formatting.main_text,","," ",e.structured_formatting.secondary_text]},e.place_id))})]})},pk=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:t,onChange:n})]})},mk=e=>{let{images:t,uploading:n,onUpload:s,handleRemoveImage:r}=e;return(0,Rb.jsxs)("div",{className:"upload-container",children:[(0,Rb.jsx)("label",{className:"form-label",children:"Upload Images (max 7)"}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:s}),n&&(0,Rb.jsx)("p",{className:"uploading-text",children:"Uploading images..."}),t.length>0&&(0,Rb.jsx)("div",{className:"preview-gallery",children:t.map((e,t)=>(0,Rb.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"preview-media"}),(0,Rb.jsx)("button",{type:"button",onClick:()=>r(t),style:{position:"absolute",top:"-6px",right:"-6px",background:"red",color:"#fff",border:"none",borderRadius:"50%",cursor:"pointer",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2716"})]},t))})]})},fk=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:t,onChange:n})]})},gk=()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)([]),m=(0,t.useRef)(null),[f,g]=(0,t.useState)({title:"",description:"",link:"",tokens:"",images:[],location:""});(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const v=e=>{n(t=>t===e?null:e)},y=e=>{const{name:t,value:n}=e.target;g(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},x="/Vrumies";return s?(0,Rb.jsx)("div",{className:"post-success-message",children:(0,Rb.jsx)("p",{children:i})}):(0,Rb.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;t?(await pf(Xp(Cb,"Posts"),c(c({},f),{},{createdAt:fa.now(),type:"blog",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]})),r(!0),a("\u2705 Blog post added!")):a("\u274c You must be signed in to submit a post.")},children:[(0,Rb.jsx)("label",{className:"form-label",children:"Title"}),(0,Rb.jsx)("input",{name:"title",value:f.title,onChange:y,required:!0}),(0,Rb.jsx)("label",{className:"form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:f.description,onChange:y,required:!0}),(0,Rb.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Map-Icon.png"),onClick:()=>v("location")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Link-Icon.png"),onClick:()=>v("link")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Image-Icon.png"),onClick:()=>v("image")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Token-Icon.png"),onClick:()=>v("tokens")})]}),"location"===e&&(0,Rb.jsx)(hk,{cityInput:u,suggestions:h,onCityChange:e=>{const t=e.target.value;d(t),m.current&&t?m.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{p("OK"===t&&e?e:[])}):p([])},onSelectCity:e=>{var t,n;const s=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",r=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"",i="".concat(s,", ").concat(r);g(e=>c(c({},e),{},{location:i})),d("".concat(s,", ").concat(r)),p([])}}),"link"===e&&(0,Rb.jsx)(pk,{value:f.link,onChange:y}),"image"===e&&(0,Rb.jsx)(mk,{images:f.images,uploading:o,onUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(f.images.length+t.length>7)alert("\u26a0\ufe0f You can only upload up to 7 images per post.");else{l(!0);try{const e=t.map(e=>{const t=new FormData;return t.append("file",e),t.append("upload_preset",Ib),ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)}),n=(await Promise.all(e)).map(e=>e.data.secure_url);g(e=>c(c({},e),{},{images:[...e.images,...n]}))}finally{l(!1)}}}}),"tokens"===e&&(0,Rb.jsx)(fk,{value:f.tokens,onChange:y}),(0,Rb.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),i&&(0,Rb.jsx)("p",{children:i})]})},vk=e=>{let{cityInput:t,handleCityChange:n,suggestions:s,selectCity:r}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",value:t,onChange:n,placeholder:"Type a city...",required:!0}),s.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:s.map(e=>(0,Rb.jsxs)("li",{onClick:()=>r(e),children:[e.structured_formatting.main_text,",",e.structured_formatting.secondary_text]},e.place_id))})]})},yk=e=>{let{link:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:t,onChange:n})]})},xk=e=>{let{images:t,uploading:n,MAX_IMAGES:s,handleFileUpload:r,handleRemoveImage:i}=e;return(0,Rb.jsxs)("div",{className:"upload-container",children:[(0,Rb.jsxs)("label",{className:"form-label",children:["Upload Images (max ",s,")"]}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:r}),n&&(0,Rb.jsx)("p",{className:"uploading-text",children:"Uploading images..."}),(0,Rb.jsx)("div",{className:"preview-gallery",children:t.map((e,t)=>(0,Rb.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"preview-media"}),(0,Rb.jsx)("button",{type:"button",onClick:()=>i(t),style:{position:"absolute",top:"-6px",right:"-6px",background:"red",color:"#fff",border:"none",borderRadius:"50%",cursor:"pointer",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2716"})]},t))})]})},bk=e=>{let{tokens:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:t,onChange:n})]})},wk=e=>{let{urgency:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Urgency"}),(0,Rb.jsxs)("select",{name:"urgency",value:t,onChange:n,className:"urgency-select",children:[(0,Rb.jsx)("option",{value:"Urgent",children:"Urgent"}),(0,Rb.jsx)("option",{value:"I Can Wait",children:"I Can Wait"}),(0,Rb.jsx)("option",{value:"Just Looking",children:"Just Looking"})]})]})},jk=()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)({title:"",description:"",images:[],location:"",link:"",tokens:"",urgency:"I Can Wait"}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),g=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)g.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{g.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const v=e=>{n(t=>t===e?null:e)},y=e=>{const{name:t,value:n}=e.target;r(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},x="/Vrumies";return h?(0,Rb.jsx)("div",{className:"post-success-message",children:(0,Rb.jsx)("p",{children:u})}):(0,Rb.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;if(!t)return void d("\u274c You must be signed in to submit a post.");const n=c(c({},s),{},{tokens:s.tokens||0,createdAt:fa.now(),type:"request",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]});try{await pf(Xp(Cb,"Posts"),n),d("\u2705 Request post added!"),p(!0)}catch(r){console.error(r),d("\u274c Failed to add post.")}},children:[(0,Rb.jsx)("label",{className:"form-label",children:"Title"}),(0,Rb.jsx)("input",{type:"text",name:"title",value:s.title,onChange:y,required:!0}),(0,Rb.jsx)("label",{className:"form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:s.description,onChange:y,required:!0}),(0,Rb.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Map-Icon.png"),onClick:()=>v("location")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Link-Icon.png"),onClick:()=>v("link")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Image-Icon.png"),onClick:()=>v("image")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Token-Icon.png"),onClick:()=>v("tokens")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Urgency-Icon.png"),onClick:()=>v("urgency")})]}),"location"===e&&(0,Rb.jsx)(vk,{cityInput:i,handleCityChange:e=>{const t=e.target.value;if(a(t),!g.current||!t)return void l([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};g.current.getPlacePredictions(n,(e,t)=>{l("OK"===t&&e?e:[])})},suggestions:o,selectCity:e=>{var t,n;const s=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",i=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"",o="".concat(s,", ").concat(i);r(e=>c(c({},e),{},{location:o})),a("".concat(s,", ").concat(i)),l([])}}),"link"===e&&(0,Rb.jsx)(yk,{link:s.link,handleChange:y}),"image"===e&&(0,Rb.jsx)(xk,{images:s.images,uploading:m,MAX_IMAGES:7,handleFileUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(s.images.length+t.length>7)alert("\u26a0\ufe0f You can only upload up to ".concat(7," images per post."));else{f(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",Ib);return(await ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)).data.secure_url}),n=await Promise.all(e);r(e=>c(c({},e),{},{images:[...e.images,...n]}))}catch(n){console.error(n),alert("Image upload failed")}finally{f(!1)}}},handleRemoveImage:e=>{r(t=>c(c({},t),{},{images:t.images.filter((t,n)=>n!==e)}))}}),"tokens"===e&&(0,Rb.jsx)(bk,{tokens:s.tokens,handleChange:y}),"urgency"===e&&(0,Rb.jsx)(wk,{urgency:s.urgency,handleChange:y}),(0,Rb.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),u&&(0,Rb.jsx)("p",{children:u})]})},kk=e=>{let{formData:n,setFormData:s}=e;const[r,i]=(0,t.useState)(""),[a,o]=(0,t.useState)([]),l=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)l.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.onload=()=>{l.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Post Location"}),(0,Rb.jsx)("input",{value:r,onChange:e=>{const t=e.target.value;i(t),t&&l.current&&l.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},e=>o(e||[]))},placeholder:"Type a city..."}),(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:a.map(e=>(0,Rb.jsxs)("li",{onClick:()=>(e=>{var t,n;const r=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",a=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"";s(e=>c(c({},e),{},{city:r,state:a,location:"".concat(r,", ").concat(a)})),i("".concat(r,", ").concat(a)),o([])})(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]})},Nk=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",value:t,onChange:n,placeholder:"Enter link"})]})},Sk=e=>{let{formData:t,setFormData:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Upload Images"}),(0,Rb.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:async e=>{const s=Array.from(e.target.files);if(t.images.length+s.length>7)return alert("Max 7 images");const r=await Promise.all(s.map(e=>{const t=new FormData;return t.append("file",e),t.append("upload_preset",Ib),ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)}));n(e=>c(c({},e),{},{images:[...e.images,...r.map(e=>e.data.secure_url)]}))}}),(0,Rb.jsx)("div",{className:"preview-gallery",children:t.images.map((e,t)=>(0,Rb.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Rb.jsx)("img",{src:e,alt:"preview",className:"preview-media"}),(0,Rb.jsx)("button",{type:"button",onClick:()=>{return e=t,void n(t=>c(c({},t),{},{images:t.images.filter((t,n)=>n!==e)}));var e},style:{position:"absolute",top:"-6px",right:"-6px",background:"red",color:"#fff",border:"none",borderRadius:"50%",cursor:"pointer",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2716"})]},t))})]})},Ck=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",value:t,onChange:n,placeholder:"Enter token amount"})]})},Ek=()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",images:[],tokens:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),u=e=>{n(t=>t===e?null:e)},d=e=>{const{name:t,value:n}=e.target;r(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},h="/Vrumies";return o?(0,Rb.jsx)("div",{className:"post-success-message",children:i}):(0,Rb.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;if(t)try{await pf(Xp(Cb,"Posts"),c(c({},s),{},{tokens:s.tokens||0,createdAt:fa.now(),type:"vehicle",userId:t.uid,likes:[],dislikes:[],likesCounter:0,dislikesCounter:0})),a("\u2705 Vehicle post created!"),l(!0)}catch(n){console.error(n),a("\u274c Failed to submit post.")}else a("\u274c You must be logged in.")},children:[(0,Rb.jsx)("label",{className:"form-label",children:"Title"}),(0,Rb.jsx)("input",{name:"title",value:s.title,onChange:d,required:!0}),(0,Rb.jsx)("label",{className:"form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:s.description,onChange:d,required:!0}),(0,Rb.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Map-Icon.png"),onClick:()=>u("address"),className:"address"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Link-Icon.png"),onClick:()=>u("link"),className:"link"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Image-Icon.png"),onClick:()=>u("image"),className:"image"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(h,"/PostCreationIcons/Token-Icon.png"),onClick:()=>u("tokens"),className:"tokens"===e?"active":""})]}),"address"===e&&(0,Rb.jsx)(kk,{formData:s,setFormData:r}),"link"===e&&(0,Rb.jsx)(Nk,{value:s.link,onChange:d}),"image"===e&&(0,Rb.jsx)(Sk,{formData:s,setFormData:r}),"tokens"===e&&(0,Rb.jsx)(Ck,{value:s.tokens,onChange:d}),(0,Rb.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),i&&(0,Rb.jsx)("p",{children:i})]})},_k=e=>{let{locationInput:t,suggestions:n,onChange:s,onSelect:r}=e;return(0,Rb.jsxs)("div",{className:"autocomplete-wrapper",children:[(0,Rb.jsx)("label",{className:"event-form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Type a city...",value:t,onChange:s,required:!0}),n.length>0&&(0,Rb.jsx)("ul",{className:"event-suggestions",children:n.map(e=>(0,Rb.jsxs)("li",{onClick:()=>r(e),children:[e.structured_formatting.main_text,","," ",e.structured_formatting.secondary_text]},e.place_id))})]})},Tk=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"event-form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:t,onChange:n})]})},Ik=e=>{let{images:t,uploading:n,maxImages:s,onUpload:r,onRemove:i}=e;return(0,Rb.jsxs)("div",{className:"event-upload-container",children:[(0,Rb.jsxs)("label",{className:"event-form-label",children:["Upload Images (max ",s,")"]}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:r}),n&&(0,Rb.jsx)("p",{className:"event-uploading-text",children:"Uploading images..."}),(0,Rb.jsx)("div",{className:"event-images-preview",children:t.map((e,t)=>(0,Rb.jsxs)("div",{className:"event-image-wrapper",children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"event-preview-media"}),(0,Rb.jsx)("button",{type:"button",className:"event-remove-btn",onClick:()=>i(t),children:"\xd7"})]},t))})]})},Ak=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"event-form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:t,onChange:n})]})},Pk=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsx)("input",{type:"datetime-local",name:"eventDateTime",value:t,onChange:n,className:"event-datetime-input"})},Rk=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsx)("input",{type:"text",name:"price",placeholder:"$0.00",value:t||"",onChange:n,className:"event-datetime-input"})},Dk=()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)([]),m=(0,t.useRef)(null),[f,g]=(0,t.useState)({title:"",description:"",images:[],location:"",city:"",state:"",link:"",tokens:"",eventDateTime:"",price:""});(0,t.useEffect)(()=>{if(window.google)m.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{m.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const v=e=>{n(t=>t===e?null:e)},y=e=>{const{name:t,value:n}=e.target;g(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},x="/Vrumies";return s?(0,Rb.jsx)("div",{className:"event-success-message",children:(0,Rb.jsx)("p",{children:i})}):(0,Rb.jsxs)("form",{className:"event-post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;t?(await pf(Xp(Cb,"Posts"),c(c({},f),{},{tokens:f.tokens||0,eventDateTime:f.eventDateTime?fa.fromDate(new Date(f.eventDateTime)):null,createdAt:fa.now(),type:"event",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]})),r(!0),a("\u2705 Event post added!")):a("\u274c You must be signed in to submit a post.")},children:[(0,Rb.jsx)("label",{className:"event-form-label",children:"Title"}),(0,Rb.jsx)("input",{name:"title",value:f.title,onChange:y,required:!0}),(0,Rb.jsx)("label",{className:"event-form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:f.description,onChange:y,required:!0}),(0,Rb.jsxs)("div",{className:"event-toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Map-Icon.png"),onClick:()=>v("location")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Link-Icon.png"),onClick:()=>v("link")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Image-Icon.png"),onClick:()=>v("images")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Token-Icon.png"),onClick:()=>v("tokens")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Calendar-Icon.png"),onClick:()=>v("eventDateTime")}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Price-Icon.png"),onClick:()=>v("price")})]}),"location"===e&&(0,Rb.jsx)(_k,{locationInput:u,suggestions:h,onChange:e=>{const t=e.target.value;d(t),m.current&&t?m.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{p("OK"===t&&e?e:[])}):p([])},onSelect:e=>{var t,n;const s=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",r=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"",i="".concat(s,", ").concat(r);g(e=>c(c({},e),{},{location:i,city:s,state:r})),d(i),p([])}}),"link"===e&&(0,Rb.jsx)(Tk,{value:f.link,onChange:y}),"images"===e&&(0,Rb.jsx)(Ik,{images:f.images,uploading:o,maxImages:7,onUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(f.images.length+t.length>7)alert("Maximum ".concat(7," images allowed."));else{l(!0);try{const e=t.map(e=>{const t=new FormData;return t.append("file",e),t.append("upload_preset",Ib),ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)}),n=(await Promise.all(e)).map(e=>e.data.secure_url);g(e=>c(c({},e),{},{images:[...e.images,...n]}))}finally{l(!1)}}},onRemove:e=>{g(t=>c(c({},t),{},{images:t.images.filter((t,n)=>n!==e)}))}}),"tokens"===e&&(0,Rb.jsx)(Ak,{value:f.tokens,onChange:y}),"eventDateTime"===e&&(0,Rb.jsx)(Pk,{value:f.eventDateTime,onChange:y}),"price"===e&&(0,Rb.jsx)(Rk,{value:f.price,onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const n=parseFloat(t);t=isNaN(n)?"$0.00":"$".concat(n.toFixed(2)),g(e=>c(c({},e),{},{price:t}))}}),(0,Rb.jsx)("button",{type:"submit",className:"event-submit-btn",children:"Submit"}),i&&(0,Rb.jsx)("p",{children:i})]})},Ok=e=>{let{postLocationInput:t,postLocationSuggestions:n,handlePostLocationChange:s,selectPostLocation:r}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",value:t,onChange:s,placeholder:"Type a city..."}),n.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:n.map(e=>(0,Rb.jsx)("li",{onClick:()=>r(e),children:e.description},e.place_id))})]})},Lk=e=>{let{pickupInput:t,dropoffInput:n,pickupSuggestions:s,dropoffSuggestions:r,handlePickupChange:i,handleDropoffChange:a,selectPickup:o,selectDropoff:l,removePickup:c,removeDropoff:u,formData:d,handleChange:h}=e;return(0,Rb.jsxs)("div",{className:"load-details-container",children:[(0,Rb.jsx)("label",{className:"form-label",children:"Pickup Address"}),(0,Rb.jsx)("input",{type:"text",value:t,onChange:i,placeholder:"Start Address..."}),s.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:s.map(e=>(0,Rb.jsx)("li",{onClick:()=>o(e),children:e.description},e.place_id))}),d.pickupLocations.length>0&&(0,Rb.jsxs)("div",{className:"chip",children:[d.pickupLocations[0],(0,Rb.jsx)("button",{type:"button",className:"chip-remove",onClick:c,children:"\xd7"})]}),(0,Rb.jsx)("label",{className:"form-label",children:"Drop-Off Address"}),(0,Rb.jsx)("input",{type:"text",value:n,onChange:a,placeholder:"Destination Address..."}),r.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:r.map(e=>(0,Rb.jsx)("li",{onClick:()=>l(e),children:e.description},e.place_id))}),d.dropoffLocations.length>0&&(0,Rb.jsxs)("div",{className:"chip",children:[d.dropoffLocations[0],(0,Rb.jsx)("button",{type:"button",className:"chip-remove",onClick:u,children:"\xd7"})]}),(0,Rb.jsx)("label",{className:"form-label",children:"Available Date"}),(0,Rb.jsx)("input",{type:"date",name:"availableDate",value:d.availableDate,onChange:h})]})},Mk=e=>{let{formData:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{className:"load-details-container",children:[(0,Rb.jsx)("label",{className:"form-label",children:"Truck Type"}),(0,Rb.jsxs)("select",{name:"truckType",value:t.truckType,onChange:n,children:[(0,Rb.jsx)("option",{value:"",children:"Select truck type"}),(0,Rb.jsx)("option",{value:"Refrigerated Semi-Truck (Reefer)",children:"Refrigerated Semi-Truck (Reefer)"}),(0,Rb.jsx)("option",{value:"Hot Shot",children:"Hot Shot"}),(0,Rb.jsx)("option",{value:"Box Truck",children:"Box Truck"}),(0,Rb.jsx)("option",{value:"Flat Bed",children:"Flat Bed"}),(0,Rb.jsx)("option",{value:"Regular Semi Truck (Dry Van)",children:"Regular Semi Truck (Dry Van)"}),(0,Rb.jsx)("option",{value:"Power Only",children:"Power Only"}),(0,Rb.jsx)("option",{value:"Car Carrier Trailer",children:"Car Carrier Trailer"}),(0,Rb.jsx)("option",{value:"Other",children:"Other"})]}),(0,Rb.jsx)("label",{className:"form-label",children:"Load Weight (Pounds)"}),(0,Rb.jsx)("input",{type:"number",name:"loadWeight",value:t.loadWeight,onChange:n}),(0,Rb.jsx)("label",{className:"form-label",children:"Load Length (ft)"}),(0,Rb.jsx)("input",{type:"number",name:"loadLength",value:t.loadLength,onChange:n}),(0,Rb.jsx)("label",{className:"form-label",children:"Payout ($)"}),(0,Rb.jsx)("input",{type:"number",name:"payout",value:t.payout,onChange:n,step:"0.01"})]})},Uk=e=>{let{formData:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:t.link,onChange:n})]})},Fk=e=>{let{handleFileUpload:t,uploading:n,images:s,handleRemoveImage:r}=e;return(0,Rb.jsxs)("div",{className:"upload-container",children:[(0,Rb.jsx)("label",{className:"form-label",children:"Upload Images (max 7)"}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:t}),n&&(0,Rb.jsx)("p",{className:"uploading-text",children:"Uploading images..."}),(0,Rb.jsx)("div",{className:"preview-gallery",children:s.map((e,t)=>(0,Rb.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"preview-media"}),(0,Rb.jsx)("button",{type:"button",onClick:()=>r(t),style:{position:"absolute",top:"-6px",right:"-6px",background:"red",color:"#fff",border:"none",borderRadius:"50%",cursor:"pointer",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2716"})]},t))})]})},Vk=e=>{let{formData:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",value:t.tokens,onChange:n})]})},zk=()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",images:[],tokens:0,pickupLocations:[],dropoffLocations:[],availableDate:"",truckType:"",loadWeight:"",loadLength:"",payout:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)([]),[g,v]=(0,t.useState)(""),[y,x]=(0,t.useState)(""),[b,w]=(0,t.useState)([]),[j,k]=(0,t.useState)([]),N=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)N.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{N.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const S=e=>{n(t=>t===e?null:e)},C=e=>{const{name:t,value:n}=e.target;r(e=>c(c({},e),{},{[t]:["tokens","loadWeight","loadLength","payout"].includes(t)?Number(n)||0:n}))},E=async e=>{if(!e)return"";try{var t,n,s;const r=(null===(t=(await ok.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:e,key:Pb}})).data.results[0])||void 0===t?void 0:t.address_components)||[],i=null===(n=r.find(e=>e.types.includes("locality")))||void 0===n?void 0:n.long_name,a=null===(s=r.find(e=>e.types.includes("administrative_area_level_1")))||void 0===s?void 0:s.short_name;return i&&a?"".concat(i,", ").concat(a):""}catch(r){return console.error("Geocoding failed:",r),""}},_="/Vrumies";return o?(0,Rb.jsx)("div",{className:"post-success-message",children:i}):(0,Rb.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;if(t)try{const e=s.pickupLocations.length?await E(s.pickupLocations[0]):"",n=s.dropoffLocations.length?await E(s.dropoffLocations[0]):"";await pf(Xp(Cb,"Posts"),c(c({},s),{},{type:"loads",userId:t.uid,createdAt:fa.now(),pickupCity:e,dropoffCity:n,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]})),a("Load post added!"),l(!0)}catch(n){console.error(n),a("Failed to submit post")}else a("You must be logged in.")},children:[(0,Rb.jsx)("label",{className:"form-label",children:"Title"}),(0,Rb.jsx)("input",{name:"title",value:s.title,onChange:C,required:!0}),(0,Rb.jsx)("label",{className:"form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:s.description,onChange:C,required:!0}),(0,Rb.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(_,"/PostCreationIcons/Map-Icon.png"),onClick:()=>S("address")}),(0,Rb.jsx)("img",{src:"".concat(_,"/PostCreationIcons/Link-Icon.png"),onClick:()=>S("link")}),(0,Rb.jsx)("img",{src:"".concat(_,"/PostCreationIcons/Image-Icon.png"),onClick:()=>S("image")}),(0,Rb.jsx)("img",{src:"".concat(_,"/PostCreationIcons/Token-Icon.png"),onClick:()=>S("tokens")}),(0,Rb.jsx)("img",{src:"".concat(_,"/PostCreationIcons/Routes-Icon.png"),onClick:()=>S("routes")}),(0,Rb.jsx)("img",{src:"".concat(_,"/PostCreationIcons/Load-Icon.png"),onClick:()=>S("load")})]}),"address"===e&&(0,Rb.jsx)(Ok,{postLocationInput:h,postLocationSuggestions:m,handlePostLocationChange:e=>{const t=e.target.value;p(t),N.current&&t?N.current.getPlacePredictions({input:t,types:["geocode"],componentRestrictions:{country:"us"}},(e,t)=>{f("OK"===t&&e?e:[])}):f([])},selectPostLocation:e=>{r(t=>c(c({},t),{},{location:e.description})),p(e.description),f([])}}),"routes"===e&&(0,Rb.jsx)(Lk,{pickupInput:g,dropoffInput:y,pickupSuggestions:b,dropoffSuggestions:j,handlePickupChange:e=>{const t=e.target.value;v(t),N.current&&t?N.current.getPlacePredictions({input:t,types:["address"],componentRestrictions:{country:"us"}},(e,t)=>{w("OK"===t&&e?e:[])}):w([])},handleDropoffChange:e=>{const t=e.target.value;x(t),N.current&&t?N.current.getPlacePredictions({input:t,types:["address"],componentRestrictions:{country:"us"}},(e,t)=>{k("OK"===t&&e?e:[])}):k([])},selectPickup:e=>{r(t=>c(c({},t),{},{pickupLocations:[e.description]})),v(""),w([])},selectDropoff:e=>{r(t=>c(c({},t),{},{dropoffLocations:[e.description]})),x(""),k([])},removePickup:()=>{r(e=>c(c({},e),{},{pickupLocations:[]}))},removeDropoff:()=>{r(e=>c(c({},e),{},{dropoffLocations:[]}))},formData:s,handleChange:C}),"load"===e&&(0,Rb.jsx)(Mk,{formData:s,handleChange:C}),"link"===e&&(0,Rb.jsx)(Uk,{formData:s,handleChange:C}),"image"===e&&(0,Rb.jsx)(Fk,{handleFileUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(s.images.length+t.length>7)alert("Max 7 images allowed");else{d(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",Ib);return(await ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)).data.secure_url}),n=await Promise.all(e);r(e=>c(c({},e),{},{images:[...e.images,...n]}))}catch(n){console.error(n),alert("Image upload failed")}finally{d(!1)}}},uploading:u,images:s.images}),"tokens"===e&&(0,Rb.jsx)(Vk,{formData:s,handleChange:C}),(0,Rb.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),i&&(0,Rb.jsx)("p",{children:i})]})},Bk=e=>{let{activeField:t,addressInput:n,handleAddressChange:s,suggestions:r,selectAddress:i}=e;return"address"!==t?null:(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",value:n,onChange:s,placeholder:"Type a city...",required:!0}),r.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:r.map(e=>(0,Rb.jsxs)("li",{onClick:()=>i(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]})},qk=e=>{let{activeField:t,formData:n,handleChange:s}=e;return"link"!==t?null:(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:n.link,onChange:s})]})},Hk=e=>{let{activeField:t,handleFileUpload:n,uploading:s,images:r,handleRemoveImage:i}=e;return"image"!==t?null:(0,Rb.jsxs)("div",{className:"upload-container",children:[(0,Rb.jsx)("label",{className:"form-label",children:"Upload Images (max 7)"}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:n}),s&&(0,Rb.jsx)("p",{className:"uploading-text",children:"Uploading images..."}),r.length>0&&(0,Rb.jsx)("div",{className:"preview-gallery",children:r.map((e,t)=>(0,Rb.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"preview-media"}),(0,Rb.jsx)("button",{type:"button",onClick:()=>i(t),style:{position:"absolute",top:"-6px",right:"-6px",background:"red",color:"#fff",border:"none",borderRadius:"50%",cursor:"pointer",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2716"})]},t))})]})},Wk=e=>{let{activeField:t,formData:n,handleChange:s}=e;return"tokens"!==t?null:(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:n.tokens,onChange:s})]})};function Kk(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n}var Gk;function Qk(){}function Yk(e){return!!(e||"").match(/\d/)}function $k(e){return null===e||void 0===e}function Xk(e){return $k(e)||function(e){return"number"===typeof e&&isNaN(e)}(e)||"number"===typeof e&&!isFinite(e)}function Jk(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Zk(e,t){void 0===t&&(t=!0);var n="-"===e[0],s=n&&t,r=(e=e.replace("-","")).split(".");return{beforeDecimal:r[0],afterDecimal:r[1]||"",hasNegation:n,addNegation:s}}function eN(e,t,n){for(var s="",r=n?"0":"",i=0;i<=t-1;i++)s+=e[i]||r;return s}function tN(e,t){return Array(t+1).join(e)}function nN(e){var t=e+"",n="-"===t[0]?"-":"";n&&(t=t.substring(1));var s=t.split(/[eE]/g),r=s[0],i=s[1];if(!(i=Number(i)))return n+r;var a=1+i,o=(r=r.replace(".","")).length;return a<0?r="0."+tN("0",Math.abs(a))+r:a>=o?r+=tN("0",a-o):r=(r.substring(0,a)||"0")+"."+r.substring(a),n+r}function sN(e,t,n){if(-1!==["","-"].indexOf(e))return e;var s=(-1!==e.indexOf(".")||n)&&t,r=Zk(e),i=r.beforeDecimal,a=r.afterDecimal,o=r.hasNegation,l=parseFloat("0."+(a||"0")),c=(a.length<=t?"0."+a:l.toFixed(t)).split("."),u=i;return i&&Number(c[0])&&(u=i.split("").reverse().reduce(function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},c[0])),""+(o?"-":"")+u+(s?".":"")+eN(c[1]||"",t,n)}function rN(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}!function(e){e.event="event",e.props="prop"}(Gk||(Gk={}));var iN=function(e){var t,n=void 0;return function(){for(var s=[],r=arguments.length;r--;)s[r]=arguments[r];return t&&s.length===t.length&&s.every(function(e,n){return e===t[n]})?n:(t=s,n=e.apply(void 0,s))}}(function(e,t){for(var n=0,s=0,r=e.length,i=t.length;e[n]===t[n]&&n<r;)n++;for(;e[r-1-s]===t[i-1-s]&&i-s>n&&r-s>n;)s++;return{from:{start:n,end:r-s},to:{start:n,end:i-s}}});function aN(e){return Math.max(e.selectionStart,e.selectionEnd)}function oN(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function lN(e){var t=e.currentValue,n=e.formattedValue,s=e.currentValueIndex,r=e.formattedValueIndex;return t[s]===n[r]}function cN(e,t,n,s){var r,i,a,o=e.length;if(r=t,i=0,a=o,t=Math.min(Math.max(r,i),a),"left"===s){for(;t>=0&&!n[t];)t--;-1===t&&(t=n.indexOf(!0))}else{for(;t<=o&&!n[t];)t++;t>o&&(t=n.lastIndexOf(!0))}return-1===t&&(t=o),t}function uN(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,s=t.length;n<s;n++)t[n]=Boolean(Yk(e[n])||Yk(e[n-1]));return t}function dN(e,n,s,r,i,a){void 0===a&&(a=Qk);var o=function(e){var n=(0,t.useRef)(e);n.current=e;var s=(0,t.useRef)(function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.current.apply(n,e)});return s.current}(function(e,t){var n,s;return Xk(e)?(s="",n=""):"number"===typeof e||t?(s="number"===typeof e?nN(e):e,n=r(s)):(s=i(e,void 0),n=r(s)),{formattedValue:n,numAsString:s}}),l=(0,t.useState)(function(){return o($k(e)?n:e,s)}),c=l[0],u=l[1],d=e,h=s;$k(e)&&(d=c.numAsString,h=!0);var p=o(d,h);return(0,t.useMemo)(function(){u(p)},[p.formattedValue]),[c,function(e,t){e.formattedValue!==c.formattedValue&&u({formattedValue:e.formattedValue,numAsString:e.value}),a(e,t)}]}function hN(e){return e.replace(/[^0-9]/g,"")}function pN(e){return e}function mN(e){var n=e.type;void 0===n&&(n="text");var s=e.displayType;void 0===s&&(s="input");var r=e.customInput,i=e.renderText,a=e.getInputRef,o=e.format;void 0===o&&(o=pN);var l=e.removeFormatting;void 0===l&&(l=hN);var c=e.defaultValue,u=e.valueIsNumericString,d=e.onValueChange,h=e.isAllowed,p=e.onChange;void 0===p&&(p=Qk);var m=e.onKeyDown;void 0===m&&(m=Qk);var f=e.onMouseUp;void 0===f&&(f=Qk);var g=e.onFocus;void 0===g&&(g=Qk);var v=e.onBlur;void 0===v&&(v=Qk);var y=e.value,x=e.getCaretBoundary;void 0===x&&(x=uN);var b=e.isValidInputCharacter;void 0===b&&(b=Yk);var w=e.isCharacterSame,j=Kk(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),k=dN(y,c,Boolean(u),o,l,d),N=k[0],S=N.formattedValue,C=N.numAsString,E=k[1],_=(0,t.useRef)(),T=(0,t.useRef)({formattedValue:S,numAsString:C}),I=function(e,t){T.current={formattedValue:e.formattedValue,numAsString:e.value},E(e,t)},A=(0,t.useState)(!1),P=A[0],R=A[1],D=(0,t.useRef)(null),O=(0,t.useRef)({setCaretTimeout:null,focusTimeout:null});(0,t.useEffect)(function(){return R(!0),function(){clearTimeout(O.current.setCaretTimeout),clearTimeout(O.current.focusTimeout)}},[]);var L=o,M=function(e,t){var n=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(n)?void 0:n}},U=function(e,t,n){0===e.selectionStart&&e.selectionEnd===e.value.length||(rN(e,t),O.current.setCaretTimeout=setTimeout(function(){e.value===n&&e.selectionStart!==t&&rN(e,t)},0))},F=function(e,t,n){return cN(e,t,x(e),n)},V=function(e,t,n){var s=x(t),r=function(e,t,n,s,r,i,a){void 0===a&&(a=lN);var o=r.findIndex(function(e){return e}),l=e.slice(0,o);t||n.startsWith(l)||(t=l,n=l+n,s+=l.length);for(var c=n.length,u=e.length,d={},h=new Array(c),p=0;p<c;p++){h[p]=-1;for(var m=0,f=u;m<f;m++)if(a({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:p,formattedValueIndex:m})&&!0!==d[m]){h[p]=m,d[m]=!0;break}}for(var g=s;g<c&&(-1===h[g]||!i(n[g]));)g++;var v=g===c||-1===h[g]?u:h[g];for(g=s-1;g>0&&-1===h[g];)g--;var y=-1===g||-1===h[g]?0:h[g]+1;return y>v?v:s-y<v-s?y:v}(t,S,e,n,s,b,w);return r=cN(t,r,s)};(0,t.useEffect)(function(){var e=T.current,t=e.formattedValue,n=e.numAsString;S===t&&C===n||I(M(S,C),{event:void 0,source:Gk.props})},[S,C]);var z=D.current?aN(D.current):void 0;("undefined"!==typeof window?t.useLayoutEffect:t.useEffect)(function(){var e=D.current;if(S!==T.current.formattedValue&&e){var t=V(T.current.formattedValue,S,z);e.value=S,U(e,t,S)}},[S]);var B=function(e,t,n){var s=t.target,r=_.current?function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}}(_.current,s.selectionEnd):iN(S,e),i=Object.assign(Object.assign({},r),{lastValue:S}),a=l(e,i),o=L(a);if(a=l(o,void 0),h&&!h(M(o,a))){var c=t.target,u=aN(c),d=V(e,S,u);return c.value=S,U(c,d,S),!1}return function(e){var t=e.formattedValue;void 0===t&&(t="");var n,s=e.input,r=e.source,i=e.event,a=e.numAsString;if(s){var o=e.inputValue||s.value,l=aN(s);s.value=t,void 0!==(n=V(o,t,l))&&U(s,n,t)}t!==S&&I(M(t,a),{event:i,source:r})}({formattedValue:o,numAsString:a,inputValue:e,event:t,source:n,input:t.target}),!0},q=function(e,t){void 0===t&&(t=0);var n=e.selectionStart,s=e.selectionEnd;_.current={selectionStart:n,selectionEnd:s+t}},H=!P||"undefined"===typeof navigator||navigator.platform&&/iPhone|iPod/.test(navigator.platform)?void 0:"numeric",W=Object.assign({inputMode:H},j,{type:n,value:S,onChange:function(e){var t=e.target.value;B(t,e,Gk.event)&&p(e),_.current=void 0},onKeyDown:function(e){var t,n=e.target,s=e.key,r=n.selectionStart,i=n.selectionEnd,a=n.value;void 0===a&&(a=""),"ArrowLeft"===s||"Backspace"===s?t=Math.max(r-1,0):"ArrowRight"===s?t=Math.min(r+1,a.length):"Delete"===s&&(t=r);var o=0;"Delete"===s&&r===i&&(o=1);var l="ArrowLeft"===s||"ArrowRight"===s;if(void 0===t||r!==i&&!l)return m(e),void q(n,o);var c=t;l?(c=F(a,t,"ArrowLeft"===s?"left":"right"))!==t&&e.preventDefault():"Delete"!==s||b(a[t])?"Backspace"!==s||b(a[t])||(c=F(a,t,"left")):c=F(a,t,"right");c!==t&&U(n,c,a),m(e),q(n,o)},onMouseUp:function(e){var t=e.target,n=function(){var e=t.selectionStart,n=t.selectionEnd,s=t.value;if(void 0===s&&(s=""),e===n){var r=F(s,e);r!==e&&U(t,r,s)}};n(),requestAnimationFrame(function(){n()}),f(e),q(t)},onFocus:function(e){e.persist&&e.persist();var t=e.target,n=e.currentTarget;D.current=t,O.current.focusTimeout=setTimeout(function(){var s=t.selectionStart,r=t.selectionEnd,i=t.value;void 0===i&&(i="");var a=F(i,s);a===s||0===s&&r===i.length||U(t,a,i),g(Object.assign(Object.assign({},e),{currentTarget:n}))},0)},onBlur:function(e){D.current=null,clearTimeout(O.current.focusTimeout),clearTimeout(O.current.setCaretTimeout),v(e)}});if("text"===s)return i?t.createElement(t.Fragment,null,i(S,j)||null):t.createElement("span",Object.assign({},j,{ref:a}),S);if(r){var K=r;return t.createElement(K,Object.assign({},W,{ref:a}))}return t.createElement("input",Object.assign({},W,{ref:a}))}function fN(e,t){var n=t.decimalScale,s=t.fixedDecimalScale,r=t.prefix;void 0===r&&(r="");var i=t.suffix;void 0===i&&(i="");var a=t.allowNegative,o=t.thousandsGroupStyle;if(void 0===o&&(o="thousand"),""===e||"-"===e)return e;var l=gN(t),c=l.thousandSeparator,u=l.decimalSeparator,d=0!==n&&-1!==e.indexOf(".")||n&&s,h=Zk(e,a),p=h.beforeDecimal,m=h.afterDecimal,f=h.addNegation;return void 0!==n&&(m=eN(m,n,!!s)),c&&(p=function(e,t,n){var s=function(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(n),r=e.search(/[1-9]/);return r=-1===r?e.length:r,e.substring(0,r)+e.substring(r,e.length).replace(s,"$1"+t)}(p,c,o)),r&&(p=r+p),i&&(m+=i),f&&(p="-"+p),e=p+(d&&u||"")+m}function gN(e){var t=e.decimalSeparator;void 0===t&&(t=".");var n=e.thousandSeparator,s=e.allowedDecimalSeparators;return!0===n&&(n=","),s||(s=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:s}}function vN(e,t,n){var s;void 0===t&&(t=oN(e));var r=n.allowNegative,i=n.prefix;void 0===i&&(i="");var a=n.suffix;void 0===a&&(a="");var o=n.decimalScale,l=t.from,c=t.to,u=c.start,d=c.end,h=gN(n),p=h.allowedDecimalSeparators,m=h.decimalSeparator,f=e[d]===m;if(Yk(e)&&(e===i||e===a)&&""===t.lastValue)return e;if(d-u===1&&-1!==p.indexOf(e[u])){var g=0===o?"":m;e=e.substring(0,u)+g+e.substring(u+1,e.length)}var v=function(e,t,n){var s=!1,r=!1;i.startsWith("-")?s=!1:e.startsWith("--")?(s=!1,r=!0):a.startsWith("-")&&e.length===a.length?s=!1:"-"===e[0]&&(s=!0);var o=s?1:0;return r&&(o=2),o&&(e=e.substring(o),t-=o,n-=o),{value:e,start:t,end:n,hasNegation:s}},y=v(e,u,d),x=y.hasNegation;e=(s=y).value,u=s.start,d=s.end;var b=v(t.lastValue,l.start,l.end),w=b.start,j=b.end,k=b.value,N=e.substring(u,d);!(e.length&&k.length&&(w>k.length-a.length||j<i.length))||N&&a.startsWith(N)||(e=k);var S=0;e.startsWith(i)?S+=i.length:u<i.length&&(S=u),d-=S;var C=(e=e.substring(S)).length,E=e.length-a.length;e.endsWith(a)?C=E:(d>E||d>e.length-a.length)&&(C=d),e=e.substring(0,C),e=function(e,t){void 0===e&&(e="");var n=new RegExp("(-)"),s=new RegExp("(-)(.)*(-)"),r=n.test(e),i=s.test(e);return e=e.replace(/-/g,""),r&&!i&&t&&(e="-"+e),e}(x?"-"+e:e,r),e=(e.match(function(e,t){return new RegExp("(^-)|[0-9]|"+Jk(e),t?"g":void 0)}(m,!0))||[]).join("");var _=e.indexOf(m),T=Zk(e=e.replace(new RegExp(Jk(m),"g"),function(e,t){return t===_?".":""}),r),I=T.beforeDecimal,A=T.afterDecimal,P=T.addNegation;return c.end-c.start<l.end-l.start&&""===I&&f&&!parseFloat(A)&&(e=P?"-":""),e}function yN(e){e=function(e){var t=gN(e),n=t.thousandSeparator,s=t.decimalSeparator,r=e.prefix;void 0===r&&(r="");var i=e.allowNegative;if(void 0===i&&(i=!0),n===s)throw new Error("\n        Decimal separator can't be same as thousand separator.\n        thousandSeparator: "+n+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n        decimalSeparator: '+s+" (default value for decimalSeparator is .)\n     ");return r.startsWith("-")&&i&&(console.error("\n      Prefix can't start with '-' when allowNegative is true.\n      prefix: "+r+"\n      allowNegative: "+i+"\n    "),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}(e);e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,s=e.allowLeadingZeros,r=e.onKeyDown;void 0===r&&(r=Qk);var i=e.onBlur;void 0===i&&(i=Qk);var a=e.thousandSeparator,o=e.decimalScale,l=e.fixedDecimalScale,c=e.prefix;void 0===c&&(c="");var u=e.defaultValue,d=e.value,h=e.valueIsNumericString,p=e.onValueChange,m=Kk(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),f=gN(e),g=f.decimalSeparator,v=f.allowedDecimalSeparators,y=function(t){return fN(t,e)},x=function(t,n){return vN(t,n,e)},b=$k(d)?u:d,w=null!==h&&void 0!==h?h:function(e,t,n){return""===e||!(null===t||void 0===t?void 0:t.match(/\d/))&&!(null===n||void 0===n?void 0:n.match(/\d/))&&"string"===typeof e&&!isNaN(Number(e))}(b,c,t);$k(d)?$k(u)||(w=w||"number"===typeof u):w=w||"number"===typeof d;var j=function(e){return Xk(e)?e:("number"===typeof e&&(e=nN(e)),w&&"number"===typeof o?sN(e,o,Boolean(l)):e)},k=dN(j(d),j(u),Boolean(w),y,x,p),N=k[0],S=N.numAsString,C=N.formattedValue,E=k[1];return Object.assign(Object.assign({},m),{value:C,valueIsNumericString:!1,isValidInputCharacter:function(e){return e===g||Yk(e)},isCharacterSame:function(e){var t=e.currentValue,n=e.lastValue,s=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex,a=t[r],u=s[i],h=iN(n,t).to,p=function(e){return x(e).indexOf(".")+c.length};return!(0===d&&l&&o&&t[h.start]===g&&p(t)<r&&p(s)>i)&&(!!(r>=h.start&&r<h.end&&v&&v.includes(a)&&u===g)||a===u)},onValueChange:E,format:y,removeFormatting:x,getCaretBoundary:function(t){return function(e,t){var n=t.prefix;void 0===n&&(n="");var s=t.suffix;void 0===s&&(s="");var r=Array.from({length:e.length+1}).map(function(){return!0}),i="-"===e[0];r.fill(!1,0,n.length+(i?1:0));var a=e.length;return r.fill(!1,a-s.length+1,a+1),r}(t,e)},onKeyDown:function(e){var t=e.target,s=e.key,i=t.selectionStart,u=t.selectionEnd,d=t.value;if(void 0===d&&(d=""),("Backspace"===s||"Delete"===s)&&u<c.length)e.preventDefault();else if(i===u){"Backspace"===s&&"-"===d[0]&&i===c.length+1&&n&&rN(t,1),o&&l&&("Backspace"===s&&d[i-1]===g?(rN(t,i-1),e.preventDefault()):"Delete"===s&&d[i]===g&&e.preventDefault()),(null===v||void 0===v?void 0:v.includes(s))&&d[i]===g&&rN(t,i+1);var h=!0===a?",":a;"Backspace"===s&&d[i-1]===h&&rN(t,i-1),"Delete"===s&&d[i]===h&&rN(t,i+1),r(e)}else r(e)},onBlur:function(t){var n=S;if(n.match(/\d/g)||(n=""),s||(n=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),s=n[0].replace(/^0+/,"")||"0",r=n[1]||"";return(t?"-":"")+s+(r?"."+r:"")}(n)),l&&o&&(n=sN(n,o,l)),n!==S){var r=fN(n,e);E({formattedValue:r,value:n,floatValue:parseFloat(n)},{event:t,source:Gk.event})}i(t)}})}function xN(e){var n=yN(e);return t.createElement(mN,Object.assign({},n))}const bN=e=>{let{activeField:t,formData:n,handleChange:s,setFormData:r}=e;return"load"!==t?null:(0,Rb.jsxs)("div",{className:"load-details-container",children:[(0,Rb.jsx)("label",{className:"form-label",children:"Truck Type"}),(0,Rb.jsxs)("select",{name:"truckType",value:n.truckType,onChange:s,required:!0,children:[(0,Rb.jsx)("option",{value:"",children:"Select truck type"}),(0,Rb.jsx)("option",{value:"Refrigerated Semi-Truck (Reefer)",children:"Refrigerated Semi-Truck (Reefer)"}),(0,Rb.jsx)("option",{value:"Hot Shot",children:"Hot Shot"}),(0,Rb.jsx)("option",{value:"Box Truck",children:"Box Truck"}),(0,Rb.jsx)("option",{value:"Flat Bed",children:"Flat Bed"}),(0,Rb.jsx)("option",{value:"Regular Semi Truck (Dry Van)",children:"Regular Semi Truck (Dry Van)"}),(0,Rb.jsx)("option",{value:"Power Only",children:"Power Only"}),(0,Rb.jsx)("option",{value:"Car Carrier Trailer",children:"Car Carrier Trailer"}),(0,Rb.jsx)("option",{value:"Other",children:"Other"})]}),(0,Rb.jsx)("label",{className:"form-label",children:"Load Weight Max Limit (Ibs)"}),(0,Rb.jsx)("input",{type:"number",name:"loadWeightMax",value:n.loadWeightMax,onChange:s,placeholder:"e.g. 42000"}),(0,Rb.jsx)("label",{className:"form-label",children:"Load Length Max Limit (ft)"}),(0,Rb.jsx)("input",{type:"number",name:"loadLengthMax",value:n.loadLengthMax,onChange:s,placeholder:"e.g. 53"}),(0,Rb.jsx)("label",{className:"form-label",children:"Minimum Per Mile Rate"}),(0,Rb.jsx)("div",{className:"truck-price-wrapper",children:(0,Rb.jsx)(xN,{thousandSeparator:!1,decimalScale:2,fixedDecimalScale:!0,prefix:"$",value:n.minPerMile,allowNegative:!1,onValueChange:e=>{r(t=>c(c({},t),{},{minPerMile:e.floatValue||0}))},placeholder:"$0.00",className:"truck-price-wrapper-input"})}),(0,Rb.jsx)("label",{className:"form-label",children:"DOT# (Optional)"}),(0,Rb.jsx)("input",{type:"text",name:"dotNumber",value:n.dotNumber,onChange:s,placeholder:"Enter DOT Number"})]})},wN=e=>{let{activeField:t,originInput:n,handleOriginChange:s,originSuggestions:r,selectOrigin:i,removeOrigin:a,destinationInput:o,handleDestinationChange:l,destinationSuggestions:c,selectDestination:u,removeDestination:d,originCities:h,destinationCities:p,availableDate:m,handleAvailableDateChange:f}=e;return"routes"!==t?null:(0,Rb.jsxs)("div",{className:"routes-container",children:[(0,Rb.jsx)("label",{className:"form-label",children:"Origin (Start City) - max 5"}),(0,Rb.jsx)("input",{type:"text",value:n,onChange:s,placeholder:"Type a city..."}),r.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:r.map(e=>(0,Rb.jsxs)("li",{onClick:()=>i(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))}),(0,Rb.jsx)("div",{className:"chips-container",children:h.map((e,t)=>(0,Rb.jsxs)("div",{className:"chip",children:[e,(0,Rb.jsx)("span",{className:"chip-close",onClick:()=>a(t),children:"\xd7"})]},t))}),(0,Rb.jsx)("label",{className:"form-label",children:"Destination (End City) - max 5"}),(0,Rb.jsx)("input",{type:"text",value:o,onChange:l,placeholder:"Type a city..."}),c.length>0&&(0,Rb.jsx)("ul",{className:"autocomplete-suggestions",children:c.map(e=>(0,Rb.jsxs)("li",{onClick:()=>u(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))}),(0,Rb.jsx)("div",{className:"chips-container",children:p.map((e,t)=>(0,Rb.jsxs)("div",{className:"chip",children:[e,(0,Rb.jsx)("span",{className:"chip-close",onClick:()=>d(t),children:"\xd7"})]},t))}),(0,Rb.jsx)("label",{className:"form-label",children:"Available Date"}),(0,Rb.jsx)("input",{type:"date",value:m,onChange:f})]})},jN={Video:dk,Blog:gk,Request:jk,Vehicle:Ek,Event:Dk,Load:zk,Truck:()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",images:[],tokens:0,truckType:"",loadWeightMax:"",loadLengthMax:"",minPerMile:0,dotNumber:""}),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[j,k]=(0,t.useState)(""),[N,S]=(0,t.useState)([]),[C,E]=(0,t.useState)([]),[_,T]=(0,t.useState)([]),I=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)I.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{I.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const A=e=>n(t=>t===e?null:e),P=e=>{const{name:t,value:n}=e.target;r(e=>c(c({},e),{},{[t]:["tokens","loadWeightMax","loadLengthMax","minPerMile"].includes(t)?Number(n)||0:n}))},R="/Vrumies";return m?(0,Rb.jsx)("div",{className:"post-success-message",children:(0,Rb.jsx)("p",{children:h})}):(0,Rb.jsxs)("form",{className:"post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;if(!t)return p("\u274c You must be signed in to submit a post.");try{await pf(Xp(Cb,"Posts"),c(c({},s),{},{originCities:i,destinationCities:o,availableDate:u,tokens:s.tokens||0,createdAt:fa.now(),type:"trucks",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]})),f(!0),p("\u2705 Truck post added!")}catch(n){console.error(n),p("\u274c Failed to add truck post.")}},children:[(0,Rb.jsx)("label",{className:"form-label",children:"Title"}),(0,Rb.jsx)("input",{type:"text",name:"title",value:s.title,onChange:P,required:!0}),(0,Rb.jsx)("label",{className:"form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:s.description,onChange:P,required:!0}),(0,Rb.jsxs)("div",{className:"toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(R,"/PostCreationIcons/Map-Icon.png"),alt:"Address",onClick:()=>A("address"),className:"address"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(R,"/PostCreationIcons/Link-Icon.png"),alt:"Link",onClick:()=>A("link"),className:"link"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(R,"/PostCreationIcons/Image-Icon.png"),alt:"Image",onClick:()=>A("image"),className:"image"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(R,"/PostCreationIcons/Token-Icon.png"),alt:"Tokens",onClick:()=>A("tokens"),className:"tokens"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(R,"/PostCreationIcons/Load-Icon.png"),alt:"Load Details",onClick:()=>A("load"),className:"load"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(R,"/PostCreationIcons/Routes-Icon.png"),alt:"Routes",onClick:()=>A("routes"),className:"routes"===e?"active":""})]}),(0,Rb.jsx)(Bk,{activeField:e,addressInput:y,handleAddressChange:e=>{const t=e.target.value;if(x(t),!I.current||!t)return S([]);I.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{if("OK"!==t||!e)return S([]);S(e)})},suggestions:N,selectAddress:e=>{var t,n;const s=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",i=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"";r(e=>c(c({},e),{},{location:"".concat(s,", ").concat(i),city:s,state:i})),x("".concat(s,", ").concat(i)),S([])}}),(0,Rb.jsx)(qk,{activeField:e,formData:s,handleChange:P}),(0,Rb.jsx)(Hk,{activeField:e,handleFileUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(s.images.length+t.length>7)alert("\u26a0\ufe0f You can only upload up to 7 images.");else{v(!0);try{const e=await Promise.all(t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",Ib);return(await ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)).data.secure_url}));r(t=>c(c({},t),{},{images:[...t.images,...e]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{v(!1)}}},uploading:g,images:s.images,handleRemoveImage:e=>{r(t=>c(c({},t),{},{images:t.images.filter((t,n)=>n!==e)}))}}),(0,Rb.jsx)(Wk,{activeField:e,formData:s,handleChange:P}),(0,Rb.jsx)(bN,{activeField:e,formData:s,handleChange:P,setFormData:r}),(0,Rb.jsx)(wN,{activeField:e,originInput:b,handleOriginChange:e=>{const t=e.target.value;if(w(t),!I.current||!t)return E([]);I.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{if("OK"!==t||!e)return E([]);E(e)})},originSuggestions:C,selectOrigin:e=>{var t,n;const s=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",r=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"";if(i.length>=5)return;const o="".concat(s,", ").concat(r);a(e=>[...e,o]),w(""),E([])},removeOrigin:e=>{a(t=>{const n=[...t];return n.splice(e,1),n})},destinationInput:j,handleDestinationChange:e=>{const t=e.target.value;if(k(t),!I.current||!t)return T([]);I.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{if("OK"!==t||!e)return T([]);T(e)})},destinationSuggestions:_,selectDestination:e=>{var t,n;const s=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",r=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"";if(o.length>=5)return;const i="".concat(s,", ").concat(r);l(e=>[...e,i]),k(""),T([])},removeDestination:e=>{l(t=>{const n=[...t];return n.splice(e,1),n})},originCities:i,destinationCities:o,availableDate:u,handleAvailableDateChange:e=>d(e.target.value)}),(0,Rb.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"}),h&&(0,Rb.jsx)("p",{children:h})]})}};function kN(e){let{isOpen:n,onClose:s}=e;const[r,i]=(0,t.useState)("Video");if((0,t.useEffect)(()=>{n&&i("Video")},[n]),!n)return null;const a=jN[r];return(0,Rb.jsx)("div",{className:"overlay",children:(0,Rb.jsxs)("div",{className:"overlay-content",children:[(0,Rb.jsx)("button",{className:"close-btn",onClick:s,children:"\u2715"}),(0,Rb.jsx)("h2",{style:{color:"#00ff00",fontSize:"2rem",fontWeight:"900",textAlign:"center",marginBottom:"1rem",textShadow:"0 0 10px #00ff00"},children:"CREATE POST"}),(0,Rb.jsx)("div",{className:"post-type-buttons",children:Object.keys(jN).map(e=>(0,Rb.jsx)("button",{className:"post-type-btn ".concat(r===e?"selected":""),onClick:()=>i(e),children:e},e))}),(0,Rb.jsxs)("h3",{style:{textAlign:"center",margin:"1rem 0 1rem",fontSize:"1.2rem",color:"#007bff"},children:["Creating a ",r," Post"]}),(0,Rb.jsx)("div",{className:"form-container",children:(0,Rb.jsx)(a,{onClose:s})})]})})}var NN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SN=t.createContext&&t.createContext(NN),CN=["attr","size","title"];function EN(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_N.apply(this,arguments)}function TN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TN(Object(n),!0).forEach(function(t){AN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PN(e){return e&&e.map((e,n)=>t.createElement(e.tag,IN({key:n},e.attr),PN(e.child)))}function RN(e){return n=>t.createElement(DN,_N({attr:IN({},e.attr)},n),PN(e.child))}function DN(e){var n=n=>{var s,{attr:r,size:i,title:a}=e,o=EN(e,CN),l=i||n.size||"1em";return n.className&&(s=n.className),e.className&&(s=(s?s+" ":"")+e.className),t.createElement("svg",_N({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:s,style:IN(IN({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==SN?t.createElement(SN.Consumer,null,e=>n(e)):n(NN)}function ON(e){return RN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function LN(e){return RN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function MN(e){return RN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function UN(e){return RN({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(e)}function FN(e){return RN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function VN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function zN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(e)}function BN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function qN(e){return RN({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function HN(e){return RN({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function WN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function KN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(e)}function GN(e){return RN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function QN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(e)}function YN(e){return RN({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M488 192H336v56c0 39.7-32.3 72-72 72s-72-32.3-72-72V126.4l-64.9 39C107.8 176.9 96 197.8 96 220.2v47.3l-80 46.2C.7 322.5-4.6 342.1 4.3 357.4l80 138.6c8.8 15.3 28.4 20.5 43.7 11.7L231.4 448H368c35.3 0 64-28.7 64-64h16c17.7 0 32-14.3 32-32v-64h8c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm147.7-37.4L555.7 16C546.9.7 527.3-4.5 512 4.3L408.6 64H306.4c-12 0-23.7 3.4-33.9 9.7L239 94.6c-9.4 5.8-15 16.1-15 27.1V248c0 22.1 17.9 40 40 40s40-17.9 40-40v-88h184c30.9 0 56 25.1 56 56v28.5l80-46.2c15.3-8.9 20.5-28.4 11.7-43.7z"},child:[]}]})(e)}function $N(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function XN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M79.18 282.94a32.005 32.005 0 0 0-20.24 20.24L0 480l4.69 4.69 92.89-92.89c-.66-2.56-1.57-5.03-1.57-7.8 0-17.67 14.33-32 32-32s32 14.33 32 32-14.33 32-32 32c-2.77 0-5.24-.91-7.8-1.57l-92.89 92.89L32 512l176.82-58.94a31.983 31.983 0 0 0 20.24-20.24l33.07-84.07-98.88-98.88-84.07 33.07zM369.25 28.32L186.14 227.81l97.85 97.85 199.49-183.11C568.4 67.48 443.73-55.94 369.25 28.32z"},child:[]}]})(e)}function JN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function ZN(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function eS(e){return RN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function tS(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function nS(e){return RN({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function sS(e){return RN({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function rS(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(e)}function iS(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(e)}function aS(e){return RN({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function oS(e){return RN({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function lS(e){return RN({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function cS(e){return RN({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function uS(e){return RN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}const dS=()=>{const e=me();return(0,Rb.jsxs)("div",{className:"directory-buttons",children:[(0,Rb.jsxs)("button",{className:"directory-btn",onClick:()=>e("/directory"),children:[(0,Rb.jsx)(uS,{className:"directory-icon directory-green"}),(0,Rb.jsx)("span",{children:"Directory"})]}),(0,Rb.jsxs)("button",{className:"directory-btn",onClick:()=>e("/request"),children:[(0,Rb.jsx)(YN,{className:"directory-icon directory-green"}),(0,Rb.jsx)("span",{children:"Requests"})]})]})},hS=()=>{const e=me();return(0,Rb.jsxs)("div",{className:"dropdown-buttons",children:[(0,Rb.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/myprofile"),children:[(0,Rb.jsx)(lS,{className:"icon green"}),(0,Rb.jsx)("span",{children:"Profile"})]}),(0,Rb.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/bookmarks"),children:[(0,Rb.jsx)(UN,{className:"icon green"}),(0,Rb.jsx)("span",{children:"Bookmarks"})]}),(0,Rb.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/seller"),children:[(0,Rb.jsx)(sS,{className:"icon green"}),(0,Rb.jsx)("span",{children:"Seller"})]}),(0,Rb.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/settings"),children:[(0,Rb.jsx)(WN,{className:"icon green"}),(0,Rb.jsx)("span",{children:"Settings"})]}),(0,Rb.jsxs)("button",{className:"dropdown-btn",onClick:()=>e("/signin"),children:[(0,Rb.jsx)(tS,{className:"icon green"}),(0,Rb.jsx)("span",{children:"Sign Out"})]})]})};const pS=function(e){let{isOpen:t,onClose:n}=e;return t?(0,Rb.jsxs)("div",{className:"notifications-panel-content",children:[(0,Rb.jsx)("div",{className:"notifications-header",children:"Notifications"}),(0,Rb.jsx)("div",{className:"notifications-list custom-scrollbar",children:[{type:"New Order",description:"12V USB Charger...",from:"Samantha43",time:"5h ago",isNew:!0},{type:"New Review",description:"Alex Anderson",from:"Terrance_Morres",comment:"\u201cI used this product and I like the cool light designs on it.\u201d",time:"9h ago"},{type:"New Comment",description:"Testing the new Ford...",from:"mich332",comment:"\u201cI used this product and I like the cool light designs on it.\u201d",time:"15h ago"},{type:"New Comment",description:"Why I only use manual...",from:"Vanz Marquez",comment:"\u201cAutomatic cards are less likely to have transmission issues..\u201d",time:"2d ago"},{type:"New Comment",description:"Dodge Charger Hellcat...",from:"SaraTheDrifter_Official",comment:"\u201cThat 0-60 time on the Dodge Charger Hellcat is crazy...\u201d",time:"3d ago"},{type:"New Comment",description:"My new Vlog at...",from:"Mikefromike1995",comment:"\u201cWow very cool car event you went to, glad the cops didn't...\u201d",time:"5w ago"}].map((e,t)=>(0,Rb.jsxs)("div",{className:"notification-item ".concat(e.isNew?"notification-new":""),children:[(0,Rb.jsxs)("div",{className:"notification-top-row",children:[(0,Rb.jsxs)("span",{className:"notification-title ".concat(e.isNew?"text-green":"text-light-gray"),children:[e.type,": ",e.description]}),(0,Rb.jsx)("span",{className:"notification-time",children:e.time})]}),(0,Rb.jsxs)("p",{className:"notification-from",children:["from ",(0,Rb.jsx)("span",{className:"notification-sender",children:e.from})]}),e.comment&&(0,Rb.jsxs)("p",{className:"notification-comment",children:['"',e.comment,'"']})]},t))}),(0,Rb.jsx)("style",{children:"\n        .notifications-panel-content {\n          background-color: #2d3748; /* bg-gray-800 */\n          border-radius: 0.5rem; /* rounded-lg */\n          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* shadow-2xl */\n          width: 100%;\n          max-width: 28rem; /* max-w-md (approx 448px) */\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          max-height: 90vh; /* Max height for content */\n        }\n\n        .notifications-header {\n          padding: 1rem; /* p-4 */\n          background-color: #1a202c; /* bg-gray-900 */\n          color: #ffffff; /* text-white */\n          font-size: 1.25rem; /* text-xl */\n          font-weight: bold;\n          border-top-left-radius: 0.5rem;\n          border-top-right-radius: 0.5rem;\n        }\n\n        .notifications-list {\n          flex-grow: 1; /* flex-grow */\n          overflow-y: auto; /* overflow-y-auto */\n        }\n\n        .notification-item {\n          padding: 1rem; /* p-4 */\n          border-bottom: 1px solid #4a5568; /* border-b border-gray-700 */\n        }\n        .notification-item:last-child {\n          border-bottom: none; /* last:border-b-0 */\n        }\n\n        .notification-new {\n          background-color: rgba(76, 209, 55, 0.15); /* bg-green-400/30 */\n        }\n\n        .notification-top-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 0.25rem; /* mb-1 */\n        }\n\n        .notification-title {\n          font-weight: 600; /* font-semibold */\n        }\n\n        .text-green {\n          color: #48bb78; /* text-green-400 */\n        }\n\n        .text-light-gray {\n          color: #e2e8f0; /* text-gray-200 */\n        }\n\n        .notification-time {\n          color: #a0aec0; /* text-gray-400 */\n          font-size: 0.875rem; /* text-sm */\n        }\n\n        .notification-from {\n          color: #cbd5e0; /* text-gray-300 */\n          font-size: 0.875rem; /* text-sm */\n          margin-bottom: 0.25rem; /* mb-1 */\n        }\n\n        .notification-sender {\n          font-weight: 500; /* font-medium */\n          color: #63b3ed; /* text-blue-300 */\n        }\n\n        .notification-comment {\n          color: #a0aec0; /* text-gray-400 */\n          font-size: 0.875rem; /* text-sm */\n          font-style: italic;\n        }\n\n        /* Custom scrollbar styles */\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 8px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #333;\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: #555;\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: #777;\n        }\n        "})]}):null},mS=()=>{const e=me(),t=[{icon:(0,Rb.jsx)(cS,{}),label:"Videos",route:"/videos"},{icon:(0,Rb.jsx)(XN,{}),label:"Blogs",route:"/blogs"},{icon:(0,Rb.jsx)(zN,{}),label:"Vehicles",route:"/vehicles"},{icon:(0,Rb.jsx)(FN,{}),label:"Events",route:"/events"}];return(0,Rb.jsx)("div",{className:"social-dropdown-container",children:t.map((t,n)=>(0,Rb.jsxs)("button",{className:"social-dropdown-btn",onClick:()=>e(t.route),children:[(0,Rb.jsx)("span",{className:"social-icon",children:t.icon}),(0,Rb.jsx)("span",{children:t.label})]},n))})},fS=()=>{const e=me();return(0,Rb.jsxs)("div",{className:"loadboard-buttons",children:[(0,Rb.jsxs)("button",{className:"loadboard-btn",onClick:()=>e("/loads"),children:[(0,Rb.jsx)(qN,{className:"loadboard-icon loadboard-green"}),(0,Rb.jsx)("span",{children:"Loads"})]}),(0,Rb.jsxs)("button",{className:"loadboard-btn",onClick:()=>e("/trucks"),children:[(0,Rb.jsx)(oS,{className:"loadboard-icon loadboard-green"}),(0,Rb.jsx)("span",{children:"Trucks"})]})]})};const gS=function(){const e=me(),[n,s]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(null),g=(0,t.useRef)(null),v=(0,t.useRef)(null),y=(0,t.useRef)(null),x=(0,t.useRef)(null),b=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=Ky().currentUser;null!==e&&void 0!==e&&e.photoURL&&f(e.photoURL)},[]),(0,t.useEffect)(()=>{const e=e=>{r&&g.current&&!g.current.contains(e.target)&&i(!1),a&&v.current&&!v.current.contains(e.target)&&o(!1),l&&y.current&&!y.current.contains(e.target)&&c(!1),u&&x.current&&!x.current.contains(e.target)&&d(!1),h&&b.current&&!b.current.contains(e.target)&&p(!1)};return(r||a||l||u||h)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r,a,l,u,h]),(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsxs)("nav",{className:"navbar",style:{position:"relative",zIndex:10},children:[(0,Rb.jsxs)("div",{className:"navbar-left",children:[(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/logo-black.png"),alt:"Logo",className:"logo"}),(0,Rb.jsxs)("ul",{className:"nav-links",children:[(0,Rb.jsxs)("li",{className:"nav-social-link",onClick:e=>{e.stopPropagation(),c(!l),l||(i(!1),o(!1),d(!1),p(!1))},ref:y,style:{cursor:"pointer",position:"relative"},children:["Social",l&&(0,Rb.jsx)("div",{style:{position:"absolute",top:"100%",left:0,transform:"translate(-50px, 50px)",zIndex:1e3},children:(0,Rb.jsx)(mS,{})})]}),(0,Rb.jsx)("li",{children:(0,Rb.jsx)(vt,{to:"/market",children:"Market"})}),(0,Rb.jsxs)("li",{className:"nav-directory-link",onClick:e=>{e.stopPropagation(),d(!u),u||(i(!1),o(!1),c(!1),p(!1))},ref:x,style:{cursor:"pointer",position:"relative"},children:["Directory",u&&(0,Rb.jsx)("div",{style:{position:"absolute",top:"100%",left:20,transform:"translate(-50px, 50px)",zIndex:1e3},children:(0,Rb.jsx)(dS,{})})]}),(0,Rb.jsxs)("li",{className:"nav-loadboard-link",onClick:e=>{e.stopPropagation(),p(!h),h||(i(!1),o(!1),c(!1),d(!1))},ref:b,style:{cursor:"pointer",position:"relative"},children:["Loadboard",h&&(0,Rb.jsx)("div",{style:{position:"absolute",top:"100%",left:20,transform:"translate(-50px, 50px)",zIndex:1e3},children:(0,Rb.jsx)(fS,{})})]})]})]}),(0,Rb.jsxs)("div",{className:"navbar-buttons",children:[(0,Rb.jsx)("button",{onClick:()=>s(!0),children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/post.png"),alt:"Post"})}),(0,Rb.jsx)("button",{type:"button",onClick:()=>e("/orders"),children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/orders.png"),alt:"Orders"})}),(0,Rb.jsx)("button",{type:"button",onClick:()=>e("/cart"),children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/cart.png"),alt:"Cart"})}),(0,Rb.jsx)("button",{type:"button",onClick:()=>e("/inbox"),children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/messages.png"),alt:"Messages"})}),(0,Rb.jsx)("button",{type:"button",onClick:()=>e("/tokens"),children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/tokens.png"),alt:"Tokens"})}),(0,Rb.jsx)("button",{className:"notifications-btn",onClick:e=>{e.stopPropagation(),o(!a),a||(i(!1),c(!1),d(!1),p(!1))},children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/notifications.png"),alt:"Notifications"})}),(0,Rb.jsxs)("button",{className:"profile-btn",onClick:e=>{e.stopPropagation(),i(!r),r||(o(!1),c(!1),d(!1),p(!1))},children:[(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/profile.png"),alt:"Profile"}),m&&(0,Rb.jsx)("img",{src:m,alt:"User",className:"profile-photo"})]})]}),r&&(0,Rb.jsx)("div",{ref:g,style:{position:"absolute",right:"20px",top:"100%",zIndex:1e3},children:(0,Rb.jsx)(hS,{})}),a&&(0,Rb.jsx)("div",{ref:v,style:{position:"absolute",right:"20px",top:"100%",zIndex:1e3,transform:"translateY(10px)"},children:(0,Rb.jsx)(pS,{isOpen:a,onClose:()=>o(!1)})})]}),(0,Rb.jsx)(kN,{isOpen:n,onClose:()=>s(!1)})]})};function vS(e,t,n,s){return new(n||(n=Promise))(function(r,i){function a(e){try{l(s.next(e))}catch(cI){i(cI)}}function o(e){try{l(s.throw(e))}catch(cI){i(cI)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((s=s.apply(e,t||[])).next())})}function yS(e,t){var n,s,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&i[0]?s.return:i[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(cI){i=[6,cI],s=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}var xS=function(){return xS=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xS.apply(this,arguments)},bS=function(e){return{loading:void 0===e||null===e,value:e}},wS=function(e){var n=e?e():void 0,s=(0,t.useReducer)(function(e,t){switch(t.type){case"error":return xS(xS({},e),{error:t.error,loading:!1,value:void 0});case"reset":return bS(t.defaultValue);case"value":return xS(xS({},e),{error:void 0,loading:!1,value:t.value});default:return e}},bS(n)),r=s[0],i=s[1],a=(0,t.useCallback)(function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})},[e]),o=(0,t.useCallback)(function(e){i({type:"error",error:e})},[]),l=(0,t.useCallback)(function(e){i({type:"value",value:e})},[]);return(0,t.useMemo)(function(){return{error:r.error,loading:r.loading,reset:a,setError:o,setValue:l,value:r.value}},[r.error,r.loading,a,o,l,r.value])};const jS=Ky(),kS=e=>{let{allowedEmail:n,children:s}=e;const[r,i]=function(e,n){var s=wS(function(){return e.currentUser}),r=s.error,i=s.loading,a=s.setError,o=s.setValue,l=s.value;return(0,t.useEffect)(function(){var t=Nv(e,function(e){return vS(void 0,void 0,void 0,function(){var t;return yS(this,function(s){switch(s.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return s.sent(),[3,4];case 3:return t=s.sent(),a(t),[3,4];case 4:return o(e),[2]}})})},a);return function(){t()}},[e]),[l,i,r]}(jS);return i?(0,Rb.jsx)("div",{children:"Loading..."}):r?n&&r.email!==n?(0,Rb.jsx)(Pe,{to:"/",replace:!0}):s:(0,Rb.jsx)(Pe,{to:"/signin",replace:!0})},NS={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://cdn.skoda-storyboard.com/2018/08/influencer-bloger-event-skoda-classic-car.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},nav:{marginTop:"40px"},navList:{listStyle:"none",padding:0,display:"flex",gap:"30px",fontWeight:"700",fontSize:"20px"},navItem:{color:"#aaa",cursor:"pointer"},activeNavItem:{color:"#00FF00",fontWeight:"900",borderBottom:"2px solid #00FF00",paddingBottom:"4px"}},SS=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{style:c(c({},NS.container),{},{height:"260px"}),children:[(0,Rb.jsxs)("div",{style:NS.leftSide,children:[(0,Rb.jsx)("h1",{style:NS.title,children:(0,Rb.jsx)("span",{style:NS.greenHighlight,children:"VIDEO POSTS"})}),(0,Rb.jsx)("p",{style:NS.subtitle,children:"PROMOTE AND SHARE YOUR AUTOMOTIVE VIDEOS"})]}),(0,Rb.jsx)("div",{style:NS.rightSide,children:(0,Rb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Rb.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})})]})};const CS=function(e){let{id:n,image:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/videopost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s||"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const ES=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/blogpost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const _S=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/vehiclepost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const TS=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/eventpost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const IS=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/marketpost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const AS=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/directorypost/".concat(n),className:"events-post-layout",children:[" ",(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Post Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Post").toUpperCase()})," ",(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const PS=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/requestpost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const RS=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/loadpost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const DS=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),x=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/truckpost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:x})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})},OS={video:CS,blog:ES,vehicle:_S,event:TS,market:IS,directory:AS,request:PS,loads:RS,trucks:DS};const LS=function(e){let{posts:t}=e;return(0,Rb.jsx)("div",{className:"main-post-grid",children:0===t.length?(0,Rb.jsx)("div",{className:"no-post-block",children:(0,Rb.jsx)("p",{children:"No posts found."})}):t.map((e,t)=>{const n=OS[e.type]||CS;return(0,Rb.jsx)("div",{children:(0,Rb.jsx)(vt,{to:"video"===e.type?"/videopost/".concat(e.id):"#",style:{textDecoration:"none",color:"inherit",display:"block",width:"100%",height:"100%"},children:(0,Rb.jsx)(n,c({},e))})},e.id||t)})})},MS=e=>{let{searchQuery:t,setSearchQuery:n}=e;return(0,Rb.jsx)("div",{className:"sb-wrapper",children:(0,Rb.jsxs)("div",{className:"sb-inner",children:[(0,Rb.jsx)("input",{type:"text",placeholder:"Search events...",className:"sb-input",value:t,onChange:e=>n(e.target.value)}),(0,Rb.jsx)("button",{className:"sb-button",onClick:()=>{},children:(0,Rb.jsx)(ZN,{})})]})})},US=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)({location:!0,date:!0,sort:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","video")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,r,s]);const v=e=>{g(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>v("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:f.location?"\u2212":"+"})]}),f.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>v("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:f.date?"\u2212":"+"})]}),f.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>v("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:f.sort?"\u2212":"+"})]}),f.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})};const FS=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Videos"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(CS,c(c({},e),{},{compact:!0}),e.id||t))})]})},VS=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(SS,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(US,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(FS,{posts:e})]})]})},zS=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"request-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"REQUEST POSTS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"MAKE A REQUEST POST TO ALL USERS FOR THE AUTOMOTIVE PRODUCTS OR SERVICES YOU ARE LOOKING FOR"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Rb.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})})]})};const BS=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Requests"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(PS,c(c({},e),{},{compact:!0}),e.id||t))})]})},qS=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)({location:!0,date:!0,sort:!0,urgency:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","request")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.urgency).filter(e=>"string"===typeof e&&""!==e.trim())));g(n);const s=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(s)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}v.length>0&&(e=e.filter(e=>v.includes(e.urgency))),"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,r,s,v]);const w=e=>{b(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:x.location?"\u2212":"+"})]}),x.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:x.date?"\u2212":"+"})]}),x.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("urgency"),children:["Urgency ",(0,Rb.jsx)("span",{children:x.urgency?"\u2212":"+"})]}),x.urgency&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===v.length,onChange:()=>y([])}),"Show All"]}),f.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:v.includes(e),onChange:()=>y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:x.sort?"\u2212":"+"})]}),x.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})},HS=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(zS,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(qS,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(BS,{posts:e})]})]})},WS=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"market-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"MARKET POSTS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"MAKE A MARKET POST TO PROMOTE YOUR AUTOMOTIVE PRODUCTS"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/category-icons/market.png"),alt:"Events Icon",width:"70",height:"70",className:"events-icon"})})]})};const KS=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Market"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(IS,c(c({},e),{},{compact:!0}),e.id||t))})]})},GS=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)("Show All"),[w,j]=(0,t.useState)([]),[k,N]=(0,t.useState)([]),S=e=>{if("string"!==typeof e)return null;const t=Number(e.replace(/[^0-9.]/g,""));return isNaN(t)?null:t},[C,E]=(0,t.useState)({location:!0,date:!0,sort:!0,condition:!0,shipping:!0,price:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","market")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n);const s=Array.from(new Set(t.map(e=>e.shippingTime).filter(Boolean)));j(s)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),""!==f&&(e=e.filter(e=>{const t=S(e.price);return null!==t&&t>=Number(f)})),""!==v&&(e=e.filter(e=>{const t=S(e.price);return null!==t&&t<=Number(v)})),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}"Show All"!==x&&(e=e.filter(e=>e.condition===x)),k.length>0&&(e=e.filter(e=>k.includes(e.shippingTime))),"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,f,v,r,s,x,k]);const _=e=>{E(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>_("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:C.location?"\u2212":"+"})]}),C.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>_("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:C.date?"\u2212":"+"})]}),C.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>_("condition"),children:["Condition ",(0,Rb.jsx)("span",{children:C.condition?"\u2212":"+"})]}),C.condition&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","New","Used"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:x===e,onChange:()=>b(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>_("shipping"),children:["Shipping Time ",(0,Rb.jsx)("span",{children:C.shipping?"\u2212":"+"})]}),C.shipping&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===k.length,onChange:()=>N([])}),"Show All"]}),w.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:k.includes(e),onChange:()=>N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>_("price"),children:["Price ",(0,Rb.jsx)("span",{children:C.price?"\u2212":"+"})]}),C.price&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Min ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:f,onChange:e=>g(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-separator",children:"\u2013"}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Max ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:v,onChange:e=>y(e.target.value)})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>_("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:C.sort?"\u2212":"+"})]}),C.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})},QS=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(WS,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(GS,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(KS,{posts:e})]})]})},YS=()=>(0,Rb.jsxs)("div",{className:"events-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"EVENT POSTS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"PROMOTE AND SHARE YOUR AUTOMOTIVE EVENTS"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/category-icons/event.png"),alt:"Events Icon",width:"70",height:"70",className:"events-icon"})})]}),$S=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)({location:!0,date:!0,eventDate:!0,sort:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","event")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n);const s=Array.from(new Set(t.filter(e=>{var t;return null===(t=e.eventDateTime)||void 0===t?void 0:t.seconds}).map(e=>new Date(1e3*e.eventDateTime.seconds).toISOString().split("T")[0])));g(s)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}v.length>0&&(e=e.filter(e=>{var t;if(null===(t=e.eventDateTime)||void 0===t||!t.seconds)return!1;const n=new Date(1e3*e.eventDateTime.seconds).toISOString().split("T")[0];return v.includes(n)})),"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,r,s]);const w=e=>{b(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:x.location?"\u2212":"+"})]}),x.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:x.date?"\u2212":"+"})]}),x.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("eventDate"),children:["Event Date ",(0,Rb.jsx)("span",{children:x.eventDate?"\u2212":"+"})]}),x.eventDate&&(0,Rb.jsx)("div",{className:"filterpanel-options scrollable",children:f.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:v.includes(e),onChange:()=>y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),new Date(e).toLocaleDateString()]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>w("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:x.sort?"\u2212":"+"})]}),x.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})};const XS=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Events"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(TS,c(c({},e),{},{compact:!0}),e.id||t))})]})},JS=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(YS,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)($S,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(XS,{posts:e})]})]})},ZS=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"directory-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"DIRECTORY POSTS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"MAKE A DIRECTORY POST TO PROMOTE YOUR AUTOMOTIVE SERVICES"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/category-icons/directory.png"),alt:"Events Icon",width:"70",height:"70",className:"events-icon"})})]})};const eC=function(e){let{posts:t}=e;const n=(t||[]).filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Directory"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(AS,c(c({},e),{},{compact:!0}),e.id||t))})]})},tC=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)("Show All"),[d,h]=(0,t.useState)([]),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)("Show All"),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),w=e=>{if("string"!==typeof e)return null;const t=Number(e.replace(/[^0-9.]/g,""));return isNaN(t)?null:t},[j,k]=(0,t.useState)({location:!0,service:!0,price:!0,date:!0,sort:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","directory")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if("Show All"!==l&&(e=e.filter(e=>e.serviceLocation===l)),d.length>0&&(e=e.filter(e=>d.includes(e.location))),""!==v&&(e=e.filter(e=>{const t=w(e.price);return null!==t&&t>=Number(v)})),""!==x&&(e=e.filter(e=>{const t=w(e.price);return null!==t&&t<=Number(x)})),"Show All"!==p){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===p)return s.toDateString()===t.toDateString();if("This Week"===p)return t-s<=6048e5;if("This Month"===p)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===p){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}"Newest"===f&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===f&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===f&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,f,v,x,r,s]);const N=e=>{k(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>N("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:j.location?"\u2212":"+"})]}),j.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===d.length,onChange:()=>h([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:d.includes(e),onChange:()=>h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>N("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:j.date?"\u2212":"+"})]}),j.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>N("service"),children:["Service Location ",(0,Rb.jsx)("span",{children:j.service?"\u2212":"+"})]}),j.service&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Customer Address","Business Address"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:l===e,onChange:()=>u(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>N("price"),children:["Price ",(0,Rb.jsx)("span",{children:j.price?"\u2212":"+"})]}),j.price&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Min ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:v,onChange:e=>y(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-separator",children:"\u2013"}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Max ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:x,onChange:e=>b(e.target.value)})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>N("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:j.sort?"\u2212":"+"})]}),j.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:f===e,onChange:()=>g(e)}),e]},e))})]})]})},nC=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(ZS,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(tC,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(eC,{posts:e})]})]})},sC=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"market-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"TRUCK POSTS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"MAKE A TRUCK POST TO PROMOTE YOUR FREIGHT TRUCK TRANSPORT SERVICE"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/category-icons/market.png"),alt:"Events Icon",width:"70",height:"70",className:"events-icon"})})]})};const rC=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Trucks"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(DS,c(c({},e),{},{compact:!0}),e.id||t))})]})},iC=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)([]),[k,N]=(0,t.useState)([]),[S,C]=(0,t.useState)([]),[E,_]=(0,t.useState)(""),[T,I]=(0,t.useState)(""),[A,P]=(0,t.useState)(""),[R,D]=(0,t.useState)({location:!0,date:!0,sort:!0,truckType:!0,originCities:!0,destinationCities:!0,loadWeight:!0,loadLength:!0,minPerMile:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","trucks")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n);const s=Array.from(new Set(t.map(e=>e.truckType).filter(Boolean)));g(s);const r=Array.from(new Set(t.flatMap(e=>e.originCities||[])));b(r);const a=Array.from(new Set(t.flatMap(e=>e.destinationCities||[])));N(a)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),""!==E&&(e=e.filter(e=>"number"===typeof e.loadWeight&&e.loadWeight>=Number(E))),""!==T&&(e=e.filter(e=>"number"===typeof e.loadLengthMax&&e.loadLengthMax>=Number(T))),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}v.length>0&&(e=e.filter(e=>v.includes(e.truckType))),w.length>0&&(e=e.filter(e=>{var t;return null===(t=e.originCities)||void 0===t?void 0:t.some(e=>w.includes(e))})),S.length>0&&(e=e.filter(e=>{var t;return null===(t=e.destinationCities)||void 0===t?void 0:t.some(e=>S.includes(e))})),""!==A&&(e=e.filter(e=>"number"===typeof e.minPerMile&&e.minPerMile<=Number(A))),"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,v,w,S,E,T,A,r,s]);const O=e=>{D(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:R.location?"\u2212":"+"})]}),R.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:R.date?"\u2212":"+"})]}),R.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("truckType"),children:["Truck Type ",(0,Rb.jsx)("span",{children:R.truckType?"\u2212":"+"})]}),R.truckType&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===v.length,onChange:()=>y([])}),"Show All"]}),f.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:v.includes(e),onChange:()=>y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("originCities"),children:["Origin (Start City) ",(0,Rb.jsx)("span",{children:R.originCities?"\u2212":"+"})]}),R.originCities&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===w.length,onChange:()=>j([])}),"Show All"]}),x.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:w.includes(e),onChange:()=>j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("destinationCities"),children:["Destination (End City) ",(0,Rb.jsx)("span",{children:R.destinationCities?"\u2212":"+"})]}),R.destinationCities&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===S.length,onChange:()=>C([])}),"Show All"]}),k.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:S.includes(e),onChange:()=>C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("loadWeight"),children:["Load Weight Max Limit ",(0,Rb.jsx)("span",{children:R.loadWeight?"\u2212":"+"})]}),R.loadWeight&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"At least"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:E,onChange:e=>_(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"lbs"})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("loadLength"),children:["Load Length Max Limit ",(0,Rb.jsx)("span",{children:R.loadLength?"\u2212":"+"})]}),R.loadLength&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"At least"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:T,onChange:e=>I(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"ft"})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("minPerMile"),children:["Minimum Per Mile Rate ",(0,Rb.jsx)("span",{children:R.minPerMile?"\u2212":"+"})]}),R.minPerMile&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"At or below ($)"}),(0,Rb.jsx)("input",{type:"number",step:"0.01",className:"filterpanel-input",placeholder:"e.g. 2.50",value:A,onChange:e=>P(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"per mile"})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>O("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:R.sort?"\u2212":"+"})]}),R.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})},aC=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(sC,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[" ",(0,Rb.jsx)(iC,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(rC,{posts:e})]})]})},oC=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"market-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"LOAD POSTS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"MAKE A LOAD POST TO FIND AVAILABLE TRUCKERS FOR TRANSPORTATION OF LOADS"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/category-icons/market.png"),alt:"Events Icon",width:"70",height:"70",className:"events-icon"})})]})};const lC=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Loads"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(RS,c(c({},e),{},{compact:!0}),e.id||t))})]})},cC=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[w,j]=(0,t.useState)(""),[k,N]=(0,t.useState)(""),[S,C]=(0,t.useState)(""),[E,_]=(0,t.useState)([]),[T,I]=(0,t.useState)([]),[A,P]=(0,t.useState)([]),[R,D]=(0,t.useState)([]),[O,L]=(0,t.useState)([]),[M,U]=(0,t.useState)([]),[F,V]=(0,t.useState)({location:!0,date:!0,pickup:!0,dropoff:!0,payout:!0,loadLength:!0,loadWeight:!0,truckType:!0,sort:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","loads")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n);const s=Array.from(new Set(t.map(e=>e.truckType).filter(Boolean)));_(s);const r=Array.from(new Set(t.map(e=>e.pickupCity).filter(Boolean)));P(r);const a=Array.from(new Set(t.map(e=>e.dropoffCity).filter(Boolean)));L(a)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),""!==f&&(e=e.filter(e=>"number"===typeof e.payout&&e.payout>=Number(f))),""!==v&&(e=e.filter(e=>"number"===typeof e.payout&&e.payout<=Number(v))),""!==x&&(e=e.filter(e=>"number"===typeof e.loadLength&&e.loadLength>=Number(x))),""!==w&&(e=e.filter(e=>"number"===typeof e.loadLength&&e.loadLength<=Number(w))),""!==k&&(e=e.filter(e=>"number"===typeof e.loadWeight&&e.loadWeight>=Number(k))),""!==S&&(e=e.filter(e=>"number"===typeof e.loadWeight&&e.loadWeight<=Number(S))),T.length>0&&(e=e.filter(e=>T.includes(e.truckType))),R.length>0&&(e=e.filter(e=>R.includes(e.pickupCity))),M.length>0&&(e=e.filter(e=>M.includes(e.dropoffCity))),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,f,v,x,w,k,S,T,R,M,r,s]);const z=e=>{V(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:F.location?"\u2212":"+"})]}),F.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:F.date?"\u2212":"+"})]}),F.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("pickup"),children:["Pickup City ",(0,Rb.jsx)("span",{children:F.pickup?"\u2212":"+"})]}),F.pickup&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===R.length,onChange:()=>D([])}),"Show All"]}),A.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:R.includes(e),onChange:()=>D(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("dropoff"),children:["Drop-Off City ",(0,Rb.jsx)("span",{children:F.dropoff?"\u2212":"+"})]}),F.dropoff&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===M.length,onChange:()=>U([])}),"Show All"]}),O.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:M.includes(e),onChange:()=>U(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("payout"),children:["Payout ",(0,Rb.jsx)("span",{children:F.payout?"\u2212":"+"})]}),F.payout&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Min ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:f,onChange:e=>g(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-separator",children:"\u2013"}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Max ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:v,onChange:e=>y(e.target.value)})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("loadLength"),children:["Load Length ",(0,Rb.jsx)("span",{children:F.loadLength?"\u2212":"+"})]}),F.loadLength&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Min (ft)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:x,onChange:e=>b(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-separator",children:"\u2013"}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Max (ft)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:w,onChange:e=>j(e.target.value)})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("loadWeight"),children:["Load Weight ",(0,Rb.jsx)("span",{children:F.loadWeight?"\u2212":"+"})]}),F.loadWeight&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Min (lb)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:k,onChange:e=>N(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-separator",children:"\u2013"}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Max (lb)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:S,onChange:e=>C(e.target.value)})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("truckType"),children:["Required Truck Type ",(0,Rb.jsx)("span",{children:F.truckType?"\u2212":"+"})]}),F.truckType&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===T.length,onChange:()=>I([])}),"Show All"]}),E.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:T.includes(e),onChange:()=>I(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>z("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:F.sort?"\u2212":"+"})]}),F.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})},uC=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(oC,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(cC,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(lC,{posts:e})]})]})},dC=e=>{let{title:t="Page Title",backgroundUrl:n}=e;return(0,Rb.jsx)("div",{className:"page-header-wrapper",style:{backgroundImage:"url(".concat(n||"https://images.squarespace-cdn.com/content/v1/6598c8e83ff0af0197ff19f9/a05c7d5e-3711-48bb-a4c8-f3ce0f076355/JCCI-2024-Banner.jpg",")")},children:(0,Rb.jsx)("h1",{className:"page-header-title",children:t})})},hC=(0,t.createContext)();function pC(){return(0,t.useContext)(hC)}function mC(e){let{children:n}=e;const[s,r]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0);(0,t.useEffect)(()=>Nv(Eb,e=>{r(e),a(!1)}),[]);const o={currentUser:s,signInWithGoogle:async()=>{const e=new mv;try{await ly(Eb,e)}catch(t){console.error("Google sign-in error:",t)}},logout:()=>function(e){return on(e).signOut()}(Eb)};return(0,Rb.jsx)(hC.Provider,{value:o,children:!i&&n})}const fC=function(e){var n,s;let{postId:r}=e;const{id:i}=fe(),a=r||i,[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)("description"),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(""),[k,N]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),{currentUser:E}=pC(),_=me();(0,t.useEffect)(()=>{(async()=>{h(!0);try{const n=Jp(Cb,"Posts",a),s=await of(n);if(!s.exists())return void h(!1);const r=s.data();l(r);const i=Jp(Cb,"Users",r.userId),o=await of(i);if(u(o.exists()?o.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),E){const t=Jp(Cb,"Users",E.uid),n=await of(t);if(n.exists()){var e;const t=n.data();y((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(a))||!1)}}if(E){var t;const e=(null===(t=r.report)||void 0===t?void 0:t.includes(E.uid))||!1;b(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{h(!1)}})()},[a,E]);const T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(d)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!o)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const I=o.title||"Title not available",A=o.description||"Description not available",P=o.createdAt?new Date(1e3*o.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===c||void 0===c?void 0:c.username)||"Seller info not available",D=(null===c||void 0===c?void 0:c.profilepic)||"".concat("/Vrumies","/default-profile.png"),O="video"===o.type?o.video:null,L=o.image||"".concat("/Vrumies","/default-thumbnail.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[w&&(0,Rb.jsx)("div",{className:"copy-notification",children:w}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / VIDEOS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:R}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(o.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[o.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(k?"follow-active":""),onClick:()=>{N(!k),T(k?"Unfollowed":"Followed",2e3)},children:k?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(E&&e)try{const t=Xp(Cb,"chats"),n=Bm(t,Hm("participants","array-contains",E.uid)),s=await cf(n);let r=null;if(s.forEach(t=>{t.data().participants.includes(e)&&(r=t.id)}),!r){const n=await pf(t,{userA:E.uid,userB:e,participants:[E.uid,e],lastMessage:"",lastTimestamp:xf()});r=n.id,await pf(Xp(Cb,"chats",r,"messages"),{senderId:E.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[E.uid]}),await uf(Jp(Cb,"chats",r),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}_("/inbox?chat=".concat(r))}catch(t){console.error(t),T("Error messaging user",4e3)}})(o.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===p?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===p?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===p?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===p&&(0,Rb.jsx)("p",{className:"description",children:A}),"details"===p&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=o.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=o.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",o.link?(0,Rb.jsx)("a",{href:(M=o.link,M?M.startsWith("http")?M:"https://".concat(M):null),target:"_blank",rel:"noopener noreferrer",children:o.link}):"N/A"]})]}),"reviews"===p&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(f?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{T("URL copied!",2e3),g(!0),setTimeout(()=>g(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(v?"active":""),onClick:async()=>{if(!E)return;const e=Jp(Cb,"Users",E.uid);try{v?(await df(e,{bookmarks:wf(a)}),y(!1),T("Removed from bookmarks")):(await df(e,{bookmarks:bf(a)}),y(!0),T("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(x?"active":""),onClick:async()=>{if(!E)return;const e=Jp(Cb,"Posts",a);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(E.uid)?(await df(e,{report:wf(E.uid)}),b(!1),T("Report removed")):(await df(e,{report:bf(E.uid)}),b(!0),T("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsx)("div",{className:"price-row"})]}),(0,Rb.jsx)("div",{className:"post-right",children:(0,Rb.jsx)("div",{className:"video-banner-container",onClick:!S&&O?()=>{C(!0)}:void 0,children:(0,Rb.jsx)("div",{className:"video-banner-inner",children:S&&O?(0,Rb.jsxs)("video",{className:"video-banner-image",controls:!0,autoPlay:!0,children:[(0,Rb.jsx)("source",{src:O,type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("img",{src:L,alt:"Post",className:"video-banner-image"}),O&&(0,Rb.jsx)("div",{className:"video-banner-play",children:(0,Rb.jsxs)("svg",{viewBox:"0 0 100 100",width:"80",height:"80",fill:"white",stroke:"black",strokeWidth:"5",children:[(0,Rb.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"white"}),(0,Rb.jsx)("polygon",{points:"40,30 70,50 40,70",fill:"black"})]})})]})})})})]});var M};const gC=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const vC=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","video")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading video posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Videos"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(CS,c(c({},e),{},{compact:!0}),e.id))})]})},yC=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"video"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Video Post",backgroundUrl:"https://cdn.skoda-storyboard.com/2018/08/influencer-bloger-event-skoda-classic-car.jpg"}),(0,Rb.jsx)(fC,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(gC,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(vC,{})})]})]})},xC={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://www.datapath.co.uk/wp-content/uploads/CCTV-control-room-2.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8}},bC=()=>(0,Rb.jsxs)("div",{style:c(c({},xC.container),{},{height:"130px",minHeight:void 0}),children:[(0,Rb.jsxs)("div",{style:xC.leftSide,children:[(0,Rb.jsx)("h1",{style:xC.title,children:(0,Rb.jsx)("span",{style:xC.greenHighlight,children:"ADMIN PANEL"})}),(0,Rb.jsx)("p",{style:xC.subtitle,children:"Moderation and database editing."})]}),(0,Rb.jsx)("div",{style:xC.rightSide,children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/request-icon.png"),alt:"Market Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})})]}),wC=[{key:"videoPosts",label:"Delete VideoCollection"},{key:"blogPosts",label:"Delete BlogCollection"},{key:"forumPosts",label:"Delete ForumCollection"},{key:"requestPosts",label:"Delete RequestCollection"},{key:"vehiclePosts",label:"Delete VehicleCollection"},{key:"marketPosts",label:"Delete MarketCollection"},{key:"eventPosts",label:"Delete EventCollection"},{key:"directoryPosts",label:"Delete DirectoryCollection"},{key:"Posts",label:"Delete PostsCollection"},{key:"Orders",label:"Delete OrdersCollection"}];function jC(){const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)(null),[i,a]=(0,t.useState)(null);async function o(e){n(e),r(null),a(null);try{const s=Xp(Cb,e),r=await cf(s);if(r.empty)return a("".concat(e," is already empty!")),void n(null);const i=(rm(t=ca(t=Cb,sm)),new vf(t,e=>ff(t,e)));r.docs.forEach(t=>{i.delete(Jp(Cb,e,t.id))}),await i.commit(),a("Deleted all documents in ".concat(e))}catch(s){console.error(s),r("Failed to delete ".concat(e,": ").concat(s.message))}finally{n(null)}var t}return(0,Rb.jsxs)("div",{style:{padding:20,backgroundColor:"#222",color:"white"},children:[(0,Rb.jsx)("h2",{children:"Delete Firestore Collections"}),wC.map(t=>{let{key:n,label:s}=t;return(0,Rb.jsx)("button",{onClick:()=>o(n),disabled:e===n,style:{backgroundColor:"red",color:"white",padding:"10px 20px",margin:"10px",border:"none",cursor:"pointer",opacity:e===n?.6:1},children:e===n?"Deleting ".concat(s,"..."):s},n)}),s&&(0,Rb.jsxs)("p",{style:{color:"orange",marginTop:20},children:[(0,Rb.jsx)("strong",{children:"Error:"})," ",s]}),i&&(0,Rb.jsxs)("p",{style:{color:"lightgreen",marginTop:20},children:[(0,Rb.jsx)("strong",{children:"Success:"})," ",i]})]})}const kC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Users"],t={};for(const n of e){const e=Xp(Cb,n),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const NC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","video")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const SC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","blog")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const CC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","vehicle")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const EC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","request")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const _C=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","market")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const TC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","event")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const IC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","directory")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const AC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","loads")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const PC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","trucks")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const RC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Xp(Cb,n),s=(await cf(e)).docs.map(e=>c({id:e.id},e.data())).filter(e=>Array.isArray(e.report)&&e.report.length>0);t[n]=s}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Reported Posts"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const DC=function(){const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null);return(0,t.useEffect)(()=>{!async function(){try{const e=Xp(Cb,"Orders"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error fetching orders:",e),a(e.message)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Orders..."}):i?(0,Rb.jsxs)("p",{style:{color:"red"},children:["Error: ",i]}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Orders"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const OC=function(){const[e,n]=(0,t.useState)({}),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{!async function(){try{const e=await async function(){const e=["Posts"],t={};for(const n of e){const e=Bm(Xp(Cb,n),Hm("type","==","offer")),s=await cf(e);t[n]=s.docs.map(e=>c({id:e.id},e.data()))}return t}();n(e)}catch(e){console.error("Error fetching Firestore data:",e)}finally{r(!1)}}()},[]),s?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading Firestore data..."}):(0,Rb.jsxs)("div",{style:{padding:20,color:"white",background:"#222"},children:[(0,Rb.jsx)("h1",{children:"Firestore Database Contents"}),(0,Rb.jsx)("pre",{style:{background:"#111",padding:10,borderRadius:5,maxHeight:"80vh",overflowY:"scroll"},children:JSON.stringify(e,null,2)})]})};const LC=function(){const[e,n]=(0,t.useState)("Users");return(0,Rb.jsxs)("div",{style:{padding:20,background:"#111",color:"white"},children:[(0,Rb.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:["Users","Videos","Blogs","Vehicles","Requests","Market","Events","Directory","Loads","Trucks","Reports","Orders","Offers"].map(t=>(0,Rb.jsx)("button",{onClick:()=>n(t),style:{padding:"10px 15px",borderRadius:"8px",border:"none",cursor:"pointer",background:e===t?"#444":"#222",color:"white",fontWeight:e===t?"bold":"normal"},children:t},t))}),(0,Rb.jsx)("div",{children:(()=>{switch(e){case"Users":return(0,Rb.jsx)(kC,{});case"Videos":return(0,Rb.jsx)(NC,{});case"Blogs":return(0,Rb.jsx)(SC,{});case"Vehicles":return(0,Rb.jsx)(CC,{});case"Requests":return(0,Rb.jsx)(EC,{});case"Market":return(0,Rb.jsx)(_C,{});case"Events":return(0,Rb.jsx)(TC,{});case"Directory":return(0,Rb.jsx)(IC,{});case"Loads":return(0,Rb.jsx)(AC,{});case"Trucks":return(0,Rb.jsx)(PC,{});case"Reports":return(0,Rb.jsx)(RC,{});case"Orders":return(0,Rb.jsx)(DC,{});case"Offers":return(0,Rb.jsx)(OC,{});default:return null}})()})]})};function MC(){const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null);return(0,Rb.jsxs)("div",{className:"delete-post-container",children:[(0,Rb.jsx)("h2",{children:"Delete Post by ID"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Enter Post ID",value:e,onChange:e=>n(e.target.value),className:"delete-post-input"}),(0,Rb.jsx)("button",{onClick:async()=>{if(e.trim()){r(!0),a(null),l(null);try{const t=Jp(Cb,"Posts",e);if(!(await of(t)).exists())return void a("No post found with that ID.");await hf(t),l("Post ".concat(e," deleted successfully."))}catch(t){console.error(t),a("Failed to delete post.")}finally{r(!1)}}else a("Please enter a Post ID.")},disabled:s,className:"delete-post-button",children:s?"Deleting...":"Delete Post"}),i&&(0,Rb.jsx)("p",{className:"delete-post-error",children:i}),o&&(0,Rb.jsx)("p",{className:"delete-post-success",children:o})]})}const UC=()=>(0,Rb.jsxs)("div",{className:"content-page",children:[(0,Rb.jsx)(bC,{}),(0,Rb.jsx)(LC,{}),(0,Rb.jsx)(jC,{}),(0,Rb.jsx)(MC,{})]}),FC={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://blog.shift4shop.com/hubfs/How%20to%20Manage%20an%20eCommerce%20Blog.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"2px 2px 6px #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},nav:{marginTop:"40px"},navList:{listStyle:"none",padding:0,display:"flex",gap:"30px",fontWeight:"700",fontSize:"20px"},navItem:{color:"#aaa",cursor:"pointer"},activeNavItem:{color:"#00FF00",fontWeight:"900",borderBottom:"2px solid #00FF00",paddingBottom:"4px"}},VC=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{style:c(c({},FC.container),{},{height:"260px"}),children:[(0,Rb.jsxs)("div",{style:FC.leftSide,children:[(0,Rb.jsx)("h1",{style:FC.title,children:(0,Rb.jsx)("span",{style:FC.greenHighlight,children:"BLOG POSTS"})}),(0,Rb.jsx)("p",{style:FC.subtitle,children:"PROMOTE AND SHARE YOUR AUTOMOTIVE BLOGS"})]}),(0,Rb.jsx)("div",{style:FC.rightSide,children:(0,Rb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Rb.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})})]})};const zC=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Blogs"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(ES,c(c({},e),{},{compact:!0}),e.id||t))})]})},BC=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)({location:!0,date:!0,sort:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","blog")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,r,s]);const v=e=>{g(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>v("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:f.location?"\u2212":"+"})]}),f.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>v("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:f.date?"\u2212":"+"})]}),f.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>v("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:f.sort?"\u2212":"+"})]}),f.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})},qC=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(VC,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(BC,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(zC,{posts:e})]})]})},HC=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"vehicle-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"VEHICLE POSTS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"POST AND SHARE THE VEHICLE YOU ARE TRYING TO SELL"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#39FF14",width:"70px",height:"70px",style:{filter:"drop-shadow(0 0 3px #39FF14)"},children:(0,Rb.jsx)("path",{d:"M20 5h-3.586l-1.707-1.707A.996.996 0 0014 3H10c-.265 0-.52.105-.707.293L7.586 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2zM12 17a5 5 0 110-10 5 5 0 010 10zM12 9a3 3 0 100 6 3 3 0 000-6z"})})})]})};const WC=function(e){let{posts:t}=e;const n=t.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Vehicles"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:0===n.length?(0,Rb.jsx)("p",{className:"no-promoted",children:"No promoted posts found."}):n.map((e,t)=>(0,Rb.jsx)(_S,c(c({},e),{},{compact:!0}),e.id||t))})]})},KC=e=>{let{searchQuery:n="",onFilteredPosts:s}=e;const[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Show All"),[p,m]=(0,t.useState)("Show All"),[f,g]=(0,t.useState)("Show All"),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[w,j]=(0,t.useState)([]),[k,N]=(0,t.useState)([]),[S,C]=(0,t.useState)([]),[E,_]=(0,t.useState)([]),[T,I]=(0,t.useState)(""),[A,P]=(0,t.useState)(""),R=e=>{if("string"!==typeof e)return null;const t=Number(e.replace(/[^0-9.]/g,""));return isNaN(t)?null:t},[D,O]=(0,t.useState)({location:!0,date:!0,sort:!0,sellerType:!0,year:!0,make:!0,model:!0,price:!0});(0,t.useEffect)(()=>{(async()=>{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","vehicle")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));i(t);const n=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));o(n);const s=Array.from(new Set(t.map(e=>e.make).filter(e=>"string"===typeof e&&""!==e.trim())));j(s);const r=Array.from(new Set(t.map(e=>e.model).filter(e=>"string"===typeof e&&""!==e.trim())));C(r)})()},[]),(0,t.useEffect)(()=>{let e=[...r];if(n.trim()){const t=n.toLowerCase();e=e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}if(l.length>0&&(e=e.filter(e=>l.includes(e.location))),"Show All"!==f&&(e=e.filter(e=>e.sellerType===f)),""!==v&&(e=e.filter(e=>"number"===typeof e.year&&e.year>=Number(v))),""!==x&&(e=e.filter(e=>"number"===typeof e.year&&e.year<=Number(x))),k.length>0&&(e=e.filter(e=>k.includes(e.make))),E.length>0&&(e=e.filter(e=>E.includes(e.model))),""!==T&&(e=e.filter(e=>{const t=R(e.price);return null!==t&&t>=Number(T)})),""!==A&&(e=e.filter(e=>{const t=R(e.price);return null!==t&&t<=Number(A)})),"Show All"!==d){const t=new Date;e=e.filter(e=>{var n;const s=new Date(1e3*(null===(n=e.createdAt)||void 0===n?void 0:n.seconds));if("Today"===d)return s.toDateString()===t.toDateString();if("This Week"===d)return t-s<=6048e5;if("This Month"===d)return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear();if("Last Three Months"===d){const e=new Date;return e.setMonth(t.getMonth()-3),s>=e&&s<=t}return!0})}"Newest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)}),"Oldest"===p&&e.sort((e,t)=>{var n,s;return(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)-(null===(s=t.createdAt)||void 0===s?void 0:s.seconds)}),"Most Liked"===p&&e.sort((e,t)=>{var n,s;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(s=e.likes)||void 0===s?void 0:s.length)||0)}),s(e)},[n,l,d,p,T,A,v,x,k,E,r,s,f]);const L=e=>{O(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,Rb.jsxs)("div",{className:"filterpanel",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("location"),children:["Post Locations ",(0,Rb.jsx)("span",{children:D.location?"\u2212":"+"})]}),D.location&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===l.length,onChange:()=>u([])}),"Show All"]}),a.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("date"),children:["Date Posted ",(0,Rb.jsx)("span",{children:D.date?"\u2212":"+"})]}),D.date&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Today","This Week","This Month","Last Three Months"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:d===e,onChange:()=>h(e)}),e]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("sellerType"),children:["Seller Type ",(0,Rb.jsx)("span",{children:D.sellerType?"\u2212":"+"})]}),D.sellerType&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:"Show All"===f,onChange:()=>g("Show All")}),"Show All"]}),(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:"owner"===f,onChange:()=>g("owner")}),"Owner"]}),(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:"dealer"===f,onChange:()=>g("dealer")}),"Dealer"]})]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("year"),children:["Vehicle Year ",(0,Rb.jsx)("span",{children:D.year?"\u2212":"+"})]}),D.year&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Min"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:v,onChange:e=>y(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-separator",children:"\u2013"}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Max"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:x,onChange:e=>b(e.target.value)})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("make"),children:["Make ",(0,Rb.jsx)("span",{children:D.make?"\u2212":"+"})]}),D.make&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===k.length,onChange:()=>N([])}),"Show All"]}),w.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:k.includes(e),onChange:()=>N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("model"),children:["Model ",(0,Rb.jsx)("span",{children:D.model?"\u2212":"+"})]}),D.model&&(0,Rb.jsxs)("div",{className:"filterpanel-options",children:[(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:0===E.length,onChange:()=>_([])}),"Show All"]}),S.map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:E.includes(e),onChange:()=>_(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}),e]},e))]})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("price"),children:["Price ",(0,Rb.jsx)("span",{children:D.price?"\u2212":"+"})]}),D.price&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:(0,Rb.jsxs)("div",{className:"filterpanel-price-inline",children:[(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Min ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"0",value:T,onChange:e=>I(e.target.value)}),(0,Rb.jsx)("span",{className:"filterpanel-price-separator",children:"\u2013"}),(0,Rb.jsx)("span",{className:"filterpanel-price-label",children:"Max ($)"}),(0,Rb.jsx)("input",{type:"number",className:"filterpanel-input",placeholder:"Any",value:A,onChange:e=>P(e.target.value)})]})})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>L("sort"),children:["Sort By ",(0,Rb.jsx)("span",{children:D.sort?"\u2212":"+"})]}),D.sort&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All","Newest","Oldest","Most Liked"].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",checked:p===e,onChange:()=>m(e)}),e]},e))})]})]})},GC=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)("");return(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(HC,{}),(0,Rb.jsx)(MS,{searchQuery:s,setSearchQuery:r}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(KC,{searchQuery:s,onFilteredPosts:n}),(0,Rb.jsx)(LS,{posts:e}),(0,Rb.jsx)(WC,{posts:e})]})]})},QC={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://completebusinessgroup.com/wp-content/uploads/2017/08/orders-post.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden",minHeight:"260px"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left"},greenHighlight:{color:"#00FF00",textShadow:"2px 2px 6px #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px rgba(0,0,0,0.6)"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8}},YC=()=>(0,Rb.jsxs)("div",{style:QC.container,children:[(0,Rb.jsxs)("div",{style:QC.leftSide,children:[(0,Rb.jsx)("h1",{style:QC.title,children:(0,Rb.jsx)("span",{style:QC.greenHighlight,children:"ORDERS"})}),(0,Rb.jsx)("p",{style:QC.subtitle,children:"View and track your orders here."})]}),(0,Rb.jsx)("div",{style:QC.rightSide,children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/request-icon.png"),alt:"OrdersPage Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})})]});function $C(e){let{orderId:n}=e;const[s,r]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,s,i,a,o;const l=Jp(Cb,"Orders",n),c=await of(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",m=!0===(null===u||void 0===u||null===(s=u.buyerInfo)||void 0===s?void 0:s.buyerDispute),f=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";m||f?y="dispute":!m&&!f&&g&&v&&(y="completed"),r({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("div",{className:"market-card-title",children:s.title}),(0,Rb.jsxs)("div",{className:"market-card-bottom",children:[(0,Rb.jsx)("span",{className:"market-card-type",children:s.type}),(0,Rb.jsx)("span",{className:"market-card-date",children:s.date}),(0,Rb.jsx)("span",{className:"market-card-status status-".concat(s.status.replace(" ","-")),children:s.status})]})]})}function XC(e){let{orderId:n}=e;const[s,r]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,s,i,a,o;const l=Jp(Cb,"Orders",n),c=await of(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",m=!0===(null===u||void 0===u||null===(s=u.buyerInfo)||void 0===s?void 0:s.buyerDispute),f=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";m||f?y="dispute":!m&&!f&&g&&v&&(y="completed"),r({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("div",{className:"event-card-title",children:s.title}),(0,Rb.jsxs)("div",{className:"event-card-bottom",children:[(0,Rb.jsx)("span",{className:"event-card-type",children:s.type}),(0,Rb.jsx)("span",{className:"event-card-date",children:s.date}),(0,Rb.jsx)("span",{className:"event-card-status status-".concat(s.status.replace(" ","-")),children:s.status})]})]})}function JC(e){let{orderId:n}=e;const[s,r]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,s,i,a,o;const l=Jp(Cb,"Orders",n),c=await of(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",m=!0===(null===u||void 0===u||null===(s=u.buyerInfo)||void 0===s?void 0:s.buyerDispute),f=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";m||f?y="dispute":!m&&!f&&g&&v&&(y="completed"),r({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("div",{className:"directory-card-title",children:s.title}),(0,Rb.jsxs)("div",{className:"directory-card-bottom",children:[(0,Rb.jsx)("span",{className:"directory-card-type",children:s.type}),(0,Rb.jsx)("span",{className:"directory-card-date",children:s.date}),(0,Rb.jsx)("span",{className:"directory-card-status status-".concat(s.status.replace(" ","-")),children:s.status})]})]})}function ZC(e){let{selectedOrder:n,onCardClick:s}=e;const{currentUser:r}=pC(),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!r)return;(async()=>{try{const e=Bm(Xp(Cb,"Orders"),Hm("buyerInfo.buyerId","==",r.uid),Hm("paymentInfo.paymentSuccessful","==",!0)),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));t.sort((e,t)=>t.orderCreated.seconds-e.orderCreated.seconds),a(t)}catch(e){console.error("Error fetching user orders:",e)}finally{l(!1)}})()},[r]);return r?(0,Rb.jsxs)("div",{className:"osp-panel",children:[(0,Rb.jsx)("h2",{className:"osp-title",children:"MY ORDERS"}),(0,Rb.jsx)("div",{className:"osp-list",children:o?(0,Rb.jsx)("div",{children:"Loading orders..."}):i.length>0?i.map(e=>(e=>{let t;switch(e.type){case"market":t=$C;break;case"offer":t=XC;break;case"directory":t=JC;break;default:return null}return(0,Rb.jsx)("div",{className:"osp-card ".concat((null===n||void 0===n?void 0:n.id)===e.id?"selected-card":""),onClick:()=>s(e),children:(0,Rb.jsx)(t,{orderId:e.id})},e.id)})(e)):(0,Rb.jsx)("div",{children:"No orders found."})})]}):(0,Rb.jsx)("div",{children:"Please log in to see your orders."})}function eE(e){var n,s,r,i,a,o,l,u,d,h,p,m,f,g,v,y,x;let{orderId:b}=e;const[w,j]=(0,t.useState)(null),[k,N]=(0,t.useState)("N/A");if((0,t.useEffect)(()=>{(async()=>{try{if(!b)return;const t=Jp(Cb,"Orders",b),n=await of(t);if(n.exists()){var e;const t=n.data();if(j(c({id:n.id},t)),null!==(e=t.sellerInfo)&&void 0!==e&&e.sellerId){const e=Jp(Cb,"Users",t.sellerInfo.sellerId),n=await of(e);n.exists()&&N(n.data().username||"N/A")}}}catch(t){console.error("Error fetching directory order:",t)}})()},[b]),!w)return(0,Rb.jsx)("div",{className:"od-order-details-panel",children:"Loading order..."});const S=null!==(n=w.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*w.orderCreated.seconds).toLocaleDateString("en-US"):"N/A",C=w.type||"N/A",E=w.id||"N/A",_=w.deliveryInfo?"".concat(w.deliveryInfo.deliveryStreetAddress||"",", ").concat(w.deliveryInfo.deliveryCity||""," ").concat(w.deliveryInfo.deliveryState||""," ").concat(w.deliveryInfo.deliveryZipCode||"").trim():"N/A",T=(null===(s=w.postData)||void 0===s||null===(r=s.images)||void 0===r?void 0:r[0])||"",I=(null===(i=w.postData)||void 0===i?void 0:i.postId)||"N/A",A=(null===(a=w.postData)||void 0===a?void 0:a.title)||"N/A",P=(null===(o=w.postData)||void 0===o?void 0:o.description)||"N/A",R=(null===(l=w.postData)||void 0===l||null===(u=l.price)||void 0===u?void 0:u.replace(/[^0-9.]/g,""))||"0",D=parseFloat(R)||0,O=(.15*D).toFixed(2),L=(D+parseFloat(O)).toFixed(2),M=(null===(d=w.paymentInfo)||void 0===d?void 0:d.paymentmethod)||"N/A",U=(null===(h=w.paymentInfo)||void 0===h?void 0:h.lastfour)||"N/A";let F=[{label:"Order Started",active:!0},{label:"Marked Completed by Seller",active:(null===(p=w.sellerInfo)||void 0===p?void 0:p.sellerMarkedCompleted)||!1},{label:"Completed",active:(null===(m=w.sellerInfo)||void 0===m?void 0:m.sellerMarkedCompleted)||!1}];return(null!==(f=w.buyerInfo)&&void 0!==f&&f.buyerDispute||null!==(g=w.sellerInfo)&&void 0!==g&&g.sellerDispute)&&(F=[{label:"Order Started",active:!0},{label:"Dispute",active:!0}]),(0,Rb.jsxs)("div",{className:"od-order-details-panel",children:[(0,Rb.jsx)("h2",{className:"od-panel-title",children:"ORDER INFORMATION"}),(0,Rb.jsxs)("section",{className:"od-section",children:[(0,Rb.jsx)("h3",{children:"Order Details"}),(0,Rb.jsxs)("div",{className:"od-order-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Date"}),(0,Rb.jsx)("p",{children:S})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Type"}),(0,Rb.jsx)("p",{children:C})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Order ID"}),(0,Rb.jsx)("p",{children:E})]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Service Address"}),(0,Rb.jsx)("p",{children:_})]})]}),(0,Rb.jsxs)("section",{className:"od-section",children:[(0,Rb.jsx)("h3",{children:"Ordered Items"}),(0,Rb.jsxs)("div",{className:"od-item-card",children:[T&&(0,Rb.jsx)("img",{src:T,alt:"Product"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Title"}),(0,Rb.jsx)("p",{children:A})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Description"}),(0,Rb.jsx)("p",{children:P})]}),(0,Rb.jsx)("button",{className:"od-btn-view",onClick:()=>window.location.href="/directorypost/".concat(I),children:"View Post"})]})]})]}),(0,Rb.jsxs)("section",{className:"od-section",children:[(0,Rb.jsx)("h3",{children:"Payment Information"}),(0,Rb.jsxs)("div",{className:"od-payment-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Price"}),(0,Rb.jsxs)("p",{children:["$",D.toFixed(2)]}),(0,Rb.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Rb.jsxs)("p",{children:["$",O]}),(0,Rb.jsx)("strong",{children:"Total"}),(0,Rb.jsxs)("p",{children:["$",L]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Payment Method"}),(0,Rb.jsx)("p",{children:M}),(0,Rb.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Rb.jsx)("p",{children:U})]})]})]}),(0,Rb.jsxs)("section",{className:"od-section",children:[(0,Rb.jsx)("h3",{children:"Seller Information"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Seller"}),(0,Rb.jsx)("p",{children:k})]}),(0,Rb.jsx)("button",{className:"od-btn-message",children:"Message User"})]}),(0,Rb.jsxs)("section",{className:"od-section",children:[(0,Rb.jsx)("h3",{children:"Status"}),(0,Rb.jsx)("div",{className:"od-timeline-wrapper",children:F.map((e,n)=>(0,Rb.jsxs)(t.Fragment,{children:[(0,Rb.jsxs)("div",{className:"od-timeline-step",children:[(0,Rb.jsx)("div",{className:"od-circle ".concat(e.active?"active":""),children:e.active&&(0,Rb.jsx)(BN,{})}),(0,Rb.jsx)("p",{className:"od-timeline-label ".concat(e.active?"active-label":""),children:e.label})]}),n<F.length-1&&(0,Rb.jsx)("div",{className:"od-arrow",children:"\u2192"})]},n))}),(0,Rb.jsxs)("div",{className:"od-status-buttons",children:[!(null!==(v=w.sellerInfo)&&void 0!==v&&v.sellerMarkedCompleted)&&!(null!==(y=w.buyerInfo)&&void 0!==y&&y.buyerDispute)&&!(null!==(x=w.sellerInfo)&&void 0!==x&&x.sellerDispute)&&(0,Rb.jsx)("button",{className:"od-btn-complete",children:"Mark as Completed"}),(0,Rb.jsx)("button",{className:"od-btn-dispute",children:"Dispute"})]})]})]})}function tE(e){var n,s,r,i,a,o,l,u,d,h,p,m,f,g,v,y,x;let{orderId:b}=e;const[w,j]=(0,t.useState)(null),[k,N]=(0,t.useState)("N/A");if((0,t.useEffect)(()=>{b&&(async()=>{try{const n=Jp(Cb,"Orders",b),s=await of(n);if(s.exists()){var e;const n=s.data();if(null!==(e=n.sellerInfo)&&void 0!==e&&e.sellerId)try{const e=Jp(Cb,"Users",n.sellerInfo.sellerId),t=await of(e);t.exists()&&N(t.data().username||"N/A")}catch(t){console.error("Error fetching seller:",t),N("N/A")}j(c({id:s.id},n))}else j(null)}catch(n){console.error("Error fetching order:",n)}})()},[b]),!w)return(0,Rb.jsx)("div",{className:"oe-event-details-panel",children:"Loading order..."});const S=null!==(n=w.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*w.orderCreated.seconds).toLocaleDateString("en-US"):"N/A",C=w.type||"N/A",E=w.id||"N/A",_=(null===(s=w.postData)||void 0===s||null===(r=s.images)||void 0===r?void 0:r[0])||"",T=(null===(i=w.postData)||void 0===i?void 0:i.postId)||"N/A",I=(null===(a=w.postData)||void 0===a?void 0:a.title)||"N/A",A=(null===(o=w.postData)||void 0===o?void 0:o.description)||"N/A",P=(null===(l=w.postData)||void 0===l||null===(u=l.price)||void 0===u?void 0:u.replace(/[^0-9.]/g,""))||"0",R=parseFloat(P)||0,D=(.15*R).toFixed(2),O=(R+parseFloat(D)).toFixed(2),L=(null===(d=w.paymentInfo)||void 0===d?void 0:d.paymentmethod)||"N/A",M=(null===(h=w.paymentInfo)||void 0===h?void 0:h.lastfour)||"N/A";let U=[{label:"Order Started",active:!0},{label:"Marked Completed by Seller",active:(null===(p=w.sellerInfo)||void 0===p?void 0:p.sellerMarkedCompleted)||!1},{label:"Completed",active:(null===(m=w.sellerInfo)||void 0===m?void 0:m.sellerMarkedCompleted)||!1}];return(null!==(f=w.buyerInfo)&&void 0!==f&&f.buyerDispute||null!==(g=w.sellerInfo)&&void 0!==g&&g.sellerDispute)&&(U=[{label:"Order Started",active:!0},{label:"Dispute",active:!0}]),(0,Rb.jsxs)("div",{className:"oe-event-details-panel",children:[(0,Rb.jsx)("h2",{className:"oe-panel-title",children:"ORDER INFORMATION"}),(0,Rb.jsxs)("section",{className:"oe-section",children:[(0,Rb.jsx)("h3",{children:"Order Details"}),(0,Rb.jsxs)("div",{className:"oe-order-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Date"}),(0,Rb.jsx)("p",{children:S})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Type"}),(0,Rb.jsx)("p",{children:C})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Order ID"}),(0,Rb.jsx)("p",{children:E})]})]})]}),(0,Rb.jsxs)("section",{className:"oe-section",children:[(0,Rb.jsx)("h3",{children:"Ordered Items"}),(0,Rb.jsxs)("div",{className:"oe-item-card",children:[_&&(0,Rb.jsx)("img",{src:_,alt:"Product"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Title"}),(0,Rb.jsx)("p",{children:I})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Description"}),(0,Rb.jsx)("p",{children:A})]}),(0,Rb.jsx)("button",{className:"oe-btn-view",onClick:()=>window.location.href="/eventpost/".concat(T),children:"View Post"})]})]})]}),(0,Rb.jsxs)("section",{className:"oe-section",children:[(0,Rb.jsx)("h3",{children:"Payment Information"}),(0,Rb.jsxs)("div",{className:"oe-payment-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Price"}),(0,Rb.jsxs)("p",{children:["$",R.toFixed(2)]}),(0,Rb.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Rb.jsxs)("p",{children:["$",D]}),(0,Rb.jsx)("strong",{children:"Total"}),(0,Rb.jsxs)("p",{children:["$",O]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Payment Method"}),(0,Rb.jsx)("p",{children:L}),(0,Rb.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Rb.jsx)("p",{children:M})]})]})]}),(0,Rb.jsxs)("section",{className:"oe-section",children:[(0,Rb.jsx)("h3",{children:"Seller Information"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Seller"}),(0,Rb.jsx)("p",{children:k})]}),(0,Rb.jsx)("button",{className:"oe-btn-message",children:"Message User"})]}),(0,Rb.jsxs)("section",{className:"oe-section",children:[(0,Rb.jsx)("h3",{children:"Status"}),(0,Rb.jsx)("div",{className:"oe-timeline-wrapper",children:U.map((e,n)=>(0,Rb.jsxs)(t.Fragment,{children:[(0,Rb.jsxs)("div",{className:"oe-timeline-step",children:[(0,Rb.jsx)("div",{className:"oe-circle ".concat(e.active?"active":""),children:e.active&&(0,Rb.jsx)(BN,{})}),(0,Rb.jsx)("p",{className:"oe-timeline-label ".concat(e.active?"active-label":""),children:e.label})]}),n<U.length-1&&(0,Rb.jsx)("div",{className:"oe-arrow",children:"\u2192"})]},n))}),(0,Rb.jsxs)("div",{className:"oe-status-buttons",children:[!(null!==(v=w.sellerInfo)&&void 0!==v&&v.sellerMarkedCompleted)&&!(null!==(y=w.buyerInfo)&&void 0!==y&&y.buyerDispute)&&!(null!==(x=w.sellerInfo)&&void 0!==x&&x.sellerDispute)&&(0,Rb.jsx)("button",{className:"oe-btn-complete",children:"Mark as Completed"}),(0,Rb.jsx)("button",{className:"oe-btn-dispute",children:"Dispute"})]})]})]})}function nE(e){var n,s,r,i,a,o,l,u,d,h,p,m,f,g,v;let{orderId:y}=e;const[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)("N/A");if((0,t.useEffect)(()=>{(async()=>{try{if(!y)return;const t=Jp(Cb,"Orders",y),n=await of(t);if(n.exists()){var e;const t=n.data();if(b(c({id:n.id},t)),null!==t&&void 0!==t&&null!==(e=t.sellerInfo)&&void 0!==e&&e.sellerId){const e=Jp(Cb,"Users",t.sellerInfo.sellerId),n=await of(e);n.exists()&&j(n.data().username||"N/A")}}}catch(t){console.error("Error fetching order:",t)}})()},[y]),!x)return(0,Rb.jsx)("p",{children:"Loading order..."});const k=null!==(n=x.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*x.orderCreated.seconds).toLocaleDateString():"N/A",N=x.type||"N/A",S=x.id||"N/A",C=x.deliveryInfo?"".concat(x.deliveryInfo.deliveryStreetAddress||"",", ").concat(x.deliveryInfo.deliveryCity||""," ").concat(x.deliveryInfo.deliveryState||""," ").concat(x.deliveryInfo.deliveryZipCode||""):"N/A",E=(null===(s=x.marketSpecific)||void 0===s?void 0:s.Carrier)||"N/A",_=(null===(r=x.marketSpecific)||void 0===r?void 0:r.trackingNumber)||"N/A",T=(null===(i=x.postData)||void 0===i||null===(a=i.images)||void 0===a?void 0:a[0])||"",I=(null===(o=x.postData)||void 0===o?void 0:o.postId)||"N/A",A=(null===(l=x.postData)||void 0===l?void 0:l.title)||"N/A",P=(null===(u=x.postData)||void 0===u?void 0:u.description)||"N/A",R=(null===(d=x.postData)||void 0===d||null===(h=d.price)||void 0===h?void 0:h.replace(/[^0-9.]/g,""))||"0",D=parseFloat(R)||0,O=(.15*D).toFixed(2),L=(D+parseFloat(O)).toFixed(2),M=(null===(p=x.paymentInfo)||void 0===p?void 0:p.paymentmethod)||"N/A",U=(null===(m=x.paymentInfo)||void 0===m?void 0:m.lastfour)||"N/A";let F=[{label:"Order Started",active:!0},{label:"Marked Completed by Seller",active:(null===(f=x.sellerInfo)||void 0===f?void 0:f.sellerMarkedCompleted)||!1},{label:"Completed",active:!1}];return(null!==(g=x.buyerInfo)&&void 0!==g&&g.buyerDispute||null!==(v=x.sellerInfo)&&void 0!==v&&v.sellerDispute)&&(F=[{label:"Order Started",active:!0},{label:"Dispute",active:!0}]),(0,Rb.jsxs)("div",{className:"mv-custom-panel",children:[(0,Rb.jsx)("h2",{className:"mv-custom-title",children:"ORDER INFORMATION"}),(0,Rb.jsxs)("section",{className:"mv-custom-section",children:[(0,Rb.jsx)("h3",{children:"Order Details"}),(0,Rb.jsxs)("div",{className:"mv-custom-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Date"}),(0,Rb.jsx)("p",{children:k})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Type"}),(0,Rb.jsx)("p",{children:N})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Order ID"}),(0,Rb.jsx)("p",{children:S})]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Shipping Address"}),(0,Rb.jsx)("p",{children:C})]}),(0,Rb.jsxs)("div",{className:"mv-custom-tracking-display",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Carrier"}),(0,Rb.jsx)("p",{children:E})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Tracking Number"}),(0,Rb.jsx)("p",{children:_})]})]})]}),(0,Rb.jsxs)("section",{className:"mv-custom-section",children:[(0,Rb.jsx)("h3",{children:"Ordered Items"}),(0,Rb.jsxs)("div",{className:"mv-custom-item",children:[T&&(0,Rb.jsx)("img",{src:T,alt:"Product"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Title"}),(0,Rb.jsx)("p",{children:A})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Description"}),(0,Rb.jsx)("p",{children:P})]}),(0,Rb.jsx)("button",{className:"mv-custom-btn-view",onClick:()=>window.location.href="/marketpost/".concat(I),children:"View Post"})]})]})]}),(0,Rb.jsxs)("section",{className:"mv-custom-section",children:[(0,Rb.jsx)("h3",{children:"Payment Information"}),(0,Rb.jsxs)("div",{className:"mv-custom-payment",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Price"}),(0,Rb.jsxs)("p",{children:["$",D.toFixed(2)]}),(0,Rb.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Rb.jsxs)("p",{children:["$",O]}),(0,Rb.jsx)("strong",{children:"Total"}),(0,Rb.jsxs)("p",{children:["$",L]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Payment Method"}),(0,Rb.jsx)("p",{children:M}),(0,Rb.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Rb.jsx)("p",{children:U})]})]})]}),(0,Rb.jsxs)("section",{className:"mv-custom-section",children:[(0,Rb.jsx)("h3",{children:"Seller Information"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Seller"}),(0,Rb.jsx)("p",{children:w})]}),(0,Rb.jsx)("button",{className:"mv-custom-btn-message",children:"Message User"})]}),(0,Rb.jsxs)("section",{className:"mv-custom-section",children:[(0,Rb.jsx)("h3",{children:"Status"}),(0,Rb.jsx)("div",{className:"mv-custom-timeline-wrapper",children:F.map((e,n)=>(0,Rb.jsxs)(t.Fragment,{children:[(0,Rb.jsxs)("div",{className:"mv-custom-timeline-step",children:[(0,Rb.jsx)("div",{className:"mv-custom-circle ".concat(e.active?"active":""),children:e.active&&(0,Rb.jsx)(BN,{})}),(0,Rb.jsx)("p",{className:"mv-custom-timeline-label ".concat(e.active?"active-label":""),children:e.label})]}),n<F.length-1&&(0,Rb.jsx)("div",{className:"mv-custom-arrow",children:"\u2192"})]},n))}),(0,Rb.jsxs)("div",{className:"mv-custom-status-buttons",children:[(0,Rb.jsx)("button",{className:"mv-custom-btn-complete",children:"Mark as Completed"}),(0,Rb.jsx)("button",{className:"mv-custom-btn-dispute",children:"Dispute"})]})]})]})}function sE(){const[e,n]=(0,t.useState)(null);return(0,Rb.jsxs)("div",{className:"orders-body-container",children:[(0,Rb.jsx)(ZC,{selectedOrder:e,onCardClick:e=>n(e)}),(0,Rb.jsx)("div",{className:"orders-body-right",children:(()=>{if(!e)return(0,Rb.jsx)("div",{children:"Select an order to see details"});const{id:t,type:n}=e;switch(n){case"market":return(0,Rb.jsx)(nE,{orderId:t});case"offer":return(0,Rb.jsx)(tE,{orderId:t});case"directory":return(0,Rb.jsx)(eE,{orderId:t});default:return(0,Rb.jsx)("div",{children:"Unknown order type"})}})()})]})}const rE=()=>(0,Rb.jsxs)("div",{className:"content-page",children:[(0,Rb.jsx)(YC,{}),(0,Rb.jsx)(sE,{})]}),iE=e=>{let{setActiveChat:n}=e;const{currentUser:s}=pC(),[r,i]=(0,t.useState)([]),a=me();(0,t.useEffect)(()=>{if(!s)return;const e=mf(Bm(Xp(Cb,"chats"),Hm("participants","array-contains",s.uid)),async e=>{const t=await Promise.all(e.docs.map(async e=>{var t;const n=e.data(),r=e.id,a=n.userA===s.uid?n.userB:n.userA;let o={username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")};try{const e=await of(Jp(Cb,"Users",a));e.exists()&&(o=e.data())}catch(l){console.error("Error fetching user:",l)}try{mf(Xp(Cb,"chats",r,"messages"),e=>{const t=e.docs.filter(e=>{var t;return!(null!==(t=e.data().seenBy)&&void 0!==t&&t.includes(s.uid))});i(e=>e.map(e=>e.chatId===r?c(c({},e),{},{unreadCount:t.length}):e))})}catch(l){console.error("Error counting unread messages:",l)}return{chatId:r,otherUser:o,lastMessage:n.lastMessage||"",lastTimestamp:(null===(t=n.lastTimestamp)||void 0===t?void 0:t.toDate())||null,unreadCount:0}}));if(t.sort((e,t)=>e.lastTimestamp?t.lastTimestamp?t.lastTimestamp-e.lastTimestamp:-1:1),i(t),t.length>0&&!window.location.search.includes("chat=")){const e=t[0];a("/inbox?chat=".concat(e.chatId),{replace:!0}),n&&n(e.chatId)}});return()=>e()},[s,a,n]);return(0,Rb.jsxs)("div",{className:"lsp-panel",children:[(0,Rb.jsx)("input",{type:"text",placeholder:"Search username...",className:"lsp-search"}),(0,Rb.jsx)("ul",{className:"lsp-user-list",children:r.map(e=>{return(0,Rb.jsxs)("li",{className:"lsp-user-item",onClick:()=>{a("/inbox?chat=".concat(e.chatId)),n&&n(e.chatId)},children:[(0,Rb.jsxs)("div",{className:"lsp-user-left",children:[(0,Rb.jsxs)("div",{className:"lsp-pic-wrapper",children:[(0,Rb.jsx)("img",{src:e.otherUser.profilepic,alt:e.otherUser.username,className:"lsp-user-pic"}),(0,Rb.jsx)("span",{className:"lsp-online-dot"})]}),(0,Rb.jsxs)("div",{className:"lsp-user-info",children:[(0,Rb.jsx)("h4",{children:e.otherUser.username}),(0,Rb.jsx)("p",{children:e.lastMessage||"No messages yet..."})]})]}),(0,Rb.jsxs)("div",{className:"lsp-right",children:[(0,Rb.jsx)("span",{className:"lsp-timestamp",children:(t=e.lastTimestamp,t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"")}),e.unreadCount>0&&(0,Rb.jsx)("span",{className:"lsp-unread-count",children:e.unreadCount})]})]},e.chatId);var t})})]})},aE=()=>{const{currentUser:e}=pC(),n=de(),s=new URLSearchParams(n.search).get("chat"),[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),k=(0,t.useRef)(null),N=(0,t.useRef)(null),S=(0,t.useRef)(null),C=()=>{var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,t.useEffect)(()=>{C()},[r]),(0,t.useEffect)(()=>{if(!s||!e)return;const t=mf(Bm(Xp(Cb,"chats",s,"messages"),Gm("timestamp","asc")),t=>{const n=t.docs.map(e=>c({id:e.id},e.data()));i(n),t.docs.forEach(t=>{var n;null!==(n=t.data().seenBy)&&void 0!==n&&n.includes(e.uid)||df(Jp(Cb,"chats",s,"messages",t.id),{seenBy:bf(e.uid)}).catch(console.error)})});return()=>t()},[s,e]);const E=async()=>{if(a.trim()||d)try{const t=Xp(Cb,"chats",s,"messages");await pf(t,{senderId:e.uid,text:a.trim(),photos:d?[d]:[],timestamp:xf(),seenBy:[e.uid]});const n=Jp(Cb,"chats",s);await uf(n,{lastMessage:a.trim()||"\ud83d\udcf7 Image",lastTimestamp:xf()},{merge:!0}),o(""),u(null),h(""),m(""),g(0),y(""),b(!1)}catch(t){console.error("Error sending message:",t)}};return(0,Rb.jsxs)("div",{className:"inbox-center-panel",children:[(0,Rb.jsxs)("div",{className:"inbox-chat-messages",ref:k,onScroll:()=>{const e=k.current;if(!e)return;const t=e.scrollHeight-e.scrollTop-e.clientHeight>100;j(t)},children:[r.map(t=>{var n;return(0,Rb.jsxs)("div",{className:"inbox-message ".concat(t.senderId===e.uid?"inbox-sent":"inbox-received"),children:[t.text&&(0,Rb.jsx)("p",{children:t.text}),t.photos&&t.photos.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"inbox-message-image"},t)),(0,Rb.jsx)("span",{children:null===(n=t.timestamp)||void 0===n?void 0:n.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},t.id)}),(0,Rb.jsx)("div",{ref:N})]}),w&&(0,Rb.jsx)("button",{className:"scroll-to-bottom-btn",onClick:C,children:"Scroll to bottom"}),(p||d)&&(0,Rb.jsx)("div",{className:"image-preview-container",children:(0,Rb.jsxs)("div",{className:"image-preview",children:[(0,Rb.jsx)("img",{src:p||d,alt:"Preview"}),x&&(0,Rb.jsx)("div",{className:"upload-status ".concat(f>=100?"completed":""),children:(0,Rb.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif",alt:"Uploading"})}),(0,Rb.jsx)("span",{className:"remove-image",onClick:()=>{u(null),h(""),m(""),g(0),y(""),b(!1)},children:"\xd7"}),f>0&&f<100&&(0,Rb.jsx)("div",{className:"progress-bar-right",children:(0,Rb.jsx)("div",{className:"progress-fill",style:{width:"".concat(f,"%")}})})]})}),v&&(0,Rb.jsx)("div",{className:"upload-error",children:v}),(0,Rb.jsxs)("div",{className:"inbox-chat-input",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756579580/Upload-Icon_zdgmqi.png",alt:"Upload",className:"image-upload-icon",onClick:()=>{var e;null===(e=S.current)||void 0===e||e.click()}}),(0,Rb.jsx)("input",{type:"text",placeholder:"Type a message...",value:a,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&E()}}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){u(t),y(""),g(0),b(!0),m(URL.createObjectURL(t));try{const e=new FormData;e.append("file",t),e.append("upload_preset","vrumies_preset");const n=await ok.post("https://api.cloudinary.com/v1_1/".concat("dmjvngk3o","/image/upload"),e,{onUploadProgress:e=>{if(e.total){const t=e.loaded/e.total*100;g(t)}}});h(n.data.secure_url),g(100),b(!1)}catch(n){console.error("Upload failed:",n),y("Image failed to upload"),u(null),h(""),m(""),g(0),b(!1)}}},ref:S}),(0,Rb.jsx)("button",{onClick:E,children:"Send"})]})]})},oE=e=>{let{activeChat:n}=e;const{currentUser:s}=pC(),[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)([]);return(0,t.useEffect)(()=>{if(!n||!s)return;const e=(async()=>{try{const e=await of(Jp(Cb,"chats",n));if(!e.exists())return;const t=e.data(),r=t.userA===s.uid?t.userB:t.userA,a=await of(Jp(Cb,"Users",r));a.exists()?i(a.data()):i({username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")});const l=Xp(Cb,"chats",n,"messages"),c=mf(Bm(l,Gm("timestamp","asc")),e=>{const t=[];e.docs.forEach(e=>{const n=e.data();n.photos&&n.photos.length>0&&t.push(...n.photos)}),o(t)});return c}catch(e){console.error("Error fetching chat info:",e)}})();return()=>{e&&"function"===typeof e&&e()}},[n,s]),n?(0,Rb.jsxs)("div",{className:"rsp-panel",children:[r&&(0,Rb.jsxs)("div",{className:"rsp-profile-header",children:[(0,Rb.jsxs)("div",{className:"rsp-profile-pic-wrapper",children:[(0,Rb.jsx)("img",{src:r.profilepic,alt:r.username,className:"rsp-profile-pic"}),(0,Rb.jsx)("span",{className:"rsp-online-dot"})]}),(0,Rb.jsx)("h3",{className:"rsp-profile-name",children:r.username})]}),(0,Rb.jsx)("h4",{className:"rsp-media-title",children:"Chat Media"}),(0,Rb.jsx)("div",{className:"rsp-media-grid",children:a.length>0?a.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Media ".concat(t+1),className:"rsp-media-item"},t)):(0,Rb.jsx)("p",{style:{color:"#aaa"},children:"No media in this chat."})}),(0,Rb.jsx)("button",{className:"rsp-block-button",children:"Block"})]}):null},lE=()=>{const[e,n]=(0,t.useState)(null);return(0,Rb.jsx)("div",{className:"inbox-page",children:(0,Rb.jsxs)("div",{className:"inbox-layout",children:[(0,Rb.jsx)(iE,{setActiveChat:n}),(0,Rb.jsx)(aE,{},e),(0,Rb.jsx)(oE,{activeChat:e})]})})},cE=()=>(0,Rb.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Rb.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        /* Ensure padding is included in width calculations */\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: 100%; /* Prevents overflow */\n          margin-left: auto;\n          margin-right: auto;\n          padding: 1rem 2rem; /* Reduced horizontal padding */\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://miro.medium.com/v2/resize:fit:1400/1*6mJcjTUqaSlRQA4O58TWCg.jpeg');\n          background-size: cover;\n          background-position: center;\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), \n                      0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          min-height: 60px;\n          overflow: hidden;\n          box-sizing: border-box; /* Includes padding in width */\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap; /* Keeps text on a single line */\n          text-shadow: 2px 2px 6px #000; /* Fixed syntax */\n          margin: 0; /* Remove default h1 margin */\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Rb.jsx)("h1",{className:"poppins-font",children:"My Tokens"})]}),uE=()=>{const[e,n]=(0,t.useState)(0),[s,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{const e=Eb.currentUser;if(e){try{const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);if(r.empty)console.warn("User not found in Users collection.");else{var t;const e=r.docs[0].data();n(null!==(t=e.tokens)&&void 0!==t?t:0)}}catch(s){console.error("Error fetching tokens:",s)}r(!1)}else r(!1)})()},[]),(0,Rb.jsxs)("div",{className:"token-side-panel",children:[(0,Rb.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .token-side-panel {\n          background-color: #000;\n          padding: 2rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 300px;\n          min-width: 250px;\n          flex-shrink: 0;\n          border-right: 1px solid #1a202c;\n          box-sizing: border-box;\n          text-align: center;\n          color: #fff;\n        }\n\n        .token-side-panel .logo-icon {\n          width: 160px;\n          height: 160px;\n          margin-bottom: 1.5rem;\n        }\n\n        .token-side-panel .logo-icon img {\n          width: 100%;\n          height: 100%;\n          object-fit: contain;\n          display: block;\n        }\n\n        .token-side-panel h2 {\n          font-family: 'Poppins', sans-serif;\n          font-size: 1.5rem;\n          color: #fff;\n          margin-bottom: 0.5rem;\n        }\n\n        .token-side-panel p {\n          font-family: 'Poppins', sans-serif;\n          font-size: 1.2rem;\n          color: #00FF00;\n          font-weight: bold;\n          margin-bottom: 1.5rem;\n        }\n\n        .token-side-panel .conversion-rate {\n          font-size: 0.9rem;\n          color: #888;\n          margin-bottom: 2rem;\n        }\n      "}),(0,Rb.jsx)("div",{className:"logo-icon",children:(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon"})}),(0,Rb.jsx)("h2",{children:"Vrumies Bump Tokens"}),(0,Rb.jsx)("p",{children:"You have:"}),(0,Rb.jsx)("p",{children:s?"Loading...":"".concat(e," VBT")}),(0,Rb.jsx)("span",{className:"conversion-rate",children:"1 VBT = $0.25"})]})},dE=()=>{const[e,n]=(0,t.useState)(0),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),f=(.25*e).toFixed(2);return(0,Rb.jsxs)("div",{className:"token-body",children:[(0,Rb.jsxs)("div",{className:"order-section",children:[(0,Rb.jsx)("h3",{className:"order-header",children:"Basic Order"}),(0,Rb.jsxs)("div",{className:"quantity-selector",children:[(0,Rb.jsx)("label",{children:"Select Quantity"}),(0,Rb.jsxs)("div",{className:"quantity-controls",children:[(0,Rb.jsx)("button",{className:"quantity-button",onClick:()=>n(e>0?e-1:0),children:"-"}),(0,Rb.jsx)("span",{className:"quantity-display",children:e}),(0,Rb.jsx)("button",{className:"quantity-button",onClick:()=>n(e+1),children:"+"}),(0,Rb.jsx)("span",{className:"quantity-display",children:"VBT"})]})]}),(0,Rb.jsxs)("div",{className:"total-section",children:[(0,Rb.jsx)("span",{children:"Total"}),(0,Rb.jsxs)("span",{children:["$",f]})]})]}),(0,Rb.jsxs)("div",{className:"card-info-section",children:[(0,Rb.jsx)("h3",{className:"card-info-header",children:"Card Info"}),(0,Rb.jsxs)("div",{className:"form-row",children:[(0,Rb.jsxs)("div",{className:"form-group",children:[(0,Rb.jsx)("label",{children:"First Name"}),(0,Rb.jsx)("input",{type:"text",placeholder:"John",value:s,onChange:e=>r(e.target.value)})]}),(0,Rb.jsxs)("div",{className:"form-group",children:[(0,Rb.jsx)("label",{children:"Last Name"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Smith",value:i,onChange:e=>a(e.target.value)})]})]}),(0,Rb.jsxs)("div",{className:"form-group",children:[(0,Rb.jsx)("label",{children:"Card Number"}),(0,Rb.jsx)("input",{type:"text",placeholder:"4756 5648 8496 9018",value:o,onChange:e=>l(e.target.value)})]}),(0,Rb.jsxs)("div",{className:"form-row",children:[(0,Rb.jsxs)("div",{className:"form-group",children:[(0,Rb.jsx)("label",{children:"Expiration Date"}),(0,Rb.jsx)("input",{type:"text",placeholder:"07 / 22",value:c,onChange:e=>u(e.target.value)})]}),(0,Rb.jsxs)("div",{className:"form-group",children:[(0,Rb.jsx)("label",{children:"CVV"}),(0,Rb.jsx)("input",{type:"text",placeholder:"319",value:d,onChange:e=>h(e.target.value)})]}),(0,Rb.jsxs)("div",{className:"form-group",children:[(0,Rb.jsx)("label",{children:"Zip Code"}),(0,Rb.jsx)("input",{type:"text",placeholder:"78505",value:p,onChange:e=>m(e.target.value)})]})]})]}),(0,Rb.jsx)("div",{className:"bank-icon",children:"\ud83c\udfe6"}),(0,Rb.jsxs)("div",{className:"action-buttons",children:[(0,Rb.jsx)("button",{className:"back-button",children:"Back"}),(0,Rb.jsx)("button",{className:"pay-button",children:"Pay"})]})]})},hE=()=>(0,Rb.jsxs)("div",{className:"token-history-panel",children:[(0,Rb.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        .token-history-panel {\n          background-color: #000;\n          padding: 2rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 300px;\n          min-width: 250px;\n          flex-shrink: 0;\n          border-left: 1px solid #1a202c; \n          box-sizing: border-box;\n          color: #fff;\n          overflow-y: auto; \n        }\n\n        .token-history-panel h2 {\n          font-family: 'Poppins', sans-serif;\n          color: #fff;\n          font-size: 1.5rem;\n          margin-bottom: 2rem;\n          text-align: center;\n          font-weight: bold;\n        }\n\n        .token-history-panel .history-item {\n          display: flex;\n          align-items: center;\n          width: 100%;\n          padding: 1rem 0;\n          border-bottom: 1px solid #333; \n        }\n\n        .token-history-panel .history-item:last-child {\n          border-bottom: none; \n        }\n\n        .token-history-panel .item-icon {\n          width: 50px;\n          height: 50px;\n          flex-shrink: 0;\n          margin-right: 1rem;\n        }\n\n        .token-history-panel .item-icon img {\n          width: 100%;\n          height: 100%;\n          object-fit: contain;\n          display: block;\n        }\n\n        .token-history-panel .item-details {\n          flex-grow: 1;\n          display: flex;\n          flex-direction: column;\n          text-align: left;\n        }\n\n        .token-history-panel .item-details p {\n          font-family: 'Poppins', sans-serif;\n          margin: 0;\n          font-size: 0.95rem;\n          color: #fff;\n        }\n\n        .token-history-panel .item-details .item-date {\n          color: #888;\n          font-size: 0.8rem;\n        }\n\n        .token-history-panel .item-values {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          text-align: right;\n          font-family: 'Poppins', sans-serif;\n        }\n\n        .token-history-panel .item-values .item-tokens {\n          color: #00FF00;\n          font-weight: bold;\n          font-size: 0.95rem;\n        }\n\n        .token-history-panel .item-values .item-amount {\n          color: #fff;\n          font-size: 0.8rem;\n        }\n\n        @media (max-width: 768px) {\n          .token-history-panel {\n            width: 100%;\n            max-width: none;\n            border-left: none;\n            border-top: 1px solid #1a202c; \n          }\n        }\n      "}),(0,Rb.jsx)("h2",{children:"Token Purchase History"}),[{id:1,name:"Purchase #1",date:"03/22/2021",tokens:4,amount:"$1"},{id:2,name:"Purchase #2",date:"05/03/2021",tokens:20,amount:"$5"},{id:3,name:"Purchase #3",date:"08/20/2021",tokens:40,amount:"$10"},{id:4,name:"Purchase #4",date:"08/20/2021",tokens:40,amount:"$10"}].map(e=>(0,Rb.jsxs)("div",{className:"history-item",children:[(0,Rb.jsx)("div",{className:"item-icon",children:(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon"})}),(0,Rb.jsxs)("div",{className:"item-details",children:[(0,Rb.jsx)("p",{children:e.name}),(0,Rb.jsx)("p",{className:"item-date",children:e.date})]}),(0,Rb.jsxs)("div",{className:"item-values",children:[(0,Rb.jsxs)("span",{className:"item-tokens",children:[e.tokens," VBT"]}),(0,Rb.jsx)("span",{className:"item-amount",children:e.amount})]})]},e.id))]}),pE=()=>(0,Rb.jsxs)("div",{className:"content-page",children:[(0,Rb.jsx)(cE,{}),(0,Rb.jsxs)("div",{className:"main-content-area",children:[(0,Rb.jsx)(uE,{}),(0,Rb.jsx)(dE,{}),(0,Rb.jsx)(hE,{})]})]}),mE=()=>{const e=me();return(0,Rb.jsxs)("div",{className:"vrumies-signin-screen",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1754732908/VrumiesLogo_jxdvsw.png",alt:"Vrumies Logo",className:"vrumies-signin-logo"}),(0,Rb.jsxs)("div",{className:"vrumies-signin-center",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1754732913/Welcome_jngzua.png",alt:"Welcome",className:"vrumies-signin-welcome-image"}),(0,Rb.jsx)("button",{className:"vrumies-signin-google-button",onClick:async()=>{let t;try{t=await(async()=>{try{const e=(await ly(Eb,Tb)).user;return console.log("\u2705 Signed in as:",e.displayName,e.email),e}catch(e){throw console.error("\u274c Google Sign-In Error:",e),e}})(),e("/videos")}catch(n){return console.error("Google sign-in failed:",n),void alert("Google sign-in failed. Please try again.")}try{const e=Jp(Cb,"Users",t.uid);(await of(e)).exists()||(await uf(e,{userid:t.uid,username:t.displayName||"Anonymous",aboutme:"",email:t.email||"",tokens:0,profilepic:t.photoURL||"",photos:[],banned:!1,following:[],followers:[]}),console.log("Firestore user document created successfully"))}catch(s){console.error("Error creating Firestore user document:",s)}},"aria-label":"Sign in with Google",type:"button",children:(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1754732908/GoogleSignIn_gk6tbs.png",alt:"Google Sign-In",className:"vrumies-signin-google-image"})})]})]})},fE={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://www.milesweb.in/blog/wp-content/uploads/2015/06/ecommerce-stores-hosted-vs-licensed-shopping-cart-solutions-min-1.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8}},gE=()=>(0,Rb.jsxs)("div",{style:c(c({},fE.container),{},{height:"260px"}),children:[(0,Rb.jsxs)("div",{style:fE.leftSide,children:[(0,Rb.jsx)("h1",{style:fE.title,children:(0,Rb.jsx)("span",{style:fE.greenHighlight,children:"Shopping Cart"})}),(0,Rb.jsx)("p",{style:fE.subtitle,children:"View all items in your cart."})]}),(0,Rb.jsx)("div",{style:fE.rightSide,children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/request-icon.png"),alt:"ShoppingCart Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})})]});function vE(){const{currentUser:e}=pC(),[n,s]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!e)return;const t=mf(Xp(Cb,"Users",e.uid,"cart"),e=>{const t=e.docs.map(e=>c({id:e.id},e.data()));s(t)});return()=>t()},[e]);return(0,Rb.jsxs)("div",{className:"cart-body",children:[(0,Rb.jsx)("h3",{className:"cart-title",children:"CART ITEMS:"}),0===n.length?(0,Rb.jsx)("p",{className:"empty-cart",children:"Your cart is empty."}):n.map(t=>{const n=(s=t.price)&&Number(s.toString().replace("$",""))||0;var s;return(0,Rb.jsxs)("div",{className:"cart-item",children:[(0,Rb.jsx)("div",{className:"cart-remove",onClick:()=>(async t=>{if(e)try{await hf(Jp(Cb,"Users",e.uid,"cart",t))}catch(n){console.error("Error removing item:",n)}})(t.id),children:(0,Rb.jsx)(aS,{})}),(0,Rb.jsxs)("div",{className:"cart-top",children:[(0,Rb.jsx)("img",{src:t.sellerAvatar||"https://randomuser.me/api/portraits/men/32.jpg",alt:t.sellerName||"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{className:"seller-info",children:[(0,Rb.jsx)("span",{className:"seller-name",children:t.sellerName||"Unknown Seller"}),(0,Rb.jsx)("span",{className:"seller-market",children:"Market"}),(0,Rb.jsxs)("div",{className:"stars",children:[Array(5).fill(0).map((e,t)=>(0,Rb.jsx)(nS,{color:"#f6c61d"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[t.reviews||0," Reviews"]})]})]})]}),(0,Rb.jsxs)("div",{className:"cart-content",children:[(0,Rb.jsx)(vt,{to:"/eventpost/".concat(t.postId),children:(0,Rb.jsx)("img",{src:t.image,alt:t.title,className:"product-image"})}),(0,Rb.jsxs)("div",{className:"product-info",children:[(0,Rb.jsx)(vt,{to:"/eventpost/".concat(t.postId),style:{color:"white",textDecoration:"none"},children:t.title}),(0,Rb.jsxs)("span",{className:"product-price",children:["$",n.toFixed(2)]})]})]})]},t.id)})]})}var yE,xE=n(393),bE="basil",wE="https://js.stripe.com",jE="".concat(wE,"/").concat(bE,"/stripe.js"),kE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,NE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,SE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",CE=function(e){return kE.test(e)||NE.test(e)},EE=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(jE).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},_E=null,TE=null,IE=null,AE=function(e){return null!==_E?_E:(_E=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(SE),window.Stripe)t(window.Stripe);else try{var s=function(){for(var e=document.querySelectorAll('script[src^="'.concat(wE,'"]')),t=0;t<e.length;t++){var n=e[t];if(CE(n.src))return n}return null}();if(s&&e)console.warn(SE);else if(s){if(s&&null!==IE&&null!==TE){var r;s.removeEventListener("load",IE),s.removeEventListener("error",TE),null===(r=s.parentNode)||void 0===r||r.removeChild(s),s=EE(e)}}else s=EE(e);IE=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),TE=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),s.addEventListener("load",IE),s.addEventListener("error",TE)}catch(i){return void n(i)}else t(null)})).catch(function(e){return _E=null,Promise.reject(e)})},PE=!1,RE=function(){return yE||(yE=AE(null).catch(function(e){return yE=null,Promise.reject(e)}))};Promise.resolve().then(function(){return RE()}).catch(function(e){PE||console.warn(e)});var DE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];PE=!0;var s=Date.now();return RE().then(function(e){return function(e,t,n){if(null===e)return null;var s=t[0].match(/^pk_test/),r=function(e){return 3===e?"v3":e}(e.version),i=bE;s&&r!==i&&console.warn("Stripe.js@".concat(r," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(a,n),a}(e,t,s)})};const OE=DE("pk_test_51JN8mDDR30hjV6c2f6WkKbqaLIJ91qsbyfK9Ho1Ge3hCwL2b3aZnWim7Ew9RhfprRoiInPWDRsXC8gqcdW6v4ST700vBUAakpE");function LE(){const e=(0,xE.useStripe)(),n=(0,xE.useElements)(),{currentUser:s}=pC(),[r,i]=(0,t.useState)({fullName:"",email:"",address:"",city:"",state:"",zip:"",billingFullName:"",billingAddress:"",billingCity:"",billingState:"",billingZip:"",useBillingAsShipping:!1}),[a,o]=(0,t.useState)([]),[l,u]=(0,t.useState)("");(0,t.useEffect)(()=>{if(!s)return;const e=mf(Xp(Cb,"Users",s.uid,"cart"),e=>{const t=e.docs.map(e=>c({id:e.id},e.data()));o(t)});return()=>e()},[s]),(0,t.useEffect)(()=>{r.useBillingAsShipping&&i(e=>c(c({},e),{},{fullName:e.billingFullName,address:e.billingAddress,city:e.billingCity,state:e.billingState,zip:e.billingZip}))},[r.billingFullName,r.billingAddress,r.billingCity,r.billingState,r.billingZip,r.useBillingAsShipping]);const d=e=>{const{name:t,value:n}=e.target;i(e=>c(c({},e),{},{[t]:n}))},h=e=>Number(e.toString().replace("$",""))||0,p=a.reduce((e,t)=>e+h(t.price),0),m=.15*p,f=p+m;return(0,Rb.jsxs)("form",{className:"cb-checkout-body",onSubmit:t=>{t.preventDefault(),(async()=>{if(!e||!n)return void u("Stripe is not loaded yet.");const t=n.getElement(xE.CardElement),i={name:r.billingFullName,email:r.email,address:{line1:r.billingAddress,city:r.billingCity,state:r.billingState,postal_code:r.billingZip}},{error:o,paymentMethod:l}=await e.createPaymentMethod({type:"card",card:t,billing_details:i});if(o)u("Error: ".concat(o.message));else try{for(let e of a){let t="Posts";"Market"===e.type?t="MarketPosts":"Event"===e.type?t="EventPosts":"Directory"===e.type&&(t="DirectoryPosts");const n=Jp(Cb,t,e.postId),i=await of(n);if(!i.exists())continue;const a=i.data(),o=Jp(Xp(Cb,"Orders"));await uf(o,{postId:e.postId,postType:e.type,postData:a,buyerInfo:{fullName:r.fullName,email:r.email,address:r.address,city:r.city,state:r.state,zip:r.zip},price:h(e.price),paymentMethod:"Card",timestamp:xf(),status:1,sellerId:a.sellerId||a.sellerUID||""}),await hf(Jp(Cb,"Users",s.uid,"cart",e.id))}u("Payment successful! Orders created.")}catch(c){console.error("Error creating orders:",c),u("Error creating orders. Check console.")}})()},children:[(0,Rb.jsx)("h3",{className:"cb-checkout-title",children:"Checkout"}),(0,Rb.jsxs)("div",{className:"cb-section",children:[(0,Rb.jsx)("h4",{className:"cb-section-title",children:"Delivery Information"}),(0,Rb.jsxs)("label",{className:"cb-toggle-label",children:[(0,Rb.jsx)("span",{children:"Optional - Use only if seller needs an address."}),(0,Rb.jsxs)("div",{className:"cb-toggle",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:r.useBillingAsShipping,onChange:e=>i(t=>c(c({},t),{},{useBillingAsShipping:e.target.checked,fullName:e.target.checked?t.billingFullName:"",email:e.target.checked?t.email:"",address:e.target.checked?t.billingAddress:"",city:e.target.checked?t.billingCity:"",state:e.target.checked?t.billingState:"",zip:e.target.checked?t.billingZip:""}))}),(0,Rb.jsx)("span",{className:"cb-slider"})]})]}),r.useBillingAsShipping&&(0,Rb.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Rb.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",value:r.fullName,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",value:r.email,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"address",placeholder:"Street Address",value:r.address,onChange:d,required:!0}),(0,Rb.jsxs)("div",{className:"cb-two-col",children:[(0,Rb.jsx)("input",{type:"text",name:"city",placeholder:"City",value:r.city,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"state",placeholder:"State",value:r.state,onChange:d,required:!0})]}),(0,Rb.jsx)("input",{type:"text",name:"zip",placeholder:"ZIP Code",value:r.zip,onChange:d,required:!0})]})]}),(0,Rb.jsxs)("div",{className:"cb-section",children:[(0,Rb.jsx)("h4",{className:"cb-section-title",children:"Billing Information"}),(0,Rb.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Rb.jsx)("input",{type:"text",name:"billingFullName",placeholder:"Billing Full Name",value:r.billingFullName,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"billingAddress",placeholder:"Billing Street Address",value:r.billingAddress,onChange:d,required:!0}),(0,Rb.jsxs)("div",{className:"cb-two-col",children:[(0,Rb.jsx)("input",{type:"text",name:"billingCity",placeholder:"Billing City",value:r.billingCity,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"billingState",placeholder:"Billing State",value:r.billingState,onChange:d,required:!0})]}),(0,Rb.jsx)("input",{type:"text",name:"billingZip",placeholder:"Billing ZIP",value:r.billingZip,onChange:d,required:!0})]})]}),(0,Rb.jsxs)("div",{className:"cb-section",children:[(0,Rb.jsx)("h4",{className:"cb-section-title",children:"Payment Information"}),(0,Rb.jsx)("div",{className:"cb-card-light",children:(0,Rb.jsx)(xE.CardElement,{options:{style:UE}})})]}),(0,Rb.jsxs)("div",{className:"cb-section cb-order-summary",children:[(0,Rb.jsxs)("div",{className:"cb-row",children:[(0,Rb.jsx)("span",{children:"Subtotal:"}),(0,Rb.jsxs)("span",{children:["$",p.toFixed(2)]})]}),(0,Rb.jsxs)("div",{className:"cb-row",children:[(0,Rb.jsx)("span",{children:"Taxes & Fees:"}),(0,Rb.jsxs)("span",{children:["$",m.toFixed(2)]})]}),(0,Rb.jsx)("hr",{}),(0,Rb.jsxs)("div",{className:"cb-row cb-total",children:[(0,Rb.jsx)("span",{children:"Total:"}),(0,Rb.jsxs)("span",{children:["$",f.toFixed(2)]})]})]}),(0,Rb.jsx)("button",{type:"submit",className:"cb-submit-btn",disabled:!e,children:"Pay Now"}),l&&(0,Rb.jsx)("p",{style:{marginTop:"15px",color:l.startsWith("Error")?"#ff6b6b":"#00AA00"},children:l})]})}function ME(){return(0,Rb.jsx)(xE.Elements,{stripe:OE,children:(0,Rb.jsx)(LE,{})})}const UE={style:{base:{color:"#000000",iconColor:"#000000",backgroundColor:"#ffffff",fontFamily:"Arial, sans-serif",fontSize:"16px",lineHeight:"24px","::placeholder":{color:"#555"},caretColor:"#000000","::selection":{color:"#fff",backgroundColor:"#000"},":-webkit-autofill":{color:"#000000"}},invalid:{color:"#ff0000",iconColor:"#ff0000"}}},FE=()=>(0,Rb.jsxs)("div",{className:"content-page",children:[(0,Rb.jsx)(gE,{}),(0,Rb.jsxs)("div",{className:"shopping-cart",children:[(0,Rb.jsx)("div",{className:"cart-body-container",children:(0,Rb.jsx)(vE,{})}),(0,Rb.jsx)("div",{className:"cart-side-container",children:(0,Rb.jsx)(ME,{})})]})]});const VE=function(e){var n,s,r,i,a;let{postId:o}=e;const[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(0),[m,f]=(0,t.useState)(!0),[g,v]=(0,t.useState)("description"),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(!1),[N,S]=(0,t.useState)(""),[C,E]=(0,t.useState)(!1),{currentUser:_}=pC(),T=me();(0,t.useEffect)(()=>{(async()=>{f(!0);try{const n=Jp(Cb,"Posts",o),s=await of(n);if(!s.exists())return void f(!1);const r=s.data();c(r);const i=Jp(Cb,"Users",r.userId),a=await of(i);if(d(a.exists()?a.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),_){const t=Jp(Cb,"Users",_.uid),n=await of(t);if(n.exists()){var e;const t=n.data();w((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(o))||!1)}}if(_){var t;const e=(null===(t=r.report)||void 0===t?void 0:t.includes(_.uid))||!1;k(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{f(!1)}})()},[o,_]);const I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;S(e),setTimeout(()=>S(""),t)};if(m)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!l)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const A=l.images&&l.images.length>0?l.images:["".concat("/Vrumies","/default-thumbnail.png")],P=l.title||"Title not available",R=l.description||"Description not available",D=l.createdAt?new Date(1e3*l.createdAt.seconds).toLocaleDateString():"Date not available",O=(null===u||void 0===u?void 0:u.username)||"Seller info not available",L=(null===u||void 0===u?void 0:u.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[N&&(0,Rb.jsx)("div",{className:"copy-notification",children:N}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / EVENTS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",D]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:P.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:L,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:O}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(l.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[l.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(C?"follow-active":""),onClick:()=>{E(!C),I(C?"Unfollowed":"Followed",2e3)},children:C?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(_&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void I("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",_.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:_.uid,userB:e,participants:[_.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:_.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[_.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}T("/inbox?chat=".concat(i))}catch(t){console.error(t),I("Error messaging user",4e3)}})(l.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===g?"active":""),onClick:()=>v("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===g?"active":""),onClick:()=>v("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===g?"active":""),onClick:()=>v("reviews"),children:"SELLER REVIEWS"})]}),"description"===g&&(0,Rb.jsx)("p",{className:"description",children:R}),"details"===g&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=l.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=l.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",l.link?(0,Rb.jsx)("a",{href:(M=l.link,M?M.startsWith("http")?M:"https://".concat(M):null),target:"_blank",rel:"noopener noreferrer",children:l.link}):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Shipping Time:"})," ",null!==(r=l.shippingTime)&&void 0!==r?r:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Condition:"})," ",null!==(i=l.condition)&&void 0!==i?i:"N/A"]})]}),"reviews"===g&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(y?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{I("URL copied!",2e3),x(!0),setTimeout(()=>x(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(b?"active":""),onClick:async()=>{if(!_)return;const e=Jp(Cb,"Users",_.uid);try{b?(await df(e,{bookmarks:wf(o)}),w(!1),I("Removed from bookmarks")):(await df(e,{bookmarks:bf(o)}),w(!0),I("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(j?"active":""),onClick:async()=>{if(!_)return;const e=Jp(Cb,"Posts",o);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(_.uid)?(await df(e,{report:wf(_.uid)}),k(!1),I("Report removed")):(await df(e,{report:bf(_.uid)}),k(!0),I("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsxs)("div",{className:"price-row",children:[(0,Rb.jsx)("span",{className:"price",children:null!==(a=l.price)&&void 0!==a?a:"Price: N/A"}),(0,Rb.jsx)("button",{className:"addtoCart",onClick:async()=>{if(_)try{var e;const t=Jp(Xp(Cb,"Users",_.uid,"cart"),o);if((await of(t)).exists())return void alert("Already in cart");await uf(t,{postId:o,title:l.title||"Untitled",price:l.price||0,sellerId:l.userId,sellerName:(null===u||void 0===u?void 0:u.username)||"Unknown Seller",sellerAvatar:(null===u||void 0===u?void 0:u.profilepic)||"".concat("/Vrumies","/default-profile.png"),image:(null===(e=l.images)||void 0===e?void 0:e[0])||"".concat("/Vrumies","/default-thumbnail.png"),reviews:l.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:A[h],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:A[h],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>p((h-1+A.length)%A.length)}),A.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===h?"active":""),onClick:()=>p(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>p((h+1)%A.length)})]})]})]});var M};const zE=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const BE=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","market")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading market posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Market"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(IS,c(c({},e),{},{compact:!0}),e.id))})]})},qE=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"market"===n.data().type||console.warn("Post not found or not an market post")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Market Post",backgroundUrl:"https://www.roadangelgroup.com/cdn/shop/articles/Driving_Into_The_Future_Featured.png?v=1687957466&width=1500"}),(0,Rb.jsx)(VE,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(zE,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(BE,{})})]})]})};function HE(e){let{onSelect:n}=e;const[s,r]=(0,t.useState)("referral"),i=e=>{r(e),n&&n(e)};return(0,Rb.jsxs)("div",{className:"settings-panel",children:[(0,Rb.jsx)("h2",{className:"settings-title",children:(0,Rb.jsx)("span",{children:"Settings"})}),(0,Rb.jsxs)("button",{className:"settings-btn ".concat("referral"===s?"active":""),onClick:()=>i("referral"),children:[(0,Rb.jsx)(HN,{className:"settings-icon"}),(0,Rb.jsx)("span",{children:"Vrumies Referral Code"})]}),(0,Rb.jsxs)("button",{className:"settings-btn ".concat("blocked"===s?"active":""),onClick:()=>i("blocked"),children:[(0,Rb.jsx)(lS,{className:"settings-icon"}),(0,Rb.jsx)("span",{children:"Blocked Users"})]})]})}function WE(){return(0,Rb.jsxs)("div",{className:"blocked-users-container",children:[(0,Rb.jsx)("h2",{className:"blocked-title",children:"Blocked Users"}),(0,Rb.jsxs)("div",{className:"block-input-row",children:[(0,Rb.jsx)("input",{type:"text",placeholder:"Insert Username to Block...",className:"block-input"}),(0,Rb.jsx)("button",{className:"block-btn",children:"BLOCK USER"})]}),[{name:"Jessica Collyard",avatar:"https://randomuser.me/api/portraits/women/68.jpg",note:""},{name:"Rayna Culhane",avatar:"https://randomuser.me/api/portraits/men/45.jpg",note:""},{name:"Lattisha Williams",avatar:"https://randomuser.me/api/portraits/women/12.jpg",note:"They kept spamming me with random messages that had nothing to do with what I was interested in."}].map((e,t)=>(0,Rb.jsxs)("div",{className:"blocked-card",children:[(0,Rb.jsx)("img",{src:e.avatar,alt:e.name,className:"blocked-avatar"}),(0,Rb.jsxs)("div",{className:"blocked-info",children:[(0,Rb.jsx)("h3",{children:e.name}),(0,Rb.jsx)("p",{className:"why-block",children:"Why did I block this user?"}),(0,Rb.jsx)("textarea",{placeholder:"Insert notes here...",defaultValue:e.note,className:"blocked-textarea"})]}),(0,Rb.jsxs)("div",{className:"unblock-section",children:[(0,Rb.jsx)("p",{children:"Unblock User?"}),(0,Rb.jsx)("button",{className:"unblock-btn",children:"YES, UNBLOCK"})]})]},t))]})}function KE(){return(0,Rb.jsxs)("div",{className:"referral-container",children:[(0,Rb.jsx)("h2",{className:"referral-title",children:"Vrumies Referral Code"}),(0,Rb.jsx)("p",{className:"referral-text",children:"Your personal referral code is:"}),(0,Rb.jsx)("div",{className:"referral-code-box",children:"ABC123"}),(0,Rb.jsx)("button",{className:"copy-btn",children:"Copy Code"})]})}function GE(e){let{selected:t}=e;return(0,Rb.jsxs)("div",{className:"settings-body",children:["blocked"===t&&(0,Rb.jsx)(WE,{}),"referral"===t&&(0,Rb.jsx)(KE,{})]})}const QE=()=>{const[e,n]=(0,t.useState)("referral");return(0,Rb.jsx)("div",{className:"content-page",children:(0,Rb.jsxs)("div",{className:"settings-page",children:[(0,Rb.jsx)(HE,{onSelect:n,selected:e}),(0,Rb.jsx)(GE,{selected:e})]})})};function YE(){const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=Nv(Ky(),async e=>{if(e)try{l(e.uid);const t=Jp(Cb,"Users",e.uid),s=await of(t);s.exists()?(n(s.data()),a(s.data().aboutme||"")):n({username:e.displayName,profilepic:e.photoURL,email:e.email})}catch(t){console.error("Error fetching user profile:",t)}else n(null);d(!0)});return()=>e()},[]);const h=!u;return(0,Rb.jsx)("div",{className:"mpsp-card",children:h?(0,Rb.jsx)("div",{style:{minHeight:"400px"}}):e?(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsxs)("div",{className:"mpsp-image-wrapper",children:[(0,Rb.jsx)("img",{src:e.profilepic,alt:"Profile",className:"mpsp-image"}),(0,Rb.jsx)(VN,{className:"mpsp-camera-icon",onClick:()=>alert("Change profile picture clicked")}),(0,Rb.jsx)(GN,{className:"mpsp-maximize-icon",onClick:()=>window.open(e.profilepic,"_blank")})]}),(0,Rb.jsxs)("div",{className:"mpsp-name",children:[(0,Rb.jsx)("span",{className:"mpsp-first-name",children:e.username||"No Name"}),(0,Rb.jsx)(JN,{className:"mpsp-edit-icon"})]}),(0,Rb.jsx)("div",{className:"mpsp-email",children:e.email}),(0,Rb.jsx)("div",{className:"mpsp-stars",children:[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{className:"mpsp-star"},t))}),(0,Rb.jsx)("button",{className:"mpsp-reviews-btn",children:"Share Profile"}),(0,Rb.jsxs)("div",{className:"mpsp-about-section",children:[(0,Rb.jsxs)("div",{className:"mpsp-about-header",children:[(0,Rb.jsx)("span",{children:"About me"}),s?(0,Rb.jsx)("button",{className:"mpsp-edit-about",onClick:async()=>{if(o)try{const e=Jp(Cb,"Users",o);await df(e,{aboutme:i}).catch(async()=>{await uf(e,{aboutme:i},{merge:!0})}),n(e=>c(c({},e),{},{aboutme:i})),r(!1)}catch(e){console.error("Error updating about me:",e)}},children:"Save"}):(0,Rb.jsx)("span",{className:"mpsp-edit-about",onClick:()=>r(!0),children:"Edit"})]}),s?(0,Rb.jsx)("textarea",{className:"mpsp-about-input",value:i,onChange:e=>a(e.target.value)}):(0,Rb.jsx)("p",{className:"mpsp-about-text",children:e.aboutme||"No bio yet."})]})]}):(0,Rb.jsx)("p",{style:{color:"white"},children:"No user logged in."})})}const $E=[{id:"videos",label:"Videos",icon:(0,Rb.jsx)(cS,{})},{id:"blogs",label:"Blogs",icon:(0,Rb.jsx)(XN,{})},{id:"vehicles",label:"Vehicles",icon:(0,Rb.jsx)(zN,{})},{id:"events",label:"Events",icon:(0,Rb.jsx)(FN,{})},{id:"market",label:"Market",icon:(0,Rb.jsx)(sS,{})},{id:"directory",label:"Directory",icon:(0,Rb.jsx)(MN,{})},{id:"requests",label:"Requests",icon:(0,Rb.jsx)($N,{})},{id:"loads",label:"Loads",icon:(0,Rb.jsx)(qN,{})},{id:"trucks",label:"Trucks",icon:(0,Rb.jsx)(oS,{})}];function XE(e){let{selected:t,setSelected:n}=e;return(0,Rb.jsx)("div",{className:"profile-categories-grid",children:$E.map(e=>(0,Rb.jsxs)("button",{className:"profile-category-btn ".concat(t===e.id?"selected":""),onClick:()=>n(e.id),children:[(0,Rb.jsx)("span",{className:"profile-category-icon",children:e.icon}),(0,Rb.jsx)("span",{className:"profile-category-label",children:e.label})]},e.id))})}const JE={videos:"video",blogs:"blog",vehicles:"vehicle",events:"event",market:"market",directory:"directory",requests:"request",loads:"loads",trucks:"trucks"},ZE={videos:{Layout:CS,label:"Videos"},blogs:{Layout:ES,label:"Blogs"},vehicles:{Layout:_S,label:"Vehicles"},events:{Layout:TS,label:"Events"},market:{Layout:IS,label:"Market"},directory:{Layout:AS,label:"Directory"},requests:{Layout:PS,label:"Requests"},loads:{Layout:RS,label:"Loads"},trucks:{Layout:DS,label:"Trucks"}};function e_(e){let{selectedCategory:n}=e;const[s,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),o=Ky().currentUser;(0,t.useEffect)(()=>{if(!n||!o)return;(async()=>{a(!0);try{const e=JE[n],t=Bm(Xp(Cb,"Posts"),Hm("type","==",e),Hm("userId","==",o.uid),Ym(16)),s=(await cf(t)).docs.map(e=>c({id:e.id},e.data()));r(s)}catch(e){console.error("Error fetching posts:",e),r([])}a(!1)})()},[n,o]);const{Layout:l,label:u}=ZE[n]||{};return(0,Rb.jsx)("div",{className:"my-profile-body",children:n?(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("h2",{className:"profile-body-title",children:u}),i?(0,Rb.jsx)("div",{className:"no-posts-message",children:"Loading posts..."}):0===s.length?(0,Rb.jsx)("div",{className:"no-posts-message",children:"You have no posts in this category."}):(0,Rb.jsx)("div",{className:"post-grid",children:s.map(e=>(0,Rb.jsx)(l,c({},e),e.id))})]}):(0,Rb.jsx)("div",{className:"no-posts-message",children:"Select a category to view posts."})})}const t_=()=>{const[e,n]=(0,t.useState)("content");return(0,Rb.jsx)("div",{className:"content-page",children:(0,Rb.jsxs)("div",{className:"my-profile",children:[(0,Rb.jsx)("div",{className:"my-profile-sidepanel",children:(0,Rb.jsx)(YE,{})}),(0,Rb.jsxs)("div",{className:"my-profile-right",children:[(0,Rb.jsxs)("div",{className:"my-profile-section",children:[(0,Rb.jsxs)("div",{className:"profile-top-nav",children:[(0,Rb.jsx)("span",{className:"top-nav-item selected",children:"Posts"}),(0,Rb.jsx)(vt,{to:"/myphotos",className:"myreviews-top-nav-item",children:"Photos"}),(0,Rb.jsx)(vt,{to:"/myreviews",className:"myreviews-top-nav-item",children:"Reviews"})]}),(0,Rb.jsx)(XE,{selected:e,setSelected:n})]}),(0,Rb.jsx)("div",{className:"my-profile-section",children:(0,Rb.jsx)(e_,{selectedCategory:e})})]})]})})};function n_(e){let{photoUrl:t,onClose:n}=e;if(!t)return null;return(0,Rb.jsx)("div",{className:"viewphotooverlay-container",onClick:n,children:(0,Rb.jsx)("div",{className:"viewphotooverlay-inner",onClick:e=>{e.stopPropagation()},children:(0,Rb.jsxs)("div",{className:"viewphotooverlay-image-wrapper",children:[(0,Rb.jsx)("img",{src:t,alt:"Expanded View",className:"viewphotooverlay-image"}),(0,Rb.jsx)("button",{className:"viewphotooverlay-close-btn",onClick:n,title:"Close",children:(0,Rb.jsx)(aS,{})})]})})})}function s_(){const e=(0,t.useRef)(null),[n,s]=(0,t.useState)("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRn1XCKLwfD23PmpBQSj0aQREfslkrQ53-jWQ&s"),[r,i]=(0,t.useState)(!1);return(0,Rb.jsxs)("div",{className:"myphotos-cover-container",children:[(0,Rb.jsx)("div",{className:"myphotos-cover-image",style:{backgroundImage:"url(".concat(n,")")},onClick:()=>{i(!0)}}),(0,Rb.jsx)("button",{className:"myphotos-cover-btn",onClick:()=>{e.current.click()},children:"Change Cover Photo"}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",ref:e,onChange:e=>{const t=e.target.files[0];if(!t)return;const n=URL.createObjectURL(t);s(n)},style:{display:"none"}}),r&&(0,Rb.jsx)(n_,{photoUrl:n,onClose:()=>{i(!1)}})]})}function r_(){const[e,n]=(0,t.useState)(Array.from({length:25},(e,t)=>"https://picsum.photos/400/400?random=".concat(t+1))),[s,r]=(0,t.useState)(1),i=(0,t.useRef)(null),[a,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(1===s)return;const e=Array.from({length:10},(e,t)=>"https://picsum.photos/400/400?random=".concat(25+10*(s-1)+t+1));n(t=>[...t,...e])},[s]);return(0,Rb.jsxs)("div",{className:"myphotos-profile-body",children:[(0,Rb.jsxs)("div",{className:"myphotos-gallery-header",children:[(0,Rb.jsx)("h2",{className:"myphotos-body-title",children:"Photos"}),(0,Rb.jsxs)("label",{className:"myphotos-upload-btn",children:["Upload Photos",(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).map(e=>URL.createObjectURL(e));n(e=>[...t,...e])},hidden:!0})]})]}),(0,Rb.jsx)("div",{className:"myphotos-gallery-scroll",ref:i,onScroll:()=>{if(!i.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=i.current;e+n>=t-50&&r(e=>e+1)},children:0===e.length?(0,Rb.jsx)("div",{className:"myphotos-no-posts-message",children:"No photos uploaded yet."}):(0,Rb.jsx)("div",{className:"myphotos-gallery-grid",children:e.map((e,t)=>(0,Rb.jsxs)("div",{className:"myphotos-card",children:[(0,Rb.jsx)("img",{src:e,alt:"User upload ".concat(t),onClick:()=>{o(e)},style:{cursor:"pointer"}}),(0,Rb.jsx)("button",{className:"myphotos-delete-btn",onClick:()=>(e=>{n(t=>t.filter((t,n)=>n!==e))})(t),children:"\u2715"})]},t))})}),a&&(0,Rb.jsx)(n_,{photoUrl:a,onClose:()=>{o(null)}})]})}const i_=()=>(0,Rb.jsx)("div",{className:"content-page",children:(0,Rb.jsxs)("div",{className:"my-profile",children:[(0,Rb.jsx)("div",{className:"my-profile-sidepanel",children:(0,Rb.jsx)(YE,{})}),(0,Rb.jsxs)("div",{className:"my-profile-right",children:[(0,Rb.jsxs)("div",{className:"my-profile-section",children:[(0,Rb.jsxs)("div",{className:"profile-top-nav",children:[(0,Rb.jsx)(vt,{to:"/myprofile",className:"myreviews-top-nav-item",children:"Posts"}),(0,Rb.jsx)("span",{className:"top-nav-item selected",children:"Photos"}),(0,Rb.jsx)(vt,{to:"/myreviews",className:"myreviews-top-nav-item",children:"Reviews"})]}),(0,Rb.jsx)(s_,{})]}),(0,Rb.jsx)("div",{className:"my-profile-section",children:(0,Rb.jsx)(r_,{})})]})]})});function a_(){return(0,Rb.jsxs)("div",{className:"myreviews-categories-grid myreviews-reviews-summary",children:[(0,Rb.jsxs)("div",{className:"myreviews-review-summary-item",children:[(0,Rb.jsx)("div",{className:"myreviews-review-summary-number",children:"4.25 / 5 \u2b50"}),(0,Rb.jsx)("div",{className:"myreviews-review-summary-label",children:"Average Reviews"})]}),(0,Rb.jsxs)("div",{className:"myreviews-review-summary-item",children:[(0,Rb.jsx)("div",{className:"myreviews-review-summary-number",children:"526"}),(0,Rb.jsx)("div",{className:"myreviews-review-summary-label",children:"Total Reviews"})]}),(0,Rb.jsxs)("div",{className:"myreviews-review-summary-item",children:[(0,Rb.jsx)("div",{className:"myreviews-review-summary-number",children:"7"}),(0,Rb.jsx)("div",{className:"myreviews-review-summary-label",children:"Disputes"})]})]})}function o_(){return(0,Rb.jsx)("div",{className:"myreviews-profile-body",children:[{id:2,userName:"MICHAEL DARIUS",userPhoto:"https://i.pravatar.cc/150?img=13",rating:5,date:"MARCH 29, 2022",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed erat at eget massa sollicitudin. Ac orci ornare est, orci enim porta egestas. Mauris at auctor purus neque amet. Est, tellus pharetra, dictum donec laoreet in feugiat leo."},{id:3,userName:"FRANK MEEK",userPhoto:"https://i.pravatar.cc/150?img=56",rating:4,date:"MARCH 29, 2022",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed erat at eget massa sollicitudin. Ac orci ornare est, orci enim porta egestas. Mauris at auctor purus neque amet."},{id:4,userName:"STEPHEN DARIUS",userPhoto:"https://i.pravatar.cc/150?img=24",rating:5,date:"MARCH 29, 2022",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed erat at eget massa sollicitudin. Ac orci ornare est, orci enim porta egestas. Mauris at auctor purus neque amet."},{id:5,userName:"JAMES SMITH",userPhoto:"https://i.pravatar.cc/150?img=5",rating:5,date:"APRIL 5, 2022",text:"Suspendisse potenti. Sed dignissim, metus nec fringilla ultricies, sapien justo posuere libero, ut lacinia orci nunc ut sapien."},{id:6,userName:"LINDA JOHNSON",userPhoto:"https://i.pravatar.cc/150?img=7",rating:3,date:"APRIL 8, 2022",text:"Curabitur vel sem at lorem placerat varius. Integer ac felis in lectus malesuada viverra."},{id:7,userName:"DAVID CLARK",userPhoto:"https://i.pravatar.cc/150?img=15",rating:5,date:"APRIL 10, 2022",text:"Fusce non magna ut libero posuere consequat. Sed bibendum justo at sem volutpat, a aliquam justo suscipit."},{id:8,userName:"EMILY WRIGHT",userPhoto:"https://i.pravatar.cc/150?img=20",rating:4,date:"APRIL 12, 2022",text:"Nam nec ex non neque pharetra posuere. Proin ac elit eu lacus lacinia malesuada."},{id:9,userName:"ROBERT HALL",userPhoto:"https://i.pravatar.cc/150?img=18",rating:5,date:"APRIL 15, 2022",text:"Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec et lorem ut risus congue tristique."},{id:10,userName:"NICOLE BROWN",userPhoto:"https://i.pravatar.cc/150?img=25",rating:4,date:"APRIL 18, 2022",text:"Praesent euismod sapien in libero consequat, a interdum justo cursus. Integer in dolor vel justo aliquam volutpat."}].map(e=>(0,Rb.jsxs)("div",{className:"myreviews-review-card",children:[(0,Rb.jsxs)("div",{className:"myreviews-review-top",children:[(0,Rb.jsx)("img",{src:e.userPhoto,alt:"",className:"myreviews-review-avatar"}),(0,Rb.jsxs)("div",{className:"myreviews-review-user-info",children:[(0,Rb.jsx)("span",{className:"myreviews-review-username",children:e.userName}),(0,Rb.jsx)("span",{className:"myreviews-review-date",children:e.date})]}),(0,Rb.jsxs)("div",{className:"myreviews-review-rating",children:[Array.from({length:e.rating}).map((e,t)=>(0,Rb.jsx)("span",{className:"myreviews-star-filled",children:"\u2605"},t)),Array.from({length:5-e.rating}).map((e,t)=>(0,Rb.jsx)("span",{className:"myreviews-star-empty",children:"\u2605"},t))]})]}),(0,Rb.jsx)("p",{className:"myreviews-review-text",children:e.text}),(0,Rb.jsx)("div",{className:"myreviews-review-line"})]},e.id))})}function l_(){const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(0),[i,a]=(0,t.useState)(0),o="Alex Anderson",l="https://i.pravatar.cc/150?img=32",c=(new Date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"});return(0,Rb.jsxs)("div",{className:"cr-container",children:[(0,Rb.jsx)("h2",{className:"cr-title",children:"Create Review"}),(0,Rb.jsxs)("div",{className:"cr-top-row",children:[(0,Rb.jsxs)("div",{className:"cr-user-info",children:[(0,Rb.jsx)("img",{src:l,alt:"avatar",className:"cr-avatar"}),(0,Rb.jsxs)("div",{className:"cr-user-text",children:[(0,Rb.jsx)("span",{className:"cr-username",children:o}),(0,Rb.jsx)("span",{className:"cr-date",children:c})]})]}),(0,Rb.jsx)("div",{className:"cr-stars",children:Array.from({length:5}).map((e,t)=>(0,Rb.jsx)("span",{className:t<(i||s)?"cr-star-filled":"cr-star-empty",onClick:()=>r(t+1),onMouseEnter:()=>a(t+1),onMouseLeave:()=>a(0),children:"\u2605"},t))})]}),(0,Rb.jsx)("textarea",{className:"cr-textarea",placeholder:"Type your comment here...",maxLength:130,value:e,onChange:e=>n(e.target.value)}),(0,Rb.jsxs)("div",{className:"cr-actions",children:[(0,Rb.jsx)("span",{className:"cr-char-limit",children:"Maximum Characters Allowed: 130"}),(0,Rb.jsx)("button",{className:"cr-submit-btn",onClick:()=>{e.trim()&&(alert("Review submitted: ".concat(e," with rating: ").concat(s," \u2b50")),n(""),r(0),a(0))},children:"Submit"})]})]})}const c_=()=>{const[e,n]=(0,t.useState)("content");return(0,Rb.jsx)("div",{className:"content-page",children:(0,Rb.jsxs)("div",{className:"myreviews-profile",children:[(0,Rb.jsx)("div",{className:"myreviews-profile-sidepanel",children:(0,Rb.jsx)(YE,{})}),(0,Rb.jsxs)("div",{className:"myreviews-profile-right",children:[(0,Rb.jsxs)("div",{className:"myreviews-profile-section",children:[(0,Rb.jsxs)("div",{className:"myreviews-top-nav",children:[(0,Rb.jsx)(vt,{to:"/myprofile",className:"myreviews-top-nav-item",children:"Posts"}),(0,Rb.jsx)(vt,{to:"/myphotos",className:"myreviews-top-nav-item",children:"Photos"}),(0,Rb.jsx)("span",{className:"myreviews-top-nav-item selected",children:"Reviews"})]}),(0,Rb.jsx)(a_,{selected:e,setSelected:n})]}),(0,Rb.jsx)("div",{className:"myreviews-profile-section",children:(0,Rb.jsx)(l_,{})}),(0,Rb.jsx)("div",{className:"myreviews-profile-section",children:(0,Rb.jsx)(o_,{selectedCategory:e})})]})]})})},u_=()=>{const{userId:e}=fe(),[n,s]=(0,t.useState)(null),[r,i]=(0,t.useState)(!0),[a,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{i(!0);try{const t=Bm(Xp(Cb,"Users"),Hm("userid","==",e)),n=await cf(t);n.empty?(console.warn("User not found"),s(null)):s(n.docs[0].data())}catch(t){console.error("Error fetching user:",t),s(null)}finally{i(!1)}})()},[e]);return r?(0,Rb.jsx)("div",{className:"vpsp-profile-card",children:(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."})}):n?(0,Rb.jsxs)("div",{className:"vpsp-profile-card",children:[(0,Rb.jsxs)("div",{className:"vpsp-profile-image-wrapper",children:[(0,Rb.jsx)("img",{src:n.profilepic||"https://via.placeholder.com/150",alt:n.username,className:"vpsp-profile-image"}),(0,Rb.jsx)(GN,{className:"vpsp-maximize-icon",onClick:()=>window.open(n.profilepic,"_blank")})]}),(0,Rb.jsx)("div",{className:"vpsp-profile-name",children:(0,Rb.jsx)("span",{className:"vpsp-first-name",children:n.username})}),(0,Rb.jsx)("div",{className:"vpsp-profile-email",children:n.email}),(0,Rb.jsx)("div",{className:"vpsp-stars",children:[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{className:"vpsp-star"},t))}),(0,Rb.jsxs)("div",{className:"vpsp-button-stack",children:[(0,Rb.jsx)("button",{className:"vpsp-action-btn vpsp-follow-btn ".concat(a?"following":""),onClick:()=>o(!a),children:a?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"vpsp-action-btn",children:"Message Me"}),(0,Rb.jsx)("button",{className:"vpsp-action-btn",children:"Share Profile"})]}),(0,Rb.jsxs)("div",{className:"vpsp-about-section",children:[(0,Rb.jsx)("div",{className:"vpsp-about-header",children:"About me"}),(0,Rb.jsx)("p",{className:"vpsp-about-text",children:n.aboutme&&""!==n.aboutme.trim()?n.aboutme:"No bio yet."})]})]}):(0,Rb.jsx)("div",{className:"vpsp-profile-card",children:(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"User not found"})})},d_=[{id:"videos",label:"Videos",icon:(0,Rb.jsx)(cS,{})},{id:"blogs",label:"Blogs",icon:(0,Rb.jsx)(XN,{})},{id:"vehicles",label:"Vehicles",icon:(0,Rb.jsx)(zN,{})},{id:"events",label:"Events",icon:(0,Rb.jsx)(FN,{})},{id:"market",label:"Market",icon:(0,Rb.jsx)(sS,{})},{id:"directory",label:"Directory",icon:(0,Rb.jsx)(MN,{})},{id:"requests",label:"Requests",icon:(0,Rb.jsx)($N,{})},{id:"loads",label:"Loads",icon:(0,Rb.jsx)(qN,{})},{id:"trucks",label:"Trucks",icon:(0,Rb.jsx)(oS,{})}];function h_(e){let{selected:t,setSelected:n}=e;return(0,Rb.jsx)("div",{className:"profile-categories-grid",children:d_.map(e=>(0,Rb.jsxs)("button",{className:"profile-category-btn ".concat(t===e.id?"selected":""),onClick:()=>n(e.id),children:[(0,Rb.jsx)("span",{className:"profile-category-icon",children:e.icon}),(0,Rb.jsx)("span",{className:"profile-category-label",children:e.label})]},e.id))})}const p_={videos:"video",blogs:"blog",vehicles:"vehicle",events:"event",market:"market",directory:"directory",requests:"request",loads:"loads",trucks:"trucks"},m_={videos:{Layout:CS,label:"Videos"},blogs:{Layout:ES,label:"Blogs"},vehicles:{Layout:_S,label:"Vehicles"},events:{Layout:TS,label:"Events"},market:{Layout:IS,label:"Market"},directory:{Layout:AS,label:"Directory"},requests:{Layout:PS,label:"Requests"},loads:{Layout:RS,label:"Loads"},trucks:{Layout:DS,label:"Trucks"}};function f_(e){let{selectedCategory:n}=e;const[s,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),{userId:o}=fe();(0,t.useEffect)(()=>{if(!n||!o)return;(async()=>{a(!0);try{const e=p_[n],t=Bm(Xp(Cb,"Posts"),Hm("type","==",e),Hm("userId","==",o),Ym(16)),s=(await cf(t)).docs.map(e=>c({id:e.id},e.data()));r(s)}catch(e){console.error("Error fetching posts:",e),r([])}a(!1)})()},[n,o]);const{Layout:l,label:u}=m_[n]||{};return(0,Rb.jsx)("div",{className:"my-profile-body",children:n?(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("h2",{className:"profile-body-title",children:u}),i?(0,Rb.jsx)("div",{className:"no-posts-message",children:"Loading posts..."}):0===s.length?(0,Rb.jsx)("div",{className:"no-posts-message",children:"This user has no posts in this category."}):(0,Rb.jsx)("div",{className:"post-grid",children:s.map(e=>(0,Rb.jsx)(l,c({},e),e.id))})]}):(0,Rb.jsx)("div",{className:"no-posts-message",children:"Select a category to view posts."})})}const g_=()=>{const{userId:e}=fe(),[n,s]=(0,t.useState)("content");return(0,Rb.jsx)("div",{className:"content-page",children:(0,Rb.jsxs)("div",{className:"my-profile",children:[(0,Rb.jsx)("div",{className:"my-profile-sidepanel",children:(0,Rb.jsx)(u_,{})}),(0,Rb.jsxs)("div",{className:"my-profile-right",children:[(0,Rb.jsxs)("div",{className:"my-profile-section",children:[(0,Rb.jsxs)("div",{className:"profile-top-nav",children:[(0,Rb.jsx)("span",{className:"top-nav-item selected",children:"Posts"}),(0,Rb.jsx)(vt,{to:"/viewphotos/".concat(e),className:"myreviews-top-nav-item",children:"Photos"}),(0,Rb.jsx)(vt,{to:"/viewreviews/".concat(e),className:"myreviews-top-nav-item",children:"Reviews"})]}),(0,Rb.jsx)(h_,{selected:n,setSelected:s})]}),(0,Rb.jsx)("div",{className:"my-profile-section",children:(0,Rb.jsx)(f_,{selectedCategory:n})})]})]})})};function v_(){const[e]=(0,t.useState)("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRn1XCKLwfD23PmpBQSj0aQREfslkrQ53-jWQ&s"),[n,s]=(0,t.useState)(!1);return(0,Rb.jsxs)("div",{className:"viewphotoscategories-cover-container",children:[(0,Rb.jsx)("div",{className:"viewphotoscategories-cover-image",style:{backgroundImage:"url(".concat(e,")")},onClick:()=>{s(!0)}}),n&&(0,Rb.jsx)(n_,{photoUrl:e,onClose:()=>{s(!1)}})]})}function y_(){const[e,n]=(0,t.useState)(Array.from({length:25},(e,t)=>"https://picsum.photos/400/400?random=".concat(t+1))),[s,r]=(0,t.useState)(1),[i,a]=(0,t.useState)(null),o=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(1===s)return;const e=Array.from({length:10},(e,t)=>"https://picsum.photos/400/400?random=".concat(25+10*(s-1)+t+1));n(t=>[...t,...e])},[s]);return(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsxs)("div",{className:"myphotos-profile-body",children:[(0,Rb.jsxs)("div",{className:"myphotos-gallery-header",children:[(0,Rb.jsx)("h2",{className:"myphotos-body-title",children:"Photos"}),(0,Rb.jsxs)("label",{className:"myphotos-upload-btn",children:["Upload Photos",(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).map(e=>URL.createObjectURL(e));n(e=>[...t,...e])},hidden:!0})]})]}),(0,Rb.jsx)("div",{className:"myphotos-gallery-scroll",ref:o,onScroll:()=>{if(!o.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=o.current;e+n>=t-50&&r(e=>e+1)},children:0===e.length?(0,Rb.jsx)("div",{className:"myphotos-no-posts-message",children:"No photos uploaded yet."}):(0,Rb.jsx)("div",{className:"myphotos-gallery-grid",children:e.map((e,t)=>(0,Rb.jsx)("div",{className:"myphotos-card",onClick:()=>a(e),style:{cursor:"pointer"},children:(0,Rb.jsx)("img",{src:e,alt:"User upload ".concat(t)})},t))})})]}),(0,Rb.jsx)(n_,{photoUrl:i,onClose:()=>a(null)})]})}const x_=()=>{const{userId:e}=fe();return(0,Rb.jsx)("div",{className:"content-page",children:(0,Rb.jsxs)("div",{className:"my-profile",children:[(0,Rb.jsx)("div",{className:"my-profile-sidepanel",children:(0,Rb.jsx)(u_,{})}),(0,Rb.jsxs)("div",{className:"my-profile-right",children:[(0,Rb.jsxs)("div",{className:"my-profile-section",children:[(0,Rb.jsxs)("div",{className:"profile-top-nav",children:[(0,Rb.jsx)(vt,{to:"/viewprofile/".concat(e),className:"myreviews-top-nav-item",children:"Posts"}),(0,Rb.jsx)("span",{className:"top-nav-item selected",children:"Photos"}),(0,Rb.jsx)(vt,{to:"/viewreviews/".concat(e),className:"myreviews-top-nav-item",children:"Reviews"})]}),(0,Rb.jsx)(v_,{})]}),(0,Rb.jsx)("div",{className:"my-profile-section",children:(0,Rb.jsx)(y_,{})})]})]})})};function b_(){return(0,Rb.jsxs)("div",{className:"myreviews-categories-grid myreviews-reviews-summary",children:[(0,Rb.jsxs)("div",{className:"myreviews-review-summary-item",children:[(0,Rb.jsx)("div",{className:"myreviews-review-summary-number",children:"4.25 / 5 \u2b50"}),(0,Rb.jsx)("div",{className:"myreviews-review-summary-label",children:"Average Reviews"})]}),(0,Rb.jsxs)("div",{className:"myreviews-review-summary-item",children:[(0,Rb.jsx)("div",{className:"myreviews-review-summary-number",children:"526"}),(0,Rb.jsx)("div",{className:"myreviews-review-summary-label",children:"Total Reviews"})]}),(0,Rb.jsxs)("div",{className:"myreviews-review-summary-item",children:[(0,Rb.jsx)("div",{className:"myreviews-review-summary-number",children:"7"}),(0,Rb.jsx)("div",{className:"myreviews-review-summary-label",children:"Disputes"})]})]})}function w_(){return(0,Rb.jsx)("div",{className:"myreviews-profile-body",children:[{id:2,userName:"MICHAEL DARIUS",userPhoto:"https://i.pravatar.cc/150?img=13",rating:5,date:"MARCH 29, 2022",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed erat at eget massa sollicitudin. Ac orci ornare est, orci enim porta egestas. Mauris at auctor purus neque amet. Est, tellus pharetra, dictum donec laoreet in feugiat leo."},{id:3,userName:"FRANK MEEK",userPhoto:"https://i.pravatar.cc/150?img=56",rating:4,date:"MARCH 29, 2022",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed erat at eget massa sollicitudin. Ac orci ornare est, orci enim porta egestas. Mauris at auctor purus neque amet."},{id:4,userName:"STEPHEN DARIUS",userPhoto:"https://i.pravatar.cc/150?img=24",rating:5,date:"MARCH 29, 2022",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed erat at eget massa sollicitudin. Ac orci ornare est, orci enim porta egestas. Mauris at auctor purus neque amet."},{id:5,userName:"JAMES SMITH",userPhoto:"https://i.pravatar.cc/150?img=5",rating:5,date:"APRIL 5, 2022",text:"Suspendisse potenti. Sed dignissim, metus nec fringilla ultricies, sapien justo posuere libero, ut lacinia orci nunc ut sapien."},{id:6,userName:"LINDA JOHNSON",userPhoto:"https://i.pravatar.cc/150?img=7",rating:3,date:"APRIL 8, 2022",text:"Curabitur vel sem at lorem placerat varius. Integer ac felis in lectus malesuada viverra."},{id:7,userName:"DAVID CLARK",userPhoto:"https://i.pravatar.cc/150?img=15",rating:5,date:"APRIL 10, 2022",text:"Fusce non magna ut libero posuere consequat. Sed bibendum justo at sem volutpat, a aliquam justo suscipit."},{id:8,userName:"EMILY WRIGHT",userPhoto:"https://i.pravatar.cc/150?img=20",rating:4,date:"APRIL 12, 2022",text:"Nam nec ex non neque pharetra posuere. Proin ac elit eu lacus lacinia malesuada."},{id:9,userName:"ROBERT HALL",userPhoto:"https://i.pravatar.cc/150?img=18",rating:5,date:"APRIL 15, 2022",text:"Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec et lorem ut risus congue tristique."},{id:10,userName:"NICOLE BROWN",userPhoto:"https://i.pravatar.cc/150?img=25",rating:4,date:"APRIL 18, 2022",text:"Praesent euismod sapien in libero consequat, a interdum justo cursus. Integer in dolor vel justo aliquam volutpat."}].map(e=>(0,Rb.jsxs)("div",{className:"myreviews-review-card",children:[(0,Rb.jsxs)("div",{className:"myreviews-review-top",children:[(0,Rb.jsx)("img",{src:e.userPhoto,alt:"",className:"myreviews-review-avatar"}),(0,Rb.jsxs)("div",{className:"myreviews-review-user-info",children:[(0,Rb.jsx)("span",{className:"myreviews-review-username",children:e.userName}),(0,Rb.jsx)("span",{className:"myreviews-review-date",children:e.date})]}),(0,Rb.jsxs)("div",{className:"myreviews-review-rating",children:[Array.from({length:e.rating}).map((e,t)=>(0,Rb.jsx)("span",{className:"myreviews-star-filled",children:"\u2605"},t)),Array.from({length:5-e.rating}).map((e,t)=>(0,Rb.jsx)("span",{className:"myreviews-star-empty",children:"\u2605"},t))]})]}),(0,Rb.jsx)("p",{className:"myreviews-review-text",children:e.text}),(0,Rb.jsx)("div",{className:"myreviews-review-line"})]},e.id))})}function j_(){const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)(0),[i,a]=(0,t.useState)(0),o="Alex Anderson",l="https://i.pravatar.cc/150?img=32",c=(new Date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"});return(0,Rb.jsxs)("div",{className:"cr-container",children:[(0,Rb.jsx)("h2",{className:"cr-title",children:"Create Review"}),(0,Rb.jsxs)("div",{className:"cr-top-row",children:[(0,Rb.jsxs)("div",{className:"cr-user-info",children:[(0,Rb.jsx)("img",{src:l,alt:"avatar",className:"cr-avatar"}),(0,Rb.jsxs)("div",{className:"cr-user-text",children:[(0,Rb.jsx)("span",{className:"cr-username",children:o}),(0,Rb.jsx)("span",{className:"cr-date",children:c})]})]}),(0,Rb.jsx)("div",{className:"cr-stars",children:Array.from({length:5}).map((e,t)=>(0,Rb.jsx)("span",{className:t<(i||s)?"cr-star-filled":"cr-star-empty",onClick:()=>r(t+1),onMouseEnter:()=>a(t+1),onMouseLeave:()=>a(0),children:"\u2605"},t))})]}),(0,Rb.jsx)("textarea",{className:"cr-textarea",placeholder:"Type your comment here...",maxLength:130,value:e,onChange:e=>n(e.target.value)}),(0,Rb.jsxs)("div",{className:"cr-actions",children:[(0,Rb.jsx)("span",{className:"cr-char-limit",children:"Maximum Characters Allowed: 130"}),(0,Rb.jsx)("button",{className:"cr-submit-btn",onClick:()=>{e.trim()&&(alert("Review submitted: ".concat(e," with rating: ").concat(s," \u2b50")),n(""),r(0),a(0))},children:"Submit"})]})]})}const k_=()=>{const{userId:e}=fe(),[n,s]=(0,t.useState)("content");return(0,Rb.jsx)("div",{className:"content-page",children:(0,Rb.jsxs)("div",{className:"myreviews-profile",children:[(0,Rb.jsx)("div",{className:"myreviews-profile-sidepanel",children:(0,Rb.jsx)(u_,{})}),(0,Rb.jsxs)("div",{className:"myreviews-profile-right",children:[(0,Rb.jsxs)("div",{className:"myreviews-profile-section",children:[(0,Rb.jsxs)("div",{className:"myreviews-top-nav",children:[(0,Rb.jsx)(vt,{to:"/viewprofile/".concat(e),className:"myreviews-top-nav-item",children:"Posts"}),(0,Rb.jsx)(vt,{to:"/viewphotos/".concat(e),className:"myreviews-top-nav-item",children:"Photos"}),(0,Rb.jsx)("span",{className:"myreviews-top-nav-item selected",children:"Reviews"})]}),(0,Rb.jsx)(b_,{selected:n,setSelected:s})]}),(0,Rb.jsx)("div",{className:"myreviews-profile-section",children:(0,Rb.jsx)(j_,{})}),(0,Rb.jsx)("div",{className:"myreviews-profile-section",children:(0,Rb.jsx)(w_,{selectedCategory:n})})]})]})})};function N_(e){let{onClose:t}=e;return(0,Rb.jsx)("div",{className:"pmo-overlay",children:(0,Rb.jsxs)("div",{className:"pmo-overlay-content",children:[(0,Rb.jsx)("button",{className:"pmo-close-btn",onClick:t,children:"\u2715"}),(0,Rb.jsxs)("div",{className:"pmo-payment-method",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/CashApp-Icon_kykgyd.png",alt:"Cash App"}),(0,Rb.jsx)("input",{type:"text",placeholder:"TYPE YOUR CASH APP USERNAME HERE..."}),(0,Rb.jsx)("button",{className:"pmo-cancel-btn",children:"Cancel"}),(0,Rb.jsx)("button",{className:"pmo-save-btn",children:"Save"})]}),(0,Rb.jsxs)("div",{className:"pmo-payment-method",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/Venmo-Icon_wbjipo.png",alt:"Venmo"}),(0,Rb.jsx)("input",{type:"text",placeholder:"TYPE YOUR VENMO USERNAME HERE..."}),(0,Rb.jsx)("button",{className:"pmo-cancel-btn",children:"Cancel"}),(0,Rb.jsx)("button",{className:"pmo-save-btn",children:"Save"})]}),(0,Rb.jsxs)("div",{className:"pmo-payment-method",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/Paypal-Icon_isktt9.png",alt:"PayPal"}),(0,Rb.jsx)("input",{type:"text",placeholder:"TYPE YOUR PAYPAL USERNAME HERE..."}),(0,Rb.jsx)("button",{className:"pmo-cancel-btn",children:"Cancel"}),(0,Rb.jsx)("button",{className:"pmo-save-btn",children:"Save"})]}),(0,Rb.jsxs)("div",{className:"pmo-bank-method",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1755541634/Stripe-Icon_f5i6vd.png",alt:"Stripe"}),(0,Rb.jsx)("button",{className:"pmo-connect-btn",children:"Connect"}),(0,Rb.jsxs)("div",{className:"pmo-bank-status",children:["Status: ",(0,Rb.jsx)("span",{style:{color:"#00ff00"},children:"Connected"}),(0,Rb.jsx)("br",{}),"Bank Account ending in: ",(0,Rb.jsx)("span",{style:{color:"#00ff00"},children:"8948"})]})]}),(0,Rb.jsxs)("div",{className:"pmo-total-balance",children:[(0,Rb.jsx)("div",{className:"pmo-label",children:"TOTAL BALANCE"}),(0,Rb.jsx)("div",{className:"pmo-amount",children:"$56.95"})]}),(0,Rb.jsx)("div",{className:"pmo-footer-note",children:"PAYOUTS ARE DONE MANUALLY BY VRUMIES AFTER VERIFICATION OF ORDER COMPLETION"})]})})}const S_=e=>{let{value:t,onChange:n,suggestions:s,onSelect:r}=e;return(0,Rb.jsxs)("div",{className:"toggle-field",children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Type a city...",value:t,onChange:n}),s.length>0&&(0,Rb.jsx)("ul",{className:"market-suggestions",children:s.map(e=>(0,Rb.jsxs)("li",{onClick:()=>r(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]})},C_=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:t,onChange:n})]})},E_=e=>{let{images:t,uploading:n,onFileUpload:s,onRemoveImage:r,maxImages:i}=e;return(0,Rb.jsxs)("div",{className:"mpf-upload-container",children:[(0,Rb.jsxs)("label",{className:"mpf-form-label",children:["Upload Images (max ",i,")"]}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:s}),n&&(0,Rb.jsx)("p",{className:"mpf-uploading-text",children:"Uploading images..."}),(0,Rb.jsx)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"10px"},children:t.map((e,t)=>(0,Rb.jsxs)("div",{style:{position:"relative"},children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"mpf-preview-media"}),(0,Rb.jsx)("button",{type:"button",style:{position:"absolute",top:"-8px",right:"-8px",background:"red",color:"#fff",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer"},onClick:()=>r(t),children:"\u2716"})]},t))})]})},__=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:t,onChange:n})]})},T_=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Condition"}),(0,Rb.jsxs)("select",{name:"condition",value:t,onChange:n,className:"mpf-dropdown",children:[(0,Rb.jsx)("option",{value:"",children:"Select condition"}),(0,Rb.jsx)("option",{value:"New",children:"New"}),(0,Rb.jsx)("option",{value:"Used",children:"Used"})]})]})},I_=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Shipping Time"}),(0,Rb.jsxs)("select",{name:"shippingTime",value:t,onChange:n,className:"mpf-dropdown",children:[(0,Rb.jsx)("option",{value:"",children:"Select shipping time"}),(0,Rb.jsx)("option",{value:"Local Pickup",children:"Local Pickup"}),(0,Rb.jsx)("option",{value:"2-4 days",children:"2-4 days"}),(0,Rb.jsx)("option",{value:"4-7 days",children:"4-7 days"}),(0,Rb.jsx)("option",{value:"7-10 days",children:"7-10 days"})]})]})},A_=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Price"}),(0,Rb.jsx)("input",{type:"text",name:"price",placeholder:"$0.00",value:t||"",onChange:n,className:"mpf-dropdown"})]})},P_=e=>{let{formData:t,setFormData:n,locationInput:s,setLocationInput:r,suggestions:i,setSuggestions:a,selectLocation:o,handleLocationChange:l}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"directory-form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Type a city...",value:s,onChange:l,required:!0}),i.length>0&&(0,Rb.jsx)("ul",{className:"directory-suggestions",children:i.map(e=>(0,Rb.jsxs)("li",{onClick:()=>o(e),children:[e.structured_formatting.main_text,", ",e.structured_formatting.secondary_text]},e.place_id))})]})},R_=e=>{let{formData:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"directory-form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:t.link,onChange:n})]})},D_=e=>{let{formData:t,handleFileUpload:n,handleRemoveImage:s,uploading:r,MAX_IMAGES:i}=e;return(0,Rb.jsxs)("div",{className:"directory-upload-container",children:[(0,Rb.jsxs)("label",{className:"directory-form-label",children:["Upload Images (max ",i,")"]}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:n}),r&&(0,Rb.jsx)("p",{className:"directory-uploading-text",children:"Uploading images..."}),(0,Rb.jsx)("div",{className:"directory-preview-images-row",children:t.images.map((e,t)=>(0,Rb.jsxs)("div",{className:"directory-preview-wrapper",children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t+1),className:"directory-preview-media"}),(0,Rb.jsx)("button",{type:"button",onClick:()=>s(t),className:"directory-remove-image-btn",children:"\u2716"})]},t))})]})},O_=e=>{let{formData:t,handleChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"directory-form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:t.tokens,onChange:n})]})},L_=e=>{let{formData:t,handleChange:n}=e;return(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("label",{className:"directory-form-label",children:"Service Location"}),(0,Rb.jsxs)("select",{name:"serviceLocation",value:t.serviceLocation,onChange:n,className:"directory-dropdown",children:[(0,Rb.jsx)("option",{value:"",children:"Select service location"}),(0,Rb.jsx)("option",{value:"Business Address",children:"Business Address"}),(0,Rb.jsx)("option",{value:"Customer Address",children:"Customer Address"})]}),"Business Address"===t.serviceLocation&&(0,Rb.jsx)("input",{type:"text",name:"businessAddress",placeholder:"Enter business address",value:t.businessAddress,onChange:n,className:"directory-post-form-input"})]})},M_=e=>{let{formData:t,setFormData:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"directory-form-label",children:"Price"}),(0,Rb.jsx)("input",{type:"text",name:"price",placeholder:"$0.00",value:t.price||"",onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const s=parseFloat(t);t=isNaN(s)?"$0.00":"$".concat(s.toFixed(2)),n(e=>c(c({},e),{},{price:t}))},className:"directory-post-form-input"})]})},U_={Market:()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",tokens:"",images:[],condition:"",shippingTime:"",price:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)([]),g=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)g.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{g.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const v=e=>n(t=>t===e?null:e),y=e=>{const{name:t,value:n}=e.target;r(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},x="/Vrumies";return o?(0,Rb.jsx)("div",{className:"mpf-post-success-message",children:(0,Rb.jsx)("p",{children:i})}):(0,Rb.jsxs)("form",{className:"mpf-post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;if(t)try{await pf(Xp(Cb,"Posts"),c(c({},s),{},{createdAt:fa.now(),type:"market",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]})),a("\u2705 Market post added!"),l(!0)}catch(n){a("\u274c Failed to add post")}else a("\u274c You must be signed in")},children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Title"}),(0,Rb.jsx)("input",{type:"text",name:"title",value:s.title,onChange:y,required:!0}),(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:s.description,onChange:y,required:!0}),(0,Rb.jsxs)("div",{className:"mpf-toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Map-Icon.png"),alt:"Location",onClick:()=>v("location"),className:"location"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Link-Icon.png"),alt:"Link",onClick:()=>v("link"),className:"link"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Image-Icon.png"),alt:"Image",onClick:()=>v("image"),className:"image"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Token-Icon.png"),alt:"Tokens",onClick:()=>v("tokens"),className:"tokens"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Condition-Icon.png"),alt:"Condition",onClick:()=>v("condition"),className:"condition"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/ShippingTime-Icon.png"),alt:"Shipping Time",onClick:()=>v("shippingTime"),className:"shippingTime"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Price-Icon.png"),alt:"Price",onClick:()=>v("price"),className:"price"===e?"active":""})]}),"location"===e&&(0,Rb.jsx)(S_,{value:h,onChange:e=>{const t=e.target.value;if(p(t),!g.current||!t)return f([]);g.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{if("OK"!==t||!e)return f([]);f(e)})},suggestions:m,onSelect:e=>{var t,n;const s=e.terms,i=(null===(t=s[0])||void 0===t?void 0:t.value)||"",a=(null===(n=s[1])||void 0===n?void 0:n.value)||"",o="".concat(i,", ").concat(a);r(e=>c(c({},e),{},{location:o,city:i,state:a})),p(o),f([])}}),"link"===e&&(0,Rb.jsx)(C_,{value:s.link,onChange:y}),"image"===e&&(0,Rb.jsx)(E_,{images:s.images,uploading:u,onFileUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(s.images.length+t.length>7)alert("Max ".concat(7," images allowed"));else{d(!0);try{const e=await Promise.all(t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",Ib);return(await ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)).data.secure_url}));r(t=>c(c({},t),{},{images:[...t.images,...e]}))}catch(n){alert("Upload failed")}finally{d(!1)}}},onRemoveImage:e=>{r(t=>c(c({},t),{},{images:t.images.filter((t,n)=>n!==e)}))},maxImages:7}),"tokens"===e&&(0,Rb.jsx)(__,{value:s.tokens,onChange:y}),"condition"===e&&(0,Rb.jsx)(T_,{value:s.condition,onChange:y}),"shippingTime"===e&&(0,Rb.jsx)(I_,{value:s.shippingTime,onChange:y}),"price"===e&&(0,Rb.jsx)(A_,{value:s.price,onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const n=parseFloat(t);t=isNaN(n)?"$0.00":"$".concat(n.toFixed(2)),r(e=>c(c({},e),{},{price:t}))}}),(0,Rb.jsx)("button",{type:"submit",className:"mpf-submit-btn",children:"Submit"}),i&&(0,Rb.jsx)("p",{children:i})]})},Directory:()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",tokens:"",images:[],serviceLocation:"",businessAddress:"",price:""}),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)([]),g=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(window.google)g.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{g.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const v=e=>{n(t=>t===e?null:e)},y=e=>{const{name:t,value:n}=e.target;r(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},x="/Vrumies";return o?(0,Rb.jsx)("div",{className:"directory-success-message",children:(0,Rb.jsx)("p",{children:i})}):(0,Rb.jsxs)("form",{className:"directory-post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;if(!t)return void a("\u274c You must be signed in to submit a post.");const n=c(c({},s),{},{tokens:s.tokens||0,createdAt:fa.now(),type:"directory",userId:t.uid,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]});try{await pf(Xp(Cb,"Posts"),n),a("\u2705 Directory post added!"),l(!0)}catch(r){console.error("Firestore error:",r),a("\u274c Failed to add directory post.")}},children:[(0,Rb.jsx)("label",{className:"directory-form-label",children:"Title"}),(0,Rb.jsx)("input",{type:"text",name:"title",value:s.title,onChange:y,required:!0}),(0,Rb.jsx)("label",{className:"directory-form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:s.description,onChange:y,required:!0}),(0,Rb.jsxs)("div",{className:"directory-toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Map-Icon.png"),alt:"Location",onClick:()=>v("location"),className:"location"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Link-Icon.png"),alt:"Link",onClick:()=>v("link"),className:"link"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Image-Icon.png"),alt:"Images",onClick:()=>v("images"),className:"images"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Token-Icon.png"),alt:"Tokens",onClick:()=>v("tokens"),className:"tokens"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/ServiceLocation-Icon.png"),alt:"Service Location",onClick:()=>v("serviceLocation"),className:"serviceLocation"===e?"active":""}),(0,Rb.jsx)("img",{src:"".concat(x,"/PostCreationIcons/Price-Icon.png"),alt:"Price",onClick:()=>v("price"),className:"price"===e?"active":""})]}),"location"===e&&(0,Rb.jsx)(P_,{formData:s,setFormData:r,locationInput:h,setLocationInput:p,suggestions:m,setSuggestions:f,selectLocation:e=>{var t,n;const s=e.terms,i=(null===(t=s[0])||void 0===t?void 0:t.value)||"",a=(null===(n=s[1])||void 0===n?void 0:n.value)||"",o="".concat(i,", ").concat(a);r(e=>c(c({},e),{},{location:o,city:i,state:a})),p(o),f([])},handleLocationChange:e=>{const t=e.target.value;if(p(t),!g.current)return;if(!t)return f([]);const n={input:t,types:["(cities)"],componentRestrictions:{country:"us"}};g.current.getPlacePredictions(n,(e,t)=>{if("OK"!==t||!e)return f([]);f(e)})}}),"link"===e&&(0,Rb.jsx)(R_,{formData:s,handleChange:y}),"images"===e&&(0,Rb.jsx)(D_,{formData:s,handleFileUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(s.images.length+t.length>7)alert("You can upload up to ".concat(7," images."));else{d(!0);try{const e=t.map(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",Ib);return(await ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)).data.secure_url}),n=await Promise.all(e);r(e=>c(c({},e),{},{images:[...e.images,...n]}))}catch(n){console.error("Upload failed:",n),alert("Image upload failed")}finally{d(!1)}}},handleRemoveImage:e=>{r(t=>c(c({},t),{},{images:t.images.filter((t,n)=>n!==e)}))},uploading:u,MAX_IMAGES:7}),"tokens"===e&&(0,Rb.jsx)(O_,{formData:s,handleChange:y}),"serviceLocation"===e&&(0,Rb.jsx)(L_,{formData:s,handleChange:y}),"price"===e&&(0,Rb.jsx)(M_,{formData:s,setFormData:r}),(0,Rb.jsx)("button",{type:"submit",className:"directory-submit-btn",children:"Submit"}),i&&(0,Rb.jsx)("p",{children:i})]})}};const F_=function(e){let{isOpen:n,onClose:s}=e;const[r,i]=(0,t.useState)("Market");if((0,t.useEffect)(()=>{n&&i("Market")},[n]),!n)return null;const a=U_[r];return(0,Rb.jsx)("div",{className:"cspo-overlay",children:(0,Rb.jsxs)("div",{className:"cspo-overlay-content",children:[(0,Rb.jsx)("button",{className:"cspo-close-btn",onClick:s,children:"\u2715"}),(0,Rb.jsx)("h2",{className:"cspo-main-header",children:"CREATE SELLER POST"}),(0,Rb.jsx)("div",{className:"cspo-post-type-buttons",children:Object.keys(U_).map(e=>(0,Rb.jsx)("button",{className:"cspo-post-type-btn ".concat(r===e?"cspo-selected":""),onClick:()=>i(e),children:e},e))}),(0,Rb.jsxs)("h3",{className:"cspo-subtitle",children:["Creating a ",r," Post"]}),(0,Rb.jsx)("div",{className:"cspo-form-container",children:(0,Rb.jsx)(a,{onClose:s})})]})})},V_={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://uptivity.co.uk/wp-content/uploads/2021/07/female-seller-scanning-ecommerce-shipping-box-in-d-Y9FABLM-scaled.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left"},greenHighlight:{color:"#00FF00",textShadow:"2px 2px 6px #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px rgba(0,0,0,0.6)"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},bottomBar:{position:"absolute",bottom:"20px",left:"40px",right:"40px",display:"flex",justifyContent:"space-between",alignItems:"center"},createPostButton:{background:"linear-gradient(to right, #8B0000, #FF0000)",border:"none",padding:"19px 31px",borderRadius:"40px",color:"#fff",fontSize:"24px",fontWeight:"700",cursor:"pointer",boxShadow:"0px 2px 6px rgba(0,0,0,0.4)",marginTop:"80px"},balanceContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px",backgroundColor:"black",padding:"18px 30px",borderRadius:"8px"},balanceLabel:{fontSize:"14px",fontWeight:"600",color:"#aaa",textTransform:"uppercase"},balanceValue:{fontSize:"42px",fontWeight:"900",color:"#fff",alignSelf:"center"},payoutButton:{background:"linear-gradient(to right, #800080, #FF00FF)",border:"none",padding:"15px 80px",borderRadius:"40px",color:"#fff",fontSize:"20px",fontWeight:"700",cursor:"pointer",boxShadow:"0px 2px 6px rgba(0,0,0,0.4)"}},z_=()=>{const[e,n]=(0,t.useState)(!1),[s,r]=(0,t.useState)(!1);return(0,Rb.jsxs)("div",{style:c(c({},V_.container),{},{height:"260px"}),children:[(0,Rb.jsxs)("div",{style:V_.leftSide,children:[(0,Rb.jsx)("h1",{style:V_.title,children:(0,Rb.jsx)("span",{style:V_.greenHighlight,children:"SELLER"})}),(0,Rb.jsx)("p",{style:V_.subtitle,children:"View and track your customer orders here."})]}),(0,Rb.jsx)("div",{style:V_.rightSide,children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/request-icon.png"),alt:"OrdersPage Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})}),(0,Rb.jsxs)("div",{style:V_.bottomBar,children:[(0,Rb.jsx)("button",{style:V_.createPostButton,onClick:()=>r(!0),children:"Create Sell Post"}),(0,Rb.jsxs)("div",{style:V_.balanceContainer,children:[(0,Rb.jsx)("div",{style:V_.balanceLabel,children:"TOTAL BALANCE"}),(0,Rb.jsx)("div",{style:V_.balanceValue,children:"$56.95"}),(0,Rb.jsx)("button",{style:V_.payoutButton,onClick:()=>n(!0),children:"Payout Methods"})]})]}),e&&(0,Rb.jsx)(N_,{onClose:()=>n(!1)}),s&&(0,Rb.jsx)(F_,{onClose:()=>r(!1),isOpen:s})]})};function B_(e){let{orderId:n}=e;const[s,r]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,s,i,a,o;const l=Jp(Cb,"Orders",n),c=await of(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",m=!0===(null===u||void 0===u||null===(s=u.buyerInfo)||void 0===s?void 0:s.buyerDispute),f=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";m||f?y="dispute":!m&&!f&&g&&v&&(y="completed"),r({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("div",{className:"market-card-title",children:s.title}),(0,Rb.jsxs)("div",{className:"market-card-bottom",children:[(0,Rb.jsx)("span",{className:"market-card-type",children:s.type}),(0,Rb.jsx)("span",{className:"market-card-date",children:s.date}),(0,Rb.jsx)("span",{className:"market-card-status status-".concat(s.status.replace(" ","-")),children:s.status})]})]})}function q_(e){let{orderId:n}=e;const[s,r]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,s,i,a,o;const l=Jp(Cb,"Orders",n),c=await of(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",m=!0===(null===u||void 0===u||null===(s=u.buyerInfo)||void 0===s?void 0:s.buyerDispute),f=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";m||f?y="dispute":!m&&!f&&g&&v&&(y="completed"),r({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("div",{className:"event-card-title",children:s.title}),(0,Rb.jsxs)("div",{className:"event-card-bottom",children:[(0,Rb.jsx)("span",{className:"event-card-type",children:s.type}),(0,Rb.jsx)("span",{className:"event-card-date",children:s.date}),(0,Rb.jsx)("span",{className:"event-card-status status-".concat(s.status.replace(" ","-")),children:s.status})]})]})}function H_(e){let{orderId:n}=e;const[s,r]=(0,t.useState)({title:"N/A",date:"N/A",status:"in progress",type:"N/A"});return(0,t.useEffect)(()=>{!async function(){try{var e,t,s,i,a,o;const l=Jp(Cb,"Orders",n),c=await of(l);if(!c.exists())return;const u=c.data(),d=(null===u||void 0===u?void 0:u.type)||"N/A",h=(null===u||void 0===u||null===(e=u.postData)||void 0===e?void 0:e.title)||"N/A",p=null!==u&&void 0!==u&&null!==(t=u.orderCreated)&&void 0!==t&&t.toDate?u.orderCreated.toDate().toLocaleDateString():"N/A",m=!0===(null===u||void 0===u||null===(s=u.buyerInfo)||void 0===s?void 0:s.buyerDispute),f=!0===(null===u||void 0===u||null===(i=u.sellerInfo)||void 0===i?void 0:i.sellerDispute),g=!0===(null===u||void 0===u||null===(a=u.buyerInfo)||void 0===a?void 0:a.buyerMarkedCompleted),v=!0===(null===u||void 0===u||null===(o=u.sellerInfo)||void 0===o?void 0:o.sellerMarkedCompleted);let y="in progress";m||f?y="dispute":!m&&!f&&g&&v&&(y="completed"),r({title:h,date:p,status:y,type:d})}catch(l){console.error("Error fetching order:",l)}}()},[n]),(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)("div",{className:"directory-card-title",children:s.title}),(0,Rb.jsxs)("div",{className:"directory-card-bottom",children:[(0,Rb.jsx)("span",{className:"directory-card-type",children:s.type}),(0,Rb.jsx)("span",{className:"directory-card-date",children:s.date}),(0,Rb.jsx)("span",{className:"directory-card-status status-".concat(s.status.replace(" ","-")),children:s.status})]})]})}function W_(e){let{selectedOrder:n,onCardClick:s}=e;const{currentUser:r}=pC(),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!r)return;(async()=>{try{const e=Bm(Xp(Cb,"Orders"),Hm("sellerInfo.sellerId","==",r.uid),Hm("paymentInfo.paymentSuccessful","==",!0)),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));t.sort((e,t)=>t.orderCreated.seconds-e.orderCreated.seconds),a(t)}catch(e){console.error("Error fetching user orders:",e)}finally{l(!1)}})()},[r]);return r?(0,Rb.jsxs)("div",{className:"osp-panel",children:[(0,Rb.jsx)("h2",{className:"osp-title",children:"SELLER ORDERS"}),(0,Rb.jsx)("div",{className:"osp-list",children:o?(0,Rb.jsx)("div",{children:"Loading orders..."}):i.length>0?i.map(e=>(e=>{let t;switch(e.type){case"market":t=B_;break;case"offer":t=q_;break;case"directory":t=H_;break;default:return null}return(0,Rb.jsx)("div",{className:"osp-card ".concat((null===n||void 0===n?void 0:n.id)===e.id?"selected-card":""),onClick:()=>s(e),children:(0,Rb.jsx)(t,{orderId:e.id})},e.id)})(e)):(0,Rb.jsx)("div",{children:"No orders found."})})]}):(0,Rb.jsx)("div",{children:"Please log in to see your orders."})}function K_(e){let{orderId:n}=e;const[s,r]=(0,t.useState)(null),[i,a]=(0,t.useState)("N/A"),o=me();if((0,t.useEffect)(()=>{n&&(async()=>{try{const m=Jp(Cb,"Orders",n),f=await of(m);if(f.exists()){var e,t,s,i,o,l,c,u,d,h,p;const n=f.data(),m=(null===(e=n.buyerInfo)||void 0===e?void 0:e.buyerId)||n.buyerId;if(m){const e=Jp(Cb,"Users",m),t=await of(e);t.exists()&&a(t.data().username||"N/A")}let g="N/A";null!==n&&void 0!==n&&n.orderCreated&&(n.orderCreated.toDate?g=n.orderCreated.toDate().toLocaleDateString():n.orderCreated.seconds&&(g=new Date(1e3*n.orderCreated.seconds).toLocaleDateString()));let v=0;if(null!==(t=n.postData)&&void 0!==t&&t.price){const e=n.postData.price.toString().replace("$","");v=parseFloat(e)||0}r({date:g,type:n.type||"N/A",id:f.id||"N/A",serviceAddress:n.deliveryInfo?"".concat(n.deliveryInfo.deliveryStreetAddress||""," ").concat(n.deliveryInfo.deliveryCity||""," ").concat(n.deliveryInfo.deliveryState||""," ").concat(n.deliveryInfo.deliveryZipCode||""):"N/A",image:(null===(s=n.postData)||void 0===s||null===(i=s.images)||void 0===i?void 0:i[0])||null,title:(null===(o=n.postData)||void 0===o?void 0:o.title)||"N/A",description:(null===(l=n.postData)||void 0===l?void 0:l.description)||"N/A",price:v,postId:(null===(c=n.postData)||void 0===c?void 0:c.postId)||"N/A",paymentMethod:(null===(u=n.paymentInfo)||void 0===u?void 0:u.paymentmethod)||(null===(d=n.paymentInfo)||void 0===d?void 0:d.paymentMethod)||"N/A",lastFour:(null===(h=n.paymentInfo)||void 0===h?void 0:h.lastfour)||(null===(p=n.paymentInfo)||void 0===p?void 0:p.lastFour)||"N/A",buyerMarketCompleted:n.buyerMarketCompleted||!1,buyerDispute:n.buyerDispute||!1,sellerDispute:n.sellerDispute||!1})}else r(null)}catch(m){console.error("Error fetching order:",m),r(null)}})()},[n]),!s)return(0,Rb.jsx)("p",{children:"Loading order..."});const l=(.15*s.price).toFixed(2),c=(s.price+parseFloat(l)).toFixed(2);let u=[{label:"Order Started",active:!0},{label:"Marked Completed by Buyer",active:s.buyerMarketCompleted},{label:"Completed",active:s.buyerMarketCompleted}];return(s.buyerDispute||s.sellerDispute)&&u.push({label:"Dispute",active:!0}),(0,Rb.jsxs)("div",{className:"seller-order-details-panel",children:[(0,Rb.jsx)("h2",{className:"seller-panel-title",children:"ORDER DETAILS"}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Order Details"}),(0,Rb.jsxs)("div",{className:"seller-order-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Date"}),(0,Rb.jsx)("p",{children:s.date})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Type"}),(0,Rb.jsx)("p",{children:s.type})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Order ID"}),(0,Rb.jsx)("p",{children:s.id})]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Service Address"}),(0,Rb.jsx)("p",{children:s.serviceAddress})]})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Ordered Items"}),(0,Rb.jsxs)("div",{className:"seller-item-card",children:[s.image&&(0,Rb.jsx)("img",{src:s.image,alt:"Product"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Title"}),(0,Rb.jsx)("p",{children:s.title})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Description"}),(0,Rb.jsx)("p",{children:s.description})]}),s.postId&&(0,Rb.jsx)("button",{className:"seller-btn-view",onClick:()=>o("/directorypost/".concat(s.postId)),children:"View Post"})]})]})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Payment Information"}),(0,Rb.jsxs)("div",{className:"seller-payment-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Price"}),(0,Rb.jsxs)("p",{children:["$",s.price.toFixed(2)]}),(0,Rb.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Rb.jsxs)("p",{children:["$",l]}),(0,Rb.jsx)("strong",{children:"Total"}),(0,Rb.jsxs)("p",{children:["$",c]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Payment Method"}),(0,Rb.jsx)("p",{children:s.paymentMethod}),(0,Rb.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Rb.jsx)("p",{children:s.lastFour})]})]})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Buyer Information"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Buyer"}),(0,Rb.jsx)("p",{children:i})]}),(0,Rb.jsx)("button",{className:"seller-btn-message",children:"Message User"})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Status"}),(0,Rb.jsx)("div",{className:"seller-timeline-wrapper",children:u.map((e,n)=>(0,Rb.jsxs)(t.Fragment,{children:[(0,Rb.jsxs)("div",{className:"seller-timeline-step",children:[(0,Rb.jsx)("div",{className:"seller-circle ".concat(e.active?"active":""),children:e.active&&(0,Rb.jsx)(BN,{})}),(0,Rb.jsx)("p",{className:"seller-timeline-label ".concat(e.active?"seller-active-label":""),children:e.label})]}),n<u.length-1&&(0,Rb.jsx)("div",{className:"seller-arrow",children:"\u2192"})]},n))}),(0,Rb.jsxs)("div",{className:"seller-status-buttons",children:[(0,Rb.jsx)("button",{className:"seller-btn-complete",children:"Mark as Completed"}),(0,Rb.jsx)("button",{className:"seller-btn-dispute",children:"Dispute"})]})]})]})}function G_(e){var n,s,r,i,a,o,l,u,d,h,p,m,f;let{orderId:g}=e;const[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)("N/A"),w=me();if((0,t.useEffect)(()=>{g&&(async()=>{try{const t=Jp(Cb,"Orders",g),n=await of(t);if(n.exists()){var e;const t=n.data();if(y(c(c({},t),{},{id:n.id})),null!==(e=t.buyerInfo)&&void 0!==e&&e.buyerId){const e=Jp(Cb,"Users",t.buyerInfo.buyerId),n=await of(e);n.exists()&&b(n.data().username||"N/A")}}}catch(t){console.error("Error fetching event order:",t)}})()},[g]),!v)return(0,Rb.jsx)("div",{className:"seller-event-details-panel",children:"Loading order..."});const j=null!==(n=v.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*v.orderCreated.seconds).toLocaleDateString():"N/A",k=v.type||"N/A",N=v.id||"N/A",S=(null===(s=v.postData)||void 0===s||null===(r=s.images)||void 0===r?void 0:r[0])||"",C=(null===(i=v.postData)||void 0===i?void 0:i.title)||"N/A",E=(null===(a=v.postData)||void 0===a?void 0:a.description)||"N/A",_=(null===(o=v.postData)||void 0===o||null===(l=o.price)||void 0===l?void 0:l.replace("$",""))||"0",T=parseFloat(_)||0,I=(.15*T).toFixed(2),A=(T+parseFloat(I)).toFixed(2),P=(null===(u=v.paymentInfo)||void 0===u?void 0:u.paymentmethod)||"N/A",R=(null===(d=v.paymentInfo)||void 0===d?void 0:d.lastfour)||"N/A",D=(null===(h=v.postData)||void 0===h?void 0:h.postId)||"",O=(null===(p=v.buyerInfo)||void 0===p?void 0:p.buyerMarkedCompleted)||!1,L=(null===(m=v.buyerInfo)||void 0===m?void 0:m.buyerDispute)||!1,M=(null===(f=v.sellerInfo)||void 0===f?void 0:f.sellerDispute)||!1;let U=[{label:"Order Started",active:!0},{label:"Marked Completed by Buyer",active:O},{label:"Completed",active:O}];return(L||M)&&U.push({label:"Dispute",active:!0}),(0,Rb.jsxs)("div",{className:"seller-event-details-panel",children:[(0,Rb.jsx)("h2",{className:"seller-panel-title",children:"ORDER DETAILS"}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Order Details"}),(0,Rb.jsxs)("div",{className:"seller-order-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Date"}),(0,Rb.jsx)("p",{children:j})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Type"}),(0,Rb.jsx)("p",{children:k})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Order ID"}),(0,Rb.jsx)("p",{children:N})]})]})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Ordered Items"}),(0,Rb.jsxs)("div",{className:"seller-item-card",children:[S&&(0,Rb.jsx)("img",{src:S,alt:"Event"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Title"}),(0,Rb.jsx)("p",{children:C})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Description"}),(0,Rb.jsx)("p",{children:E})]}),D&&(0,Rb.jsx)("button",{className:"seller-btn-view",onClick:()=>w("/eventpost/".concat(D)),children:"View Post"})]})]})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Payment Information"}),(0,Rb.jsxs)("div",{className:"seller-payment-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Price"}),(0,Rb.jsxs)("p",{children:["$",T.toFixed(2)]}),(0,Rb.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Rb.jsxs)("p",{children:["$",I]}),(0,Rb.jsx)("strong",{children:"Total"}),(0,Rb.jsxs)("p",{children:["$",A]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Payment Method"}),(0,Rb.jsx)("p",{children:P}),(0,Rb.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Rb.jsx)("p",{children:R})]})]})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Buyer Information"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Buyer"}),(0,Rb.jsx)("p",{children:x})]}),(0,Rb.jsx)("button",{className:"seller-btn-message",children:"Message User"})]}),(0,Rb.jsxs)("section",{className:"seller-section",children:[(0,Rb.jsx)("h3",{children:"Status"}),(0,Rb.jsx)("div",{className:"seller-timeline-wrapper",children:U.map((e,n)=>(0,Rb.jsxs)(t.Fragment,{children:[(0,Rb.jsxs)("div",{className:"seller-timeline-step",children:[(0,Rb.jsx)("div",{className:"seller-circle ".concat(e.active?"active":""),children:e.active&&(0,Rb.jsx)(BN,{})}),(0,Rb.jsx)("p",{className:"seller-timeline-label ".concat(e.active?"seller-active-label":""),children:e.label})]}),n<U.length-1&&(0,Rb.jsx)("div",{className:"seller-arrow",children:"\u2192"})]},n))}),(0,Rb.jsxs)("div",{className:"seller-status-buttons",children:[(0,Rb.jsx)("button",{className:"seller-btn-complete",children:"Mark as Completed"}),(0,Rb.jsx)("button",{className:"seller-btn-dispute",children:"Dispute"})]})]})]})}function Q_(e){var n,s,r,i,a,o,l,u,d,h,p,m,f;let{orderId:g}=e;const[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)("N/A"),[w,j]=(0,t.useState)(""),[k,N]=(0,t.useState)(""),S=me();(0,t.useEffect)(()=>{g&&(async()=>{try{const s=Jp(Cb,"Orders",g),r=await of(s);if(r.exists()){var e,t,n;const s=r.data();if(y(c(c({},s),{},{id:r.id})),j((null===(e=s.marketSpecific)||void 0===e?void 0:e.Carrier)||""),N((null===(t=s.marketSpecific)||void 0===t?void 0:t.trackingNumber)||""),null!==(n=s.buyerInfo)&&void 0!==n&&n.buyerId){const e=Jp(Cb,"Users",s.buyerInfo.buyerId),t=await of(e);t.exists()&&b(t.data().username||"N/A")}}else y(null)}catch(s){console.error("Error fetching order:",s),y(null)}})()},[g]);if(!v)return(0,Rb.jsx)("div",{className:"sm-panel",children:"Loading order..."});const C=null!==(n=v.orderCreated)&&void 0!==n&&n.seconds?new Date(1e3*v.orderCreated.seconds).toLocaleDateString():"N/A",E=v.type||"N/A",_=v.id||"N/A",T=v.deliveryInfo?"".concat(v.deliveryInfo.deliveryStreetAddress||""," ").concat(v.deliveryInfo.deliveryCity||""," ").concat(v.deliveryInfo.deliveryState||""," ").concat(v.deliveryInfo.deliveryZipCode||""):"N/A",I=(null===(s=v.postData)||void 0===s||null===(r=s.images)||void 0===r?void 0:r[0])||"",A=(null===(i=v.postData)||void 0===i?void 0:i.title)||"N/A",P=(null===(a=v.postData)||void 0===a?void 0:a.description)||"N/A",R=(null===(o=v.postData)||void 0===o||null===(l=o.price)||void 0===l?void 0:l.replace("$",""))||"0",D=parseFloat(R)||0,O=(.15*D).toFixed(2),L=(D+parseFloat(O)).toFixed(2),M=(null===(u=v.paymentInfo)||void 0===u?void 0:u.paymentmethod)||"N/A",U=(null===(d=v.paymentInfo)||void 0===d?void 0:d.lastfour)||"N/A",F=(null===(h=v.postData)||void 0===h?void 0:h.postId)||"",V=(null===(p=v.buyerInfo)||void 0===p?void 0:p.buyerMarkedCompleted)||!1,z=(null===(m=v.buyerInfo)||void 0===m?void 0:m.buyerDispute)||!1,B=(null===(f=v.sellerInfo)||void 0===f?void 0:f.sellerDispute)||!1;let q=[{label:"Order Started",active:!0},{label:"Marked Completed by Buyer",active:V},{label:"Completed",active:V}];return(z||B)&&q.push({label:"Dispute",active:!0}),(0,Rb.jsxs)("div",{className:"sm-panel",children:[(0,Rb.jsx)("h2",{className:"sm-title",children:"ORDER DETAILS"}),(0,Rb.jsxs)("section",{className:"sm-section",children:[(0,Rb.jsx)("h3",{children:"Order Details"}),(0,Rb.jsxs)("div",{className:"sm-info",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Date"}),(0,Rb.jsx)("p",{children:C})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Type"}),(0,Rb.jsx)("p",{children:E})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Order ID"}),(0,Rb.jsx)("p",{children:_})]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Shipping Address"}),(0,Rb.jsx)("p",{children:T})]}),(0,Rb.jsxs)("div",{className:"sm-tracking-fields",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Carrier"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Enter Carrier (e.g., FEDEX)",value:w,onChange:e=>j(e.target.value)})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Tracking Number"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Enter Tracking Number",value:k,onChange:e=>N(e.target.value)})]})]}),(0,Rb.jsxs)("div",{className:"sm-tracking-btn-wrapper",children:[(0,Rb.jsx)("button",{className:"sm-btn-save",onClick:async()=>{if(g)try{const e=Jp(Cb,"Orders",g);await df(e,{"marketSpecific.Carrier":w,"marketSpecific.trackingNumber":k}),alert("Tracking info saved!")}catch(e){console.error("Error saving tracking info:",e)}},children:"Save"}),(0,Rb.jsx)("button",{className:"sm-btn-clear",onClick:()=>{j(""),N("")},children:"Clear"})]})]}),(0,Rb.jsxs)("section",{className:"sm-section",children:[(0,Rb.jsx)("h3",{children:"Ordered Items"}),(0,Rb.jsxs)("div",{className:"sm-item",children:[I&&(0,Rb.jsx)("img",{src:I,alt:"Product"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Title"}),(0,Rb.jsx)("p",{children:A})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Description"}),(0,Rb.jsx)("p",{children:P})]}),F&&(0,Rb.jsx)("button",{className:"sm-btn-view",onClick:()=>S("/marketpost/".concat(F)),children:"View Post"})]})]})]}),(0,Rb.jsxs)("section",{className:"sm-section",children:[(0,Rb.jsx)("h3",{children:"Payment Information"}),(0,Rb.jsxs)("div",{className:"sm-payment",children:[(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Price"}),(0,Rb.jsxs)("p",{children:["$",D.toFixed(2)]}),(0,Rb.jsx)("strong",{children:"Transaction Fee (15%)"}),(0,Rb.jsxs)("p",{children:["$",O]}),(0,Rb.jsx)("strong",{children:"Total"}),(0,Rb.jsxs)("p",{children:["$",L]})]}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Payment Method"}),(0,Rb.jsx)("p",{children:M}),(0,Rb.jsx)("strong",{children:"Last 4 digits of Card"}),(0,Rb.jsx)("p",{children:U})]})]})]}),(0,Rb.jsxs)("section",{className:"sm-section",children:[(0,Rb.jsx)("h3",{children:"Buyer Information"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("strong",{children:"Buyer"}),(0,Rb.jsx)("p",{children:x})]}),(0,Rb.jsx)("button",{className:"sm-btn-message",children:"Message User"})]}),(0,Rb.jsxs)("section",{className:"sm-section",children:[(0,Rb.jsx)("h3",{children:"Status"}),(0,Rb.jsx)("div",{className:"sm-timeline-wrapper",children:q.map((e,n)=>(0,Rb.jsxs)(t.Fragment,{children:[(0,Rb.jsxs)("div",{className:"sm-timeline-step",children:[(0,Rb.jsx)("div",{className:"sm-circle ".concat(e.active?"active":""),children:e.active&&(0,Rb.jsx)(BN,{})}),(0,Rb.jsx)("p",{className:"sm-timeline-label ".concat(e.active?"active-label":""),children:e.label})]}),n<q.length-1&&(0,Rb.jsx)("div",{className:"sm-arrow",children:"\u2192"})]},n))}),(0,Rb.jsxs)("div",{className:"sm-status-buttons",children:[(0,Rb.jsx)("button",{className:"sm-btn-complete",children:"Mark as Completed"}),(0,Rb.jsx)("button",{className:"sm-btn-dispute",children:"Dispute"})]})]})]})}function Y_(){const[e,n]=(0,t.useState)(null);return(0,Rb.jsxs)("div",{className:"orders-body-container",children:[(0,Rb.jsx)(W_,{selectedOrder:e,onCardClick:e=>n(e)}),(0,Rb.jsx)("div",{className:"orders-body-right",children:(()=>{if(!e)return(0,Rb.jsx)("div",{children:"Select an order to see details"});const{id:t,type:n}=e;switch(n){case"market":return(0,Rb.jsx)(Q_,{orderId:t});case"offer":return(0,Rb.jsx)(G_,{orderId:t});case"directory":return(0,Rb.jsx)(K_,{orderId:t});default:return(0,Rb.jsx)("div",{children:"Unknown order type"})}})()})]})}const $_=()=>(0,Rb.jsxs)("div",{className:"content-page",children:[(0,Rb.jsx)(z_,{}),(0,Rb.jsx)(Y_,{})]});const X_=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(0),[d,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)("description"),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(""),[k,N]=(0,t.useState)(!1),{currentUser:S}=pC(),C=me();(0,t.useEffect)(()=>{(async()=>{h(!0);try{const n=Jp(Cb,"Posts",r),s=await of(n);if(!s.exists())return void h(!1);const i=s.data();a(i);const o=Jp(Cb,"Users",i.userId),c=await of(o);if(l(c.exists()?c.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),S){const t=Jp(Cb,"Users",S.uid),n=await of(t);if(n.exists()){var e;const t=n.data();y((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(r))||!1)}}if(S){var t;const e=(null===(t=i.report)||void 0===t?void 0:t.includes(S.uid))||!1;b(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{h(!1)}})()},[r,S]);const E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(d)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!i)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const _=i.images&&i.images.length>0?i.images:["".concat("/Vrumies","/default-thumbnail.png")],T=i.title||"Title not available",I=i.description||"Description not available",A=i.createdAt?new Date(1e3*i.createdAt.seconds).toLocaleDateString():"Date not available",P=(null===o||void 0===o?void 0:o.username)||"Seller info not available",R=(null===o||void 0===o?void 0:o.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[w&&(0,Rb.jsx)("div",{className:"copy-notification",children:w}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / EVENTS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",A]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:T.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:R,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:P}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(i.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[i.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(k?"follow-active":""),onClick:()=>{N(!k),E(k?"Unfollowed":"Followed",2e3)},children:k?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(S&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void E("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",S.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:S.uid,userB:e,participants:[S.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:S.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[S.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}C("/inbox?chat=".concat(i))}catch(t){console.error(t),E("Error messaging user",4e3)}})(i.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===p?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===p?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===p?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===p&&(0,Rb.jsx)("p",{className:"description",children:I}),"details"===p&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=i.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=i.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",i.link?(0,Rb.jsx)("a",{href:(D=i.link,D?D.startsWith("http")?D:"https://".concat(D):null),target:"_blank",rel:"noopener noreferrer",children:i.link}):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Event Date:"})," ",i.eventDateTime?new Date(1e3*i.eventDateTime.seconds).toLocaleDateString():"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Event Time:"})," ",i.eventDateTime?new Date(1e3*i.eventDateTime.seconds).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A"]})]}),"reviews"===p&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(f?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{E("URL copied!",2e3),g(!0),setTimeout(()=>g(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(v?"active":""),onClick:async()=>{if(!S)return;const e=Jp(Cb,"Users",S.uid);try{v?(await df(e,{bookmarks:wf(r)}),y(!1),E("Removed from bookmarks")):(await df(e,{bookmarks:bf(r)}),y(!0),E("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(x?"active":""),onClick:async()=>{if(!S)return;const e=Jp(Cb,"Posts",r);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(S.uid)?(await df(e,{report:wf(S.uid)}),b(!1),E("Report removed")):(await df(e,{report:bf(S.uid)}),b(!0),E("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsx)("div",{className:"price-row",children:(0,Rb.jsxs)("span",{className:"price",children:["Event Date: ",(0,Rb.jsx)("span",{className:"eventdate-highlighted",children:i.eventDateTime?new Date(1e3*i.eventDateTime.seconds).toLocaleString():"N/A"})]})})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:_[c],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:_[c],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>u((c-1+_.length)%_.length)}),_.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===c?"active":""),onClick:()=>u(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>u((c+1)%_.length)})]})]})]});var D};const J_=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const Z_=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","event")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading event posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Events"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(TS,c(c({},e),{},{compact:!0}),e.id))})]})},eT=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"event"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Event Post",backgroundUrl:"https://images.squarespace-cdn.com/content/v1/6598c8e83ff0af0197ff19f9/a05c7d5e-3711-48bb-a4c8-f3ce0f076355/JCCI-2024-Banner.jpg"}),(0,Rb.jsx)(X_,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(J_,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(Z_,{})})]})]})};const tT=function(e){var n,s,r,i,a;let{postId:o}=e;const[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(0),[m,f]=(0,t.useState)(!0),[g,v]=(0,t.useState)("description"),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(!1),[N,S]=(0,t.useState)(""),[C,E]=(0,t.useState)(!1),{currentUser:_}=pC(),T=me();(0,t.useEffect)(()=>{(async()=>{f(!0);try{const n=Jp(Cb,"Posts",o),s=await of(n);if(!s.exists())return void f(!1);const r=s.data();c(r);const i=Jp(Cb,"Users",r.userId),a=await of(i);if(d(a.exists()?a.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),_){const t=Jp(Cb,"Users",_.uid),n=await of(t);if(n.exists()){var e;const t=n.data();w((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(o))||!1)}}if(_){var t;const e=(null===(t=r.report)||void 0===t?void 0:t.includes(_.uid))||!1;k(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{f(!1)}})()},[o,_]);const I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;S(e),setTimeout(()=>S(""),t)};if(m)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!l)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const A=l.images&&l.images.length>0?l.images:["".concat("/Vrumies","/default-thumbnail.png")],P=l.title||"Title not available",R=l.description||"Description not available",D=l.createdAt?new Date(1e3*l.createdAt.seconds).toLocaleDateString():"Date not available",O=(null===u||void 0===u?void 0:u.username)||"Seller info not available",L=(null===u||void 0===u?void 0:u.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[N&&(0,Rb.jsx)("div",{className:"copy-notification",children:N}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / DIRECTORY"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",D]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:P.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:L,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:O}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(l.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[l.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(C?"follow-active":""),onClick:()=>{E(!C),I(C?"Unfollowed":"Followed",2e3)},children:C?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(_&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void I("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",_.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:_.uid,userB:e,participants:[_.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:_.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[_.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}T("/inbox?chat=".concat(i))}catch(t){console.error(t),I("Error messaging user",4e3)}})(l.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===g?"active":""),onClick:()=>v("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===g?"active":""),onClick:()=>v("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===g?"active":""),onClick:()=>v("reviews"),children:"SELLER REVIEWS"})]}),"description"===g&&(0,Rb.jsx)("p",{className:"description",children:R}),"details"===g&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=l.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=l.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",l.link?(0,Rb.jsx)("a",{href:(M=l.link,M?M.startsWith("http")?M:"https://".concat(M):null),target:"_blank",rel:"noopener noreferrer",children:l.link}):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Service Location:"})," "," ",null!==(r=l.serviceLocation)&&void 0!==r?r:"N/A"]}),"Business Address"===l.serviceLocation&&(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Business Address:"})," "," ",null!==(i=l.businessAddress)&&void 0!==i?i:"N/A"]})]}),"reviews"===g&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(y?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{I("URL copied!",2e3),x(!0),setTimeout(()=>x(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(b?"active":""),onClick:async()=>{if(!_)return;const e=Jp(Cb,"Users",_.uid);try{b?(await df(e,{bookmarks:wf(o)}),w(!1),I("Removed from bookmarks")):(await df(e,{bookmarks:bf(o)}),w(!0),I("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(j?"active":""),onClick:async()=>{if(!_)return;const e=Jp(Cb,"Posts",o);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(_.uid)?(await df(e,{report:wf(_.uid)}),k(!1),I("Report removed")):(await df(e,{report:bf(_.uid)}),k(!0),I("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsxs)("div",{className:"price-row",children:[(0,Rb.jsx)("span",{className:"price",children:null!==(a=l.price)&&void 0!==a?a:"Price: N/A"}),(0,Rb.jsx)("button",{className:"addtoCart",onClick:async()=>{if(_)try{var e;const t=Jp(Xp(Cb,"Users",_.uid,"cart"),o);if((await of(t)).exists())return void alert("Already in cart");await uf(t,{postId:o,title:l.title||"Untitled",price:l.price||0,sellerId:l.userId,sellerName:(null===u||void 0===u?void 0:u.username)||"Unknown Seller",sellerAvatar:(null===u||void 0===u?void 0:u.profilepic)||"".concat("/Vrumies","/default-profile.png"),image:(null===(e=l.images)||void 0===e?void 0:e[0])||"".concat("/Vrumies","/default-thumbnail.png"),reviews:l.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:A[h],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:A[h],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>p((h-1+A.length)%A.length)}),A.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===h?"active":""),onClick:()=>p(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>p((h+1)%A.length)})]})]})]});var M};const nT=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const sT=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","directory")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading directory posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Directory"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(AS,c(c({},e),{},{compact:!0}),e.id))})]})},rT=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"directory"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Directory Post",backgroundUrl:"https://assets.goaaa.com/image/upload/w_2880,c_fill,q_auto,f_auto/v1742591982/AAAGilbert-428_retouched.jpg"}),(0,Rb.jsx)(tT,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(nT,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(sT,{})})]})]})};const iT=function(e){var n,s,r;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[m,f]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:C}=pC(),E=me();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Jp(Cb,"Posts",i),s=await of(n);if(!s.exists())return void p(!1);const r=s.data();o(r);const a=Jp(Cb,"Users",r.userId),l=await of(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),C){const t=Jp(Cb,"Users",C.uid),n=await of(t);if(n.exists()){var e;const t=n.data();x((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(C){var t;const e=(null===(t=r.report)||void 0===t?void 0:t.includes(C.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,C]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;k(e),setTimeout(()=>k(""),t)};if(h)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["".concat("/Vrumies","/default-thumbnail.png")],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[j&&(0,Rb.jsx)("div",{className:"copy-notification",children:j}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / CUSTOM OFFERS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:R}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(C&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void _("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",C.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:C.uid,userB:e,participants:[C.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:C.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[C.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}E("/inbox?chat=".concat(i))}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===m?"active":""),onClick:()=>f("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===m?"active":""),onClick:()=>f("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===m?"active":""),onClick:()=>f("reviews"),children:"SELLER REVIEWS"})]}),"description"===m&&(0,Rb.jsx)("p",{className:"description",children:A}),"details"===m&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=a.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",a.link?(0,Rb.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:"https://".concat(O):null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===m&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(y?"active":""),onClick:async()=>{if(!C)return;const e=Jp(Cb,"Users",C.uid);try{y?(await df(e,{bookmarks:wf(i)}),x(!1),_("Removed from bookmarks")):(await df(e,{bookmarks:bf(i)}),x(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(b?"active":""),onClick:async()=>{if(!C)return;const e=Jp(Cb,"Posts",i);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(C.uid)?(await df(e,{report:wf(C.uid)}),w(!1),_("Report removed")):(await df(e,{report:bf(C.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsxs)("div",{className:"price-row",children:[(0,Rb.jsx)("span",{className:"price",children:null!==(r=a.price)&&void 0!==r?r:"Price: N/A"}),(0,Rb.jsx)("button",{className:"addtoCart",onClick:async()=>{if(C)try{var e;const t=Jp(Xp(Cb,"Users",C.uid,"cart"),i);if((await of(t)).exists())return void alert("Already in cart");await uf(t,{postId:i,title:a.title||"Untitled",price:a.price||0,sellerId:a.userId,sellerName:(null===l||void 0===l?void 0:l.username)||"Unknown Seller",sellerAvatar:(null===l||void 0===l?void 0:l.profilepic)||"".concat("/Vrumies","/default-profile.png"),image:(null===(e=a.images)||void 0===e?void 0:e[0])||"".concat("/Vrumies","/default-thumbnail.png"),reviews:a.sellerReviews||0,addedAt:new Date}),alert("Item added to cart!")}catch(t){console.error(t)}else alert("Login required")},children:"ADD TO CART"})]})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===u?"active":""),onClick:()=>d(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const aT=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const oT=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a,price:o}=e;const[l,c]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[u,d]=(0,t.useState)("Unknown"),[h,p]=(0,t.useState)(0),[m,f]=(0,t.useState)(0),[g,v]=(0,t.useState)(0),[y,x]=(0,t.useState)(0),b=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";return(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();d(e.username||"Unknown"),c(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();p(e.likesCounter||0),f(e.dislikesCounter||0),x(e.tokens||0)}const s=await cf(Xp(Cb,"Posts",n,"comments"));v(s.size)}catch(e){console.error("Error fetching post stats:",e)}})()},[n]),(0,Rb.jsxs)(vt,{to:"/offerpost/".concat(n),className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:l,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:u}),(0,Rb.jsx)("span",{className:"date",children:b})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsxs)("div",{className:"thumbnail-container",children:[o&&(0,Rb.jsx)("span",{className:"price-overlay",children:o}),(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Event Thumbnail",className:"thumbnail"})]}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),h]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),m]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),y]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),g]})]})]})]})};const lT=function(){const{id:e}=fe(),[n,s]=(0,t.useState)(null),[r,i]=(0,t.useState)([]);return(0,t.useEffect)(()=>{if(!e)return;(async()=>{try{const n=Jp(Cb,"Posts",e),r=await of(n);if(r.exists()){var t;const n=r.data();s(null!==(t=n.originalPost)&&void 0!==t?t:e)}}catch(n){console.error("Error loading original post:",n)}})()},[e]),(0,t.useEffect)(()=>{if(!n)return;(async()=>{try{const t=Bm(Xp(Cb,"Posts"),Hm("originalPost","==",n)),s=(await cf(t)).docs.filter(t=>t.id!==e).map(e=>c({id:e.id},e.data()));i(s)}catch(t){console.error("Error loading related posts:",t)}})()},[n,e]),(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Related Offers"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:r.length>0?r.map(e=>(0,Rb.jsx)(oT,c(c({},e),{},{compact:!0}),e.id)):(0,Rb.jsx)("div",{className:"view-main-panel-empty",children:"No related offers yet"})})]})},cT=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"offer"===n.data().type||console.warn("Post not found or not an offer post")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Custom Offer Post",backgroundUrl:"https://timelinecovers.pro/facebook-cover/download/hand-shake-facebook-cover.jpg"}),(0,Rb.jsx)(iT,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(aT,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(lT,{})})]})]})};const uT=function(e){var n;let{postId:s}=e;const[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)("description"),[m,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(""),[j,k]=(0,t.useState)(!1),{currentUser:N}=pC(),S=me();(0,t.useEffect)(()=>{(async()=>{d(!0);try{const n=Jp(Cb,"Posts",s),r=await of(n);if(!r.exists())return void d(!1);const a=r.data();i(a);const l=Jp(Cb,"Users",a.userId),c=await of(l);if(o(c.exists()?c.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),N){const t=Jp(Cb,"Users",N.uid),n=await of(t);if(n.exists()){var e;const t=n.data();v((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(s))||!1)}}if(N){var t;const e=(null===(t=a.report)||void 0===t?void 0:t.includes(N.uid))||!1;x(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{d(!1)}})()},[s,N]);const C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;w(e),setTimeout(()=>w(""),t)};if(u)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!r)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const E=r.images&&r.images.length>0?r.images:["".concat("/Vrumies","/default-thumbnail.png")],_=r.title||"Title not available",T=r.description||"Description not available",I=r.createdAt?new Date(1e3*r.createdAt.seconds).toLocaleDateString():"Date not available",A=(null===a||void 0===a?void 0:a.username)||"Seller info not available",P=(null===a||void 0===a?void 0:a.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[b&&(0,Rb.jsx)("div",{className:"copy-notification",children:b}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / BLOGS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",I]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:_.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:P,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:A}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(r.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[r.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(j?"follow-active":""),onClick:()=>{k(!j),C(j?"Unfollowed":"Followed",2e3)},children:j?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(N&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void C("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",N.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:N.uid,userB:e,participants:[N.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:N.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[N.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}S("/inbox?chat=".concat(i))}catch(t){console.error(t),C("Error messaging user",4e3)}})(r.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===h?"active":""),onClick:()=>p("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===h?"active":""),onClick:()=>p("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===h?"active":""),onClick:()=>p("reviews"),children:"SELLER REVIEWS"})]}),"description"===h&&(0,Rb.jsx)("p",{className:"description",children:T}),"details"===h&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=r.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ","string"===typeof r.location?r.location:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",r.link?(0,Rb.jsx)("a",{href:(R=r.link,R?R.startsWith("http")?R:"https://".concat(R):null),target:"_blank",rel:"noopener noreferrer",children:r.link}):"N/A"]})]}),"reviews"===h&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(m?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{C("URL copied!",2e3),f(!0),setTimeout(()=>f(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(g?"active":""),onClick:async()=>{if(!N)return;const e=Jp(Cb,"Users",N.uid);try{g?(await df(e,{bookmarks:wf(s)}),v(!1),C("Removed from bookmarks")):(await df(e,{bookmarks:bf(s)}),v(!0),C("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(y?"active":""),onClick:async()=>{if(!N)return;const e=Jp(Cb,"Posts",s);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(N.uid)?(await df(e,{report:wf(N.uid)}),x(!1),C("Report removed")):(await df(e,{report:bf(N.uid)}),x(!0),C("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsx)("div",{className:"price-row"})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:E[l],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:E[l],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>c((l-1+E.length)%E.length)}),E.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===l?"active":""),onClick:()=>c(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>c((l+1)%E.length)})]})]})]});var R};const dT=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const hT=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","blog")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading blog posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Blogs"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(ES,c(c({},e),{},{compact:!0}),e.id))})]})},pT=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"blog"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Blog Post",backgroundUrl:"https://blog.shift4shop.com/hubfs/How%20to%20Manage%20an%20eCommerce%20Blog.jpg"}),(0,Rb.jsx)(uT,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(dT,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(hT,{})})]})]})};const mT=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(0),[d,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)("description"),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(""),[k,N]=(0,t.useState)(!1),{currentUser:S}=pC(),C=me();(0,t.useEffect)(()=>{(async()=>{h(!0);try{const n=Jp(Cb,"Posts",r),s=await of(n);if(!s.exists())return void h(!1);const i=s.data();a(i);const o=Jp(Cb,"Users",i.userId),c=await of(o);if(l(c.exists()?c.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),S){const t=Jp(Cb,"Users",S.uid),n=await of(t);if(n.exists()){var e;const t=n.data();y((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(r))||!1)}}if(S){var t;const e=(null===(t=i.report)||void 0===t?void 0:t.includes(S.uid))||!1;b(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{h(!1)}})()},[r,S]);const E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),t)};if(d)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!i)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const _=i.images&&i.images.length>0?i.images:["".concat("/Vrumies","/default-thumbnail.png")],T=i.title||"Title not available",I=i.description||"Description not available",A=i.createdAt?new Date(1e3*i.createdAt.seconds).toLocaleDateString():"Date not available",P=(null===o||void 0===o?void 0:o.username)||"Seller info not available",R=(null===o||void 0===o?void 0:o.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[w&&(0,Rb.jsx)("div",{className:"copy-notification",children:w}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / REQUESTS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",A]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:T.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:R,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:P}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(i.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[i.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(k?"follow-active":""),onClick:()=>{N(!k),E(k?"Unfollowed":"Followed",2e3)},children:k?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(S&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void E("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",S.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:S.uid,userB:e,participants:[S.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:S.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[S.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}C("/inbox?chat=".concat(i))}catch(t){console.error(t),E("Error messaging user",4e3)}})(i.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===p?"active":""),onClick:()=>m("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===p?"active":""),onClick:()=>m("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===p?"active":""),onClick:()=>m("reviews"),children:"SELLER REVIEWS"})]}),"description"===p&&(0,Rb.jsx)("p",{className:"description",children:I}),"details"===p&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=i.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ","string"===typeof i.location?i.location:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",i.link?(0,Rb.jsx)("a",{href:(D=i.link,D?D.startsWith("http")?D:"https://".concat(D):null),target:"_blank",rel:"noopener noreferrer",children:i.link}):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Urgency:"})," "," ",null!==(s=i.urgency)&&void 0!==s?s:"N/A"]})]}),"reviews"===p&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(f?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{E("URL copied!",2e3),g(!0),setTimeout(()=>g(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(v?"active":""),onClick:async()=>{if(!S)return;const e=Jp(Cb,"Users",S.uid);try{v?(await df(e,{bookmarks:wf(r)}),y(!1),E("Removed from bookmarks")):(await df(e,{bookmarks:bf(r)}),y(!0),E("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(x?"active":""),onClick:async()=>{if(!S)return;const e=Jp(Cb,"Posts",r);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(S.uid)?(await df(e,{report:wf(S.uid)}),b(!1),E("Report removed")):(await df(e,{report:bf(S.uid)}),b(!0),E("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsx)("div",{className:"price-row"})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:_[c],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:_[c],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>u((c-1+_.length)%_.length)}),_.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===c?"active":""),onClick:()=>u(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>u((c+1)%_.length)})]})]})]});var D};const fT=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const gT=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","request")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading request posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Requests"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(PS,c(c({},e),{},{compact:!0}),e.id))})]})},vT=e=>{let{locationInput:t,suggestions:n,onLocationChange:s,onSelectLocation:r}=e;return(0,Rb.jsxs)("div",{className:"autocomplete-wrapper",children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Post Location (City)"}),(0,Rb.jsx)("input",{type:"text",placeholder:"Type a city...",value:t,onChange:s,required:!0}),n.length>0&&(0,Rb.jsx)("ul",{className:"market-suggestions",children:n.map(e=>(0,Rb.jsxs)("li",{onClick:()=>r(e),children:[e.structured_formatting.main_text,",",e.structured_formatting.secondary_text]},e.place_id))})]})},yT=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Website Link"}),(0,Rb.jsx)("input",{type:"text",name:"link",placeholder:"Enter link",value:t,onChange:n})]})},xT=e=>{let{images:t,uploading:n,maxImages:s,onUpload:r,onRemove:i}=e;return(0,Rb.jsxs)("div",{className:"mpf-upload-container",children:[(0,Rb.jsxs)("label",{className:"mpf-form-label",children:["Upload Images (max ",s,")"]}),(0,Rb.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:r}),n&&(0,Rb.jsx)("p",{className:"mpf-uploading-text",children:"Uploading images..."}),(0,Rb.jsx)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"10px"},children:t.map((e,t)=>(0,Rb.jsxs)("div",{style:{position:"relative"},children:[(0,Rb.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"mpf-preview-media"}),(0,Rb.jsx)("button",{type:"button",onClick:()=>i(t),style:{position:"absolute",top:"-8px",right:"-8px",background:"red",color:"#fff",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer"},children:"\u2716"})]},t))})]})},bT=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Token Amount"}),(0,Rb.jsx)("input",{type:"number",name:"tokens",placeholder:"Enter token amount",value:t,onChange:n})]})},wT=e=>{let{value:t,onChange:n}=e;return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Price"}),(0,Rb.jsx)("input",{type:"text",placeholder:"$0.00",value:t||"",onChange:n,className:"mpf-dropdown"})]})},jT={Offer:e=>{let{originalPost:n}=e;const[s,r]=(0,t.useState)(null),[i,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)([]),g=(0,t.useRef)(null),[v,y]=(0,t.useState)({title:"",description:"",location:"",city:"",state:"",link:"",tokens:"",images:[],price:""});(0,t.useEffect)(()=>{if(window.google)g.current=new window.google.maps.places.AutocompleteService;else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(Pb,"&libraries=places"),e.async=!0,e.onload=()=>{g.current=new window.google.maps.places.AutocompleteService},document.body.appendChild(e)}},[]);const x=e=>{r(t=>t===e?null:e)},b=e=>{const{name:t,value:n}=e.target;y(e=>c(c({},e),{},{[t]:"tokens"===t?Number(n)||0:n}))},w="/Vrumies";return i?(0,Rb.jsx)("p",{className:"mpf-post-success-message",children:o}):(0,Rb.jsxs)("form",{className:"mpf-post-form",onSubmit:async e=>{e.preventDefault();const t=Ky().currentUser;t?(await pf(Xp(Cb,"Posts"),c(c({},v),{},{createdAt:fa.now(),type:"offer",userId:t.uid,originalPost:n||null,likesCounter:0,dislikesCounter:0,likes:[],dislikes:[]})),a(!0),l("\u2705 Offer post added!")):l("\u274c You must be signed in.")},children:[(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Title"}),(0,Rb.jsx)("input",{name:"title",value:v.title,onChange:b,required:!0}),(0,Rb.jsx)("label",{className:"mpf-form-label",children:"Description"}),(0,Rb.jsx)("textarea",{name:"description",value:v.description,onChange:b,required:!0}),(0,Rb.jsxs)("div",{className:"mpf-toggle-buttons-row",children:[(0,Rb.jsx)("img",{src:"".concat(w,"/PostCreationIcons/Map-Icon.png"),onClick:()=>x("location")}),(0,Rb.jsx)("img",{src:"".concat(w,"/PostCreationIcons/Link-Icon.png"),onClick:()=>x("link")}),(0,Rb.jsx)("img",{src:"".concat(w,"/PostCreationIcons/Image-Icon.png"),onClick:()=>x("image")}),(0,Rb.jsx)("img",{src:"".concat(w,"/PostCreationIcons/Token-Icon.png"),onClick:()=>x("tokens")}),(0,Rb.jsx)("img",{src:"".concat(w,"/PostCreationIcons/Price-Icon.png"),onClick:()=>x("price")})]}),"location"===s&&(0,Rb.jsx)(vT,{locationInput:h,suggestions:m,onLocationChange:e=>{const t=e.target.value;p(t),g.current&&t?g.current.getPlacePredictions({input:t,types:["(cities)"],componentRestrictions:{country:"us"}},(e,t)=>{f("OK"===t&&e?e:[])}):f([])},onSelectLocation:e=>{var t,n;const s=(null===(t=e.terms[0])||void 0===t?void 0:t.value)||"",r=(null===(n=e.terms[1])||void 0===n?void 0:n.value)||"",i="".concat(s,", ").concat(r);y(e=>c(c({},e),{},{location:i,city:s,state:r})),p(i),f([])}}),"link"===s&&(0,Rb.jsx)(yT,{value:v.link,onChange:b}),"image"===s&&(0,Rb.jsx)(xT,{images:v.images,uploading:u,maxImages:7,onUpload:async e=>{const t=Array.from(e.target.files);if(t.length)if(v.images.length+t.length>7)alert("You can upload a maximum of ".concat(7," images."));else{d(!0);try{const e=t.map(e=>{const t=new FormData;return t.append("file",e),t.append("upload_preset",Ib),ok.post("https://api.cloudinary.com/v1_1/".concat(Ab,"/image/upload"),t)}),n=(await Promise.all(e)).map(e=>e.data.secure_url);y(e=>c(c({},e),{},{images:[...e.images,...n]}))}finally{d(!1)}}},onRemove:e=>{y(t=>c(c({},t),{},{images:t.images.filter((t,n)=>n!==e)}))}}),"tokens"===s&&(0,Rb.jsx)(bT,{value:v.tokens,onChange:b}),"price"===s&&(0,Rb.jsx)(wT,{value:v.price,onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const n=parseFloat(t);y(e=>c(c({},e),{},{price:isNaN(n)?"":"$".concat(n.toFixed(2))}))}}),(0,Rb.jsx)("button",{type:"submit",className:"mpf-submit-btn",children:"Submit"}),o&&(0,Rb.jsx)("p",{children:o})]})}};const kT=function(e){let{isOpen:n,onClose:s,originalPost:r}=e;const[i,a]=(0,t.useState)("Offer");if((0,t.useEffect)(()=>{n&&a("Offer")},[n]),!n)return null;const o=jT[i];return(0,Rb.jsx)("div",{className:"cspo-overlay",children:(0,Rb.jsxs)("div",{className:"cspo-overlay-content",children:[(0,Rb.jsx)("button",{className:"cspo-close-btn",onClick:s,children:"\u2715"}),(0,Rb.jsx)("h2",{className:"cspo-main-header",children:"CREATE CUSTOM OFFER"}),(0,Rb.jsx)("div",{className:"cspo-post-type-buttons",children:Object.keys(jT).map(e=>(0,Rb.jsx)("button",{className:"cspo-post-type-btn ".concat(i===e?"cspo-selected":""),onClick:()=>a(e),children:e},e))}),(0,Rb.jsxs)("h3",{className:"cspo-subtitle",children:["Creating a ",i," Post"]}),(0,Rb.jsx)("div",{className:"cspo-form-container",children:(0,Rb.jsx)(o,{onClose:s,originalPost:r})})]})})};const NT=function(){const{id:e}=fe(),n=e,[s,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!n)return void l(!1);(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("originalPost","==",n)),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));r(t)}catch(e){console.error("Error loading filtered offer posts:",e)}finally{l(!1)}})()},[n]);const u=s.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsxs)("div",{className:"view-offers-right-side-panel",children:[(0,Rb.jsx)("h3",{className:"view-offers-panel-title",children:"Custom Offers"}),(0,Rb.jsxs)("div",{className:"view-offers-panel-posts",children:[(0,Rb.jsx)("div",{className:"view-offers-create-card",onClick:()=>{a(!0)},children:(0,Rb.jsx)("span",{className:"create-card-text",children:"+ CREATE CUSTOM OFFER"})}),o&&(0,Rb.jsx)("p",{className:"view-offers-loading",children:"Loading offers..."}),!o&&0===u.length&&(0,Rb.jsx)("p",{className:"view-offers-empty",children:"No offers yet \u2014 be the first to create one."}),u.map(e=>(0,Rb.jsx)(oT,c(c({},e),{},{compact:!0}),e.id))]})]}),(0,Rb.jsx)(kT,{isOpen:i,onClose:()=>a(!1),originalPost:n})]})},ST=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"request"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Request Post",backgroundUrl:"https://media.istockphoto.com/id/1271779268/photo/calling-roadside-assistance.jpg?s=612x612&w=0&k=20&c=JxOZbwpnSE_vxFWZ5Te1-Y4QrUMsiLFaDyXu_uMX1ok="}),(0,Rb.jsx)(mT,{postId:e}),(0,Rb.jsx)(NT,{}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(fT,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(gT,{})})]})]})};const CT=function(e){var n,s,r;let{postId:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(!0),[m,f]=(0,t.useState)("description"),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),{currentUser:C}=pC(),E=me();(0,t.useEffect)(()=>{(async()=>{p(!0);try{const n=Jp(Cb,"Posts",i),s=await of(n);if(!s.exists())return void p(!1);const r=s.data();o(r);const a=Jp(Cb,"Users",r.userId),l=await of(a);if(c(l.exists()?l.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),C){const t=Jp(Cb,"Users",C.uid),n=await of(t);if(n.exists()){var e;const t=n.data();x((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(i))||!1)}}if(C){var t;const e=(null===(t=r.report)||void 0===t?void 0:t.includes(C.uid))||!1;w(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{p(!1)}})()},[i,C]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;k(e),setTimeout(()=>k(""),t)};if(h)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!a)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const T=a.images&&a.images.length>0?a.images:["".concat("/Vrumies","/default-thumbnail.png")],I=a.title||"Title not available",A=a.description||"Description not available",P=a.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString():"Date not available",R=(null===l||void 0===l?void 0:l.username)||"Seller info not available",D=(null===l||void 0===l?void 0:l.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[j&&(0,Rb.jsx)("div",{className:"copy-notification",children:j}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / VEHICLES"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",P]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:I.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:D,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:R}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(a.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[a.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(N?"follow-active":""),onClick:()=>{S(!N),_(N?"Unfollowed":"Followed",2e3)},children:N?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(C&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void _("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",C.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:C.uid,userB:e,participants:[C.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:C.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[C.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}E("/inbox?chat=".concat(i))}catch(t){console.error(t),_("Error messaging user",4e3)}})(a.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===m?"active":""),onClick:()=>f("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===m?"active":""),onClick:()=>f("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===m?"active":""),onClick:()=>f("reviews"),children:"SELLER REVIEWS"})]}),"description"===m&&(0,Rb.jsx)("p",{className:"description",children:A}),"details"===m&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=a.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=a.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",a.link?(0,Rb.jsx)("a",{href:(O=a.link,O?O.startsWith("http")?O:"https://".concat(O):null),target:"_blank",rel:"noopener noreferrer",children:a.link}):"N/A"]})]}),"reviews"===m&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(g?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{_("URL copied!",2e3),v(!0),setTimeout(()=>v(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(y?"active":""),onClick:async()=>{if(!C)return;const e=Jp(Cb,"Users",C.uid);try{y?(await df(e,{bookmarks:wf(i)}),x(!1),_("Removed from bookmarks")):(await df(e,{bookmarks:bf(i)}),x(!0),_("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(b?"active":""),onClick:async()=>{if(!C)return;const e=Jp(Cb,"Posts",i);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(C.uid)?(await df(e,{report:wf(C.uid)}),w(!1),_("Report removed")):(await df(e,{report:bf(C.uid)}),w(!0),_("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsx)("div",{className:"price-row",children:(0,Rb.jsx)("span",{className:"price",children:null!==(r=a.price)&&void 0!==r?r:"Price: N/A"})})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:T[u],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:T[u],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>d((u-1+T.length)%T.length)}),T.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===u?"active":""),onClick:()=>d(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>d((u+1)%T.length)})]})]})]});var O};const ET=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const _T=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","vehicle")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading vehicle posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Vehicles"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(_S,c(c({},e),{},{compact:!0}),e.id))})]})},TT=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"vehicle"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Vehicle Post",backgroundUrl:"https://hips.hearstapps.com/autoweek/assets/craing_0.jpg"}),(0,Rb.jsx)(CT,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(ET,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(_T,{})})]})]})};const IT=function(e){var n,s,r,i,a,o,l,c,u,d,h,p;let{postId:m}=e;const[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(0),[w,j]=(0,t.useState)(!0),[k,N]=(0,t.useState)("description"),[S,C]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[T,I]=(0,t.useState)(!1),[A,P]=(0,t.useState)(""),[R,D]=(0,t.useState)(!1),{currentUser:O}=pC(),L=me();(0,t.useEffect)(()=>{(async()=>{j(!0);try{const n=Jp(Cb,"Posts",m),s=await of(n);if(!s.exists())return void j(!1);const r=s.data();g(r);const i=Jp(Cb,"Users",r.userId),a=await of(i);if(y(a.exists()?a.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),O){const t=Jp(Cb,"Users",O.uid),n=await of(t);if(n.exists()){var e;const t=n.data();_((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(m))||!1)}}if(O){var t;const e=(null===(t=r.report)||void 0===t?void 0:t.includes(O.uid))||!1;I(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{j(!1)}})()},[m,O]);const M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;P(e),setTimeout(()=>P(""),t)};if(w)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!f)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const U=f.images&&f.images.length>0?f.images:["".concat("/Vrumies","/default-thumbnail.png")],F=f.title||"Title not available",V=f.description||"Description not available",z=f.createdAt?new Date(1e3*f.createdAt.seconds).toLocaleDateString():"Date not available",B=(null===v||void 0===v?void 0:v.username)||"Seller info not available",q=(null===v||void 0===v?void 0:v.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[A&&(0,Rb.jsx)("div",{className:"copy-notification",children:A}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / TRUCKS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",z]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:F.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:q,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:B}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(f.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[f.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(R?"follow-active":""),onClick:()=>{D(!R),M(R?"Unfollowed":"Followed",2e3)},children:R?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(O&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void M("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",O.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:O.uid,userB:e,participants:[O.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:O.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[O.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}L("/inbox?chat=".concat(i))}catch(t){console.error(t),M("Error messaging user",4e3)}})(f.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===k?"active":""),onClick:()=>N("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===k?"active":""),onClick:()=>N("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===k?"active":""),onClick:()=>N("reviews"),children:"SELLER REVIEWS"})]}),"description"===k&&(0,Rb.jsx)("p",{className:"description",children:V}),"details"===k&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=f.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=f.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",f.link?(0,Rb.jsx)("a",{href:(H=f.link,H?H.startsWith("http")?H:"https://".concat(H):null),target:"_blank",rel:"noopener noreferrer",children:f.link}):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Available Date:"})," ",null!==(r=f.routes)&&void 0!==r&&r.availableDate?new Date(f.routes.availableDate).toLocaleDateString():"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Truck Type:"})," ",null!==(i=f.truckType)&&void 0!==i?i:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Origin Cities:"})," ",null!==(a=f.routes)&&void 0!==a&&null!==(o=a.originCities)&&void 0!==o&&o.length?f.routes.originCities.map(e=>"".concat(e.city,", ").concat(e.state)).join(" \u2022 "):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Destination Cities:"})," ",null!==(l=f.routes)&&void 0!==l&&null!==(c=l.destinationCities)&&void 0!==c&&c.length?f.routes.destinationCities.map(e=>"".concat(e.city,", ").concat(e.state)).join(" \u2022 "):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Load Weight Max:"})," ",null!==(u=f.loadWeightMax)&&void 0!==u?u:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Load Length Max:"})," ",null!==(d=f.loadLengthMax)&&void 0!==d?d:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Min Per Mile Rate:"})," $",null!==(h=f.minPerMile)&&void 0!==h?h:"N/A"]})]}),"reviews"===k&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(S?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{M("URL copied!",2e3),C(!0),setTimeout(()=>C(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(E?"active":""),onClick:async()=>{if(!O)return;const e=Jp(Cb,"Users",O.uid);try{E?(await df(e,{bookmarks:wf(m)}),_(!1),M("Removed from bookmarks")):(await df(e,{bookmarks:bf(m)}),_(!0),M("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(T?"active":""),onClick:async()=>{if(!O)return;const e=Jp(Cb,"Posts",m);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(O.uid)?(await df(e,{report:wf(O.uid)}),I(!1),M("Report removed")):(await df(e,{report:bf(O.uid)}),I(!0),M("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsx)("div",{className:"price-row",children:(0,Rb.jsxs)("span",{className:"price",children:["Min Per Mile Rate: ",(0,Rb.jsxs)("span",{className:"rate-amount",children:["$",null!==(p=f.minPerMile)&&void 0!==p?p:"N/A"]})]})})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:U[x],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:U[x],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>b((x-1+U.length)%U.length)}),U.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===x?"active":""),onClick:()=>b(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>b((x+1)%U.length)})]})]})]});var H};const AT=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const PT=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","event")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading event posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Events"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(TS,c(c({},e),{},{compact:!0}),e.id))})]})},RT=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"trucks"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Truck Post",backgroundUrl:"https://images.squarespace-cdn.com/content/v1/6598c8e83ff0af0197ff19f9/a05c7d5e-3711-48bb-a4c8-f3ce0f076355/JCCI-2024-Banner.jpg"}),(0,Rb.jsx)(IT,{postId:e}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(AT,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(PT,{})})]})]})};const DT=function(e){var n,s,r,i,a,o,l,c,u,d;let{postId:h}=e;const[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(0),[x,b]=(0,t.useState)(!0),[w,j]=(0,t.useState)("description"),[k,N]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[T,I]=(0,t.useState)(""),[A,P]=(0,t.useState)(!1),{currentUser:R}=pC(),D=me();(0,t.useEffect)(()=>{(async()=>{b(!0);try{const n=Jp(Cb,"Posts",h),s=await of(n);if(!s.exists())return void b(!1);const r=s.data();m(r);const i=Jp(Cb,"Users",r.userId),a=await of(i);if(g(a.exists()?a.data():{username:"Unknown",profilepic:"".concat("/Vrumies","/default-profile.png")}),R){const t=Jp(Cb,"Users",R.uid),n=await of(t);if(n.exists()){var e;const t=n.data();C((null===(e=t.bookmarks)||void 0===e?void 0:e.includes(h))||!1)}}if(R){var t;const e=(null===(t=r.report)||void 0===t?void 0:t.includes(R.uid))||!1;_(e)}}catch(n){console.error("Error fetching post/user:",n)}finally{b(!1)}})()},[h,R]);const O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;I(e),setTimeout(()=>I(""),t)};if(x)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading post..."});if(!p)return(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Post not found."});const L=p.images&&p.images.length>0?p.images:["".concat("/Vrumies","/default-thumbnail.png")],M=p.title||"Title not available",U=p.description||"Description not available",F=p.createdAt?new Date(1e3*p.createdAt.seconds).toLocaleDateString():"Date not available",V=(null===f||void 0===f?void 0:f.username)||"Seller info not available",z=(null===f||void 0===f?void 0:f.profilepic)||"".concat("/Vrumies","/default-profile.png");return(0,Rb.jsxs)("div",{className:"post-section",children:[T&&(0,Rb.jsx)("div",{className:"copy-notification",children:T}),(0,Rb.jsxs)("div",{className:"post-left",children:[(0,Rb.jsxs)("div",{className:"post-content",children:[(0,Rb.jsxs)("div",{className:"post-header",children:[(0,Rb.jsx)("div",{className:"breadcrumbs",children:"VRUMIES / LOADS"}),(0,Rb.jsxs)("div",{className:"date",children:["DATE POSTED: ",F]})]}),(0,Rb.jsx)("h2",{className:"post-title",children:M.toUpperCase()}),(0,Rb.jsxs)("div",{className:"seller-row",children:[(0,Rb.jsx)("img",{src:z,alt:"Seller",className:"seller-avatar"}),(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("div",{className:"seller-name",children:V}),(0,Rb.jsxs)("div",{className:"seller-reviews",children:[[...Array(5)].map((e,t)=>(0,Rb.jsx)(nS,{color:t<(p.sellerReviews||0)?"#f6c61d":"#ccc"},t)),(0,Rb.jsxs)("span",{className:"review-count",children:[p.sellerReviews||0," Reviews"]})]})]}),(0,Rb.jsxs)("div",{className:"post-action-buttons",children:[(0,Rb.jsx)("button",{className:"post-action-btn follow-btn ".concat(A?"follow-active":""),onClick:()=>{P(!A),O(A?"Unfollowed":"Followed",2e3)},children:A?"Following":"Follow"}),(0,Rb.jsx)("button",{className:"post-action-btn message-btn",onClick:()=>(async e=>{if(R&&e)try{const t=Jp(Cb,"Users",e);if(!(await of(t)).exists())return void O("User not found",4e3);const n=Xp(Cb,"chats"),s=Bm(n,Hm("participants","array-contains",R.uid)),r=await cf(s);let i=null;if(r.forEach(t=>{t.data().participants.includes(e)&&(i=t.id)}),!i){const t=await pf(n,{userA:R.uid,userB:e,participants:[R.uid,e],lastMessage:"",lastTimestamp:xf()});i=t.id,await pf(Xp(Cb,"chats",i,"messages"),{senderId:R.uid,text:"\ud83d\udc4b Hello! Thanks for posting.",timestamp:xf(),photos:[],seenBy:[R.uid]}),await uf(Jp(Cb,"chats",i),{lastMessage:"\ud83d\udc4b Hello! Thanks for posting.",lastTimestamp:xf()},{merge:!0})}D("/inbox?chat=".concat(i))}catch(t){console.error(t),O("Error messaging user",4e3)}})(p.userId),children:"Message User"})]})]}),(0,Rb.jsxs)("div",{className:"tabs",children:[(0,Rb.jsx)("div",{className:"tab ".concat("description"===w?"active":""),onClick:()=>j("description"),children:"DESCRIPTION"}),(0,Rb.jsx)("div",{className:"tab ".concat("details"===w?"active":""),onClick:()=>j("details"),children:"POST DETAILS"}),(0,Rb.jsx)("div",{className:"tab ".concat("reviews"===w?"active":""),onClick:()=>j("reviews"),children:"SELLER REVIEWS"})]}),"description"===w&&(0,Rb.jsx)("p",{className:"description",children:U}),"details"===w&&(0,Rb.jsxs)("div",{className:"post-details",children:[(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Tokens:"})," ",null!==(n=p.tokens)&&void 0!==n?n:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Location:"})," ",null!==(s=p.location)&&void 0!==s?s:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Link:"})," ",p.link?(0,Rb.jsx)("a",{href:(B=p.link,B?B.startsWith("http")?B:"https://".concat(B):null),target:"_blank",rel:"noopener noreferrer",children:p.link}):"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Available Date:"})," ",null!==(r=p.availableDate)&&void 0!==r?r:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Truck Type:"})," ",null!==(i=p.truckType)&&void 0!==i?i:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Pickup Address:"})," ",null!==(a=p.pickupLocations)&&void 0!==a?a:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Drop-Off Address:"})," ",null!==(o=p.dropoffLocations)&&void 0!==o?o:"N/A"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Load Weight:"})," ",null!==(l=p.loadWeight)&&void 0!==l?l:"N/A"," Pounds"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Load Length:"})," ",null!==(c=p.loadLength)&&void 0!==c?c:"N/A"," Feet"]}),(0,Rb.jsxs)("p",{children:[(0,Rb.jsx)("strong",{children:"Payout:"})," $",null!==(u=p.payout)&&void 0!==u?u:"N/A"]})]}),"reviews"===w&&(0,Rb.jsx)("div",{className:"seller-reviews-section",children:(0,Rb.jsx)("p",{children:"Seller reviews will go here..."})})]}),(0,Rb.jsxs)("div",{className:"actions",children:[(0,Rb.jsxs)("button",{className:"action-btn share ".concat(k?"active":""),onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{O("URL copied!",2e3),N(!0),setTimeout(()=>N(!1),2e3)}).catch(e=>console.error(e)):alert("Clipboard API not supported.")},children:[(0,Rb.jsx)(eS,{className:"action-icon"}),"SHARE"]}),(0,Rb.jsxs)("button",{className:"action-btn bookmark ".concat(S?"active":""),onClick:async()=>{if(!R)return;const e=Jp(Cb,"Users",R.uid);try{S?(await df(e,{bookmarks:wf(h)}),C(!1),O("Removed from bookmarks")):(await df(e,{bookmarks:bf(h)}),C(!0),O("Saved to bookmarks"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(UN,{className:"action-icon"}),"BOOKMARK"]}),(0,Rb.jsxs)("button",{className:"action-btn report ".concat(E?"active":""),onClick:async()=>{if(!R)return;const e=Jp(Cb,"Posts",h);try{const t=await of(e);if(!t.exists())return;const n=t.data();(n.report||[]).includes(R.uid)?(await df(e,{report:wf(R.uid)}),_(!1),O("Report removed")):(await df(e,{report:bf(R.uid)}),_(!0),O("Reported"))}catch(t){console.error(t)}},children:[(0,Rb.jsx)(QN,{className:"action-icon"}),"REPORT"]})]}),(0,Rb.jsx)("div",{className:"price-row",children:(0,Rb.jsxs)("span",{className:"price",children:["Payout: ",(0,Rb.jsxs)("span",{className:"payout-amount",children:["$",null!==(d=p.payout)&&void 0!==d?d:"N/A"]})]})})]}),(0,Rb.jsxs)("div",{className:"post-right",children:[(0,Rb.jsxs)("div",{className:"image-container",children:[(0,Rb.jsx)("img",{src:L[v],alt:"Product",className:"main-image"}),(0,Rb.jsx)("a",{href:L[v],target:"_blank",rel:"noopener noreferrer",children:(0,Rb.jsx)(GN,{className:"expand-icon"})})]}),(0,Rb.jsxs)("div",{className:"carousel",children:[(0,Rb.jsx)(ON,{className:"arrow",onClick:()=>y((v-1+L.length)%L.length)}),L.map((e,t)=>(0,Rb.jsx)("img",{src:e,alt:"Thumb ".concat(t),className:"thumb ".concat(t===v?"active":""),onClick:()=>y(t)},t)),(0,Rb.jsx)(LN,{className:"arrow",onClick:()=>y((v+1)%L.length)})]})]})]});var B};const OT=function(e){var n,s;let{postId:r}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Nv(Eb,async e=>{if(e)try{const t=Jp(Cb,"Users",e.uid),n=await of(t);if(n.exists())return void p(c({uid:e.uid},n.data()));const s=Bm(Xp(Cb,"Users"),Hm("id","==",e.uid)),r=await cf(s);r.empty?p({uid:e.uid}):p(c({uid:e.uid},r.docs[0].data()))}catch(t){console.error("Error fetching current user:",t)}else p(null)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!r)return;const e=mf(Jp(Cb,"Posts",r),e=>{e.exists()&&f(c({id:e.id},e.data()))});return()=>e()},[r]);const g=async e=>{if(!h)return void alert("You must be signed in to vote.");const t=h.uid,n=Jp(Cb,"Posts",r);try{"like"===e?await df(n,{likes:bf(t),dislikes:wf(t)}):"dislike"===e&&await df(n,{dislikes:bf(t),likes:wf(t)});const r=await of(n);if(r.exists()){var s,i;const e=r.data(),t=(null===(s=e.likes)||void 0===s?void 0:s.length)||0,a=(null===(i=e.dislikes)||void 0===i?void 0:i.length)||0;await df(n,{likesCounter:t,dislikesCounter:a})}}catch(a){console.error("Error updating vote:",a)}};(0,t.useEffect)(()=>{(async()=>{d(!0);try{const e=Xp(Cb,"Posts",r,"comments"),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));l(t)}catch(e){console.error("Error fetching comments:",e),l([])}finally{d(!1)}})()},[r]);const v=null===h||void 0===h?void 0:h.uid,y=(null===m||void 0===m?void 0:m.likes)||[],x=(null===m||void 0===m?void 0:m.dislikes)||[],b=v&&y.includes(v),w=v&&x.includes(v);return(0,Rb.jsxs)("div",{className:"event-comments-section",children:[(0,Rb.jsxs)("div",{className:"section-header",children:[(0,Rb.jsx)("h2",{children:"COMMENTS SECTION"}),(0,Rb.jsxs)("div",{className:"votes",children:[(0,Rb.jsxs)("button",{className:"vote-btn like-btn ".concat(b?"active":""),onClick:()=>g("like"),children:[(0,Rb.jsx)(iS,{className:"vote-icon"})," ",null!==(n=null===m||void 0===m?void 0:m.likesCounter)&&void 0!==n?n:y.length]}),(0,Rb.jsxs)("button",{className:"vote-btn dislike-btn ".concat(w?"active":""),onClick:()=>g("dislike"),children:[(0,Rb.jsx)(rS,{className:"vote-icon"})," ",null!==(s=null===m||void 0===m?void 0:m.dislikesCounter)&&void 0!==s?s:x.length]})]})]}),(0,Rb.jsxs)("div",{className:"comment-input-row",children:[(0,Rb.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilepic)||"".concat("/Vrumies","/default-profile.png"),alt:(null===h||void 0===h?void 0:h.username)||"Current User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"input-container",children:[(0,Rb.jsxs)("div",{className:"input-header",children:[(0,Rb.jsx)("span",{className:"username",children:(null===h||void 0===h?void 0:h.username)||"Current User"}),(0,Rb.jsx)("span",{className:"date",children:(new Date).toLocaleDateString()}),(0,Rb.jsxs)("span",{className:"char-limit",children:["Maximum Characters Allowed: ",130]})]}),(0,Rb.jsx)("input",{type:"text",value:i,onChange:e=>{e.target.value.length<=130&&a(e.target.value)},placeholder:"Type your comment here..."})]}),(0,Rb.jsx)("button",{className:"submit-btn",onClick:async()=>{if(""!==i.trim())try{if(!Eb.currentUser||!h)return void alert("You must be signed in to comment.");const e=Xp(Cb,"Posts",r,"comments"),t={name:h.username||"Unknown User",avatar:h.profilepic||"".concat("/Vrumies","/default-profile.png"),text:i,date:(new Date).toLocaleDateString(),createdAt:fa.now()};await pf(e,t),l(e=>[t,...e]),a("")}catch(e){console.error("Error adding comment:",e),alert("Failed to submit comment.")}},children:"Submit"})]}),u?(0,Rb.jsx)("p",{style:{color:"white"},children:"Loading comments..."}):0===o.length?(0,Rb.jsx)("p",{style:{color:"white"},children:"No comments found."}):o.map((e,t)=>(0,Rb.jsxs)("div",{className:"comment-row",children:[(0,Rb.jsx)("img",{src:e.avatar||"".concat("/Vrumies","/default-profile.png"),alt:e.name||"User",className:"avatar"}),(0,Rb.jsxs)("div",{className:"comment-content",children:[(0,Rb.jsxs)("div",{className:"comment-header",children:[(0,Rb.jsx)("span",{className:"username",children:e.name||"Unknown"}),(0,Rb.jsx)("span",{className:"date",children:e.date||"Date not available"})]}),(0,Rb.jsx)("p",{children:e.text||"No comment text"})]})]},e.id||t))]})};const LT=function(){const[e,n]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=Bm(Xp(Cb,"Posts"),Hm("type","==","loads")),t=(await cf(e)).docs.map(e=>c({id:e.id},e.data()));n(t)}catch(e){console.error("Error loading event posts:",e)}})()},[]),!e||0===e.length)return null;const s=e.filter(e=>"number"===typeof e.tokens).sort((e,t)=>t.tokens-e.tokens);return(0,Rb.jsxs)("div",{className:"view-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"view-main-panel-title",children:"Promoted Loads"}),(0,Rb.jsx)("div",{className:"view-main-panel-posts",children:s.map(e=>(0,Rb.jsx)(RS,c(c({},e),{},{compact:!0}),e.id))})]})},MT=()=>{const{id:e}=fe(),[n,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{s(!0);try{const t=Jp(Cb,"Posts",e),n=await of(t);n.exists()&&"event"===n.data().type||console.warn("Post not found or not an event")}catch(t){console.error("Error fetching post:",t)}finally{s(!1)}})()},[e]),n?(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."}):(0,Rb.jsxs)("div",{className:"vpe-content-page",children:[(0,Rb.jsx)(dC,{title:"Load Post",backgroundUrl:"https://images.squarespace-cdn.com/content/v1/6598c8e83ff0af0197ff19f9/a05c7d5e-3711-48bb-a4c8-f3ce0f076355/JCCI-2024-Banner.jpg"}),(0,Rb.jsx)(DT,{postId:e}),(0,Rb.jsx)(NT,{}),(0,Rb.jsxs)("div",{className:"vpe-bottom-section-container",children:[(0,Rb.jsx)("div",{className:"vpe-bottom-section-main-content",children:(0,Rb.jsx)(OT,{postId:e})}),(0,Rb.jsx)("div",{className:"vpe-bottom-section-side-panel",children:(0,Rb.jsx)(LT,{})})]})]})},UT=()=>(0,Rb.jsxs)("div",{className:"events-header-container",children:[(0,Rb.jsxs)("div",{className:"left-side",children:[(0,Rb.jsx)("h1",{className:"title",children:(0,Rb.jsx)("span",{className:"green-highlight",children:"BOOKMARKS"})}),(0,Rb.jsx)("p",{className:"subtitle",children:"VIEW ALL YOUR SAVED POSTS"})]}),(0,Rb.jsx)("div",{className:"right-side",children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/category-icons/bookmark.png"),alt:"Bookmarks Icon",width:"70",height:"70",className:"events-icon"})})]});const FT=function(e){let{id:n,images:s,title:r,createdAt:i,userId:a}=e;const[o,l]=(0,t.useState)("".concat("/Vrumies","/default-profile.png")),[c,u]=(0,t.useState)("Unknown"),[d,h]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),[x,b]=(0,t.useState)("event"),w=i?new Date(1e3*i.seconds).toLocaleDateString():"Date not available";(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=Jp(Cb,"Users",a),t=await of(e);if(t.exists()){const e=t.data();u(e.username||"Unknown"),l(e.profilepic||"".concat("/Vrumies","/default-profile.png"))}}catch(e){console.error("Error fetching user data:",e)}})()},[a]),(0,t.useEffect)(()=>{(async()=>{try{const e=Jp(Cb,"Posts",n),t=await of(e);if(t.exists()){const e=t.data();h(e.likesCounter||0),m(e.dislikesCounter||0),y(e.tokens||0),b(e.type||"event")}const s=await cf(Xp(Cb,"Posts",n,"comments"));g(s.size)}catch(e){console.error("Error fetching post data:",e)}})()},[n]);const j="/".concat({video:"videopost",blog:"blogpost",vehicle:"vehiclepost",event:"eventpost",market:"marketpost",directory:"directorypost",request:"requestpost",loads:"loadpost",trucks:"truckpost",offer:"offerpost"}[x]||"eventpost","/").concat(n);return(0,Rb.jsxs)(vt,{to:j,className:"events-post-layout",children:[(0,Rb.jsxs)("div",{className:"card-header",children:[(0,Rb.jsxs)("div",{className:"header-left",children:[(0,Rb.jsx)("img",{src:o,alt:"Creator",className:"profile-pic"}),(0,Rb.jsxs)("div",{className:"creator-info",children:[(0,Rb.jsx)("p",{className:"creator-name",children:c}),(0,Rb.jsx)("span",{className:"date",children:w})]})]}),(0,Rb.jsxs)("div",{className:"header-right",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756830937/star_wvusn3.png",alt:"Star",className:"star-icon"}),(0,Rb.jsx)("span",{className:"review-text",children:"N/A"})]})]}),(0,Rb.jsx)("div",{className:"thumbnail-container",children:(0,Rb.jsx)("img",{src:s&&s.length>0?s[0]:"".concat("/Vrumies","/default-thumbnail.png"),alt:r||"Post Thumbnail",className:"thumbnail"})}),(0,Rb.jsx)("h4",{className:"events-post-title",children:(r||"Untitled Event").toUpperCase()}),(0,Rb.jsxs)("div",{className:"card-footer",children:[(0,Rb.jsxs)("div",{className:"footer-left",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/like_elthi2.png",alt:"Like",className:"footer-icon custom-like"}),d]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756829309/dislike_wivlom.png",alt:"Dislike",className:"footer-icon custom-dislike"}),p]})]}),(0,Rb.jsxs)("div",{className:"footer-right",children:[(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)("img",{src:"https://res.cloudinary.com/dmjvngk3o/image/upload/v1756806527/Tokens-Icon_bhee9s.png",alt:"Tokens Icon",className:"footer-icon token-icon-small"}),v]}),(0,Rb.jsxs)("span",{className:"footer-item",children:[(0,Rb.jsx)(KN,{className:"footer-icon comment"}),f]})]})]})]})};const VT=function(){const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{try{const e=Ky().currentUser;if(!e)return void n([]);const t=Jp(Cb,"Users",e.uid),s=await of(t),r=s.exists()&&s.data().bookmarks||[];if(0===r.length)return void n([]);const i=Xp(Cb,"Posts"),a=[],o=10;for(let n=0;n<r.length;n+=o){const e=Bm(i,Hm("__name__","in",r.slice(n,n+o)));(await cf(e)).forEach(e=>{const t=e.data();"number"===typeof t.tokens&&a.push(c({id:e.id},t))})}a.sort((e,t)=>t.tokens-e.tokens),n(a)}catch(e){console.error("Error fetching bookmarked posts for RightSidePanel:",e),n([])}})()},[]),(0,Rb.jsxs)("div",{className:"events-main-right-side-panel scrollable-panel",children:[(0,Rb.jsx)("h3",{className:"events-main-panel-title",children:"Promoted Bookmarks"}),(0,Rb.jsx)("div",{className:"events-main-panel-posts",children:e.length>0?e.map((e,t)=>(0,Rb.jsx)(FT,c(c({},e),{},{compact:!0}),e.id||t)):(0,Rb.jsx)("p",{style:{color:"#ffffff",textAlign:"center"},children:"No promoted bookmarks yet."})})]})};const zT=function(){const[e,n]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{try{const e=Ky().currentUser;if(!e)return void n([]);const t=Jp(Cb,"Users",e.uid),s=await of(t),r=s.exists()&&s.data().bookmarks||[];if(0===r.length)return void n([]);const i=Xp(Cb,"Posts"),a=[],o=10;for(let n=0;n<r.length;n+=o){const e=Bm(i,Hm("__name__","in",r.slice(n,n+o)));(await cf(e)).forEach(e=>{a.push(c({id:e.id},e.data()))})}n(a)}catch(e){console.error("Error fetching bookmarked posts:",e),n([])}})()},[]);const s=e.slice(0,16);return(0,Rb.jsx)("div",{className:"bookmarks-post-grid",children:s.length>0?s.map((e,t)=>(0,Rb.jsx)("div",{children:(0,Rb.jsx)(vt,{to:"/bookmarkpost/".concat(e.id),style:{textDecoration:"none",color:"inherit",display:"block",height:"100%",width:"100%"},children:(0,Rb.jsx)(FT,c({},e))})},e.id||t)):(0,Rb.jsx)("p",{style:{color:"white",textAlign:"center",width:"100%"},children:"No Bookmarked Posts Found."})})},BT=["Houston, TX","Dallas, TX","San Antonio, TX"],qT=["Today","This Week","This Month"],HT=["Newest","Likes","Highest Rating"],WT=()=>{const[e,n]=(0,t.useState)(""),[s,r]=(0,t.useState)([]),[i,a]=(0,t.useState)({location:!0,filterOptions:!0,sortBy:!0}),[o,l]=(0,t.useState)(["Show All"]),[u,d]=(0,t.useState)(["Show All"]),[h,p]=(0,t.useState)("Show All"),m=e=>{a(t=>c(c({},t),{},{[e]:!t[e]}))},f=(e,t,n)=>{if("Show All"===e)t(["Show All"]);else{let s=n.includes("Show All")?[e]:n.includes(e)?n.filter(t=>t!==e):[...n,e];0===s.length&&(s=["Show All"]),t(s)}},g=()=>{const t=e.trim();t&&!s.includes(t)&&s.length<20&&(r([...s,t]),n(""))};return(0,Rb.jsx)("div",{className:"filterpanel",children:(0,Rb.jsxs)("div",{className:"filterpanel-scroll",children:[(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsx)("label",{className:"filterpanel-label",children:"Keyword Filter"}),(0,Rb.jsxs)("div",{className:"filterpanel-keyword-input-container",children:[(0,Rb.jsx)("input",{type:"text",className:"filterpanel-input",placeholder:"Add keyword...",value:e,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),g())},disabled:s.length>=20}),(0,Rb.jsx)("button",{className:"filterpanel-add-button",onClick:g,disabled:s.length>=20||!e.trim(),children:"+"})]}),(0,Rb.jsx)("div",{className:"filterpanel-keywords-list",children:s.map(e=>(0,Rb.jsxs)("div",{className:"filterpanel-keyword-chip",children:[(0,Rb.jsx)("span",{children:e}),(0,Rb.jsx)("button",{className:"filterpanel-remove-chip",onClick:()=>(e=>{r(s.filter(t=>t!==e))})(e),children:"\xd7"})]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>m("location"),children:[(0,Rb.jsx)("span",{children:"Location"}),(0,Rb.jsx)("span",{children:i.location?"-":"+"})]}),i.location&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All",...BT].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:o.includes(e),onChange:()=>f(e,l,o)}),(0,Rb.jsx)("span",{children:e})]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>m("filterOptions"),children:[(0,Rb.jsx)("span",{children:"Filter Options"}),(0,Rb.jsx)("span",{children:i.filterOptions?"-":"+"})]}),i.filterOptions&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All",...qT].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:u.includes(e),onChange:()=>f(e,d,u)}),(0,Rb.jsx)("span",{children:e})]},e))})]}),(0,Rb.jsxs)("div",{className:"filterpanel-section",children:[(0,Rb.jsxs)("div",{className:"filterpanel-header",onClick:()=>m("sortBy"),children:[(0,Rb.jsx)("span",{children:"Sort By"}),(0,Rb.jsx)("span",{children:i.sortBy?"-":"+"})]}),i.sortBy&&(0,Rb.jsx)("div",{className:"filterpanel-options",children:["Show All",...HT].map(e=>(0,Rb.jsxs)("label",{className:"filterpanel-option",children:[(0,Rb.jsx)("input",{type:"radio",name:"sortBy",checked:h===e,onChange:()=>p(e)}),(0,Rb.jsx)("span",{children:e})]},e))})]})]})})},KT=()=>(0,Rb.jsx)("div",{className:"sb-wrapper",children:(0,Rb.jsxs)("div",{className:"sb-inner",children:[(0,Rb.jsx)("input",{type:"text",placeholder:"Search events...",className:"sb-input"}),(0,Rb.jsx)("button",{className:"sb-button",children:(0,Rb.jsx)(ZN,{})})]})}),GT=()=>(0,Rb.jsxs)("div",{className:"mainpage",children:[(0,Rb.jsx)(UT,{}),(0,Rb.jsx)(KT,{}),(0,Rb.jsxs)("div",{className:"videos-main",children:[(0,Rb.jsx)(WT,{}),(0,Rb.jsx)(zT,{}),(0,Rb.jsx)(VT,{})]})]}),QT=()=>(0,Rb.jsxs)("div",{className:"tokens-header-wrapper",children:[(0,Rb.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n        /* Ensure padding is included in width calculations */\n        .tokens-header-wrapper {\n          width: 100%;\n          max-width: 100%; /* Prevents overflow */\n          margin-left: auto;\n          margin-right: auto;\n          padding: 1rem 2rem; /* Reduced horizontal padding */\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          background-image: url('https://miro.medium.com/v2/resize:fit:1400/1*6mJcjTUqaSlRQA4O58TWCg.jpeg');\n          background-size: cover;\n          background-position: center;\n          border-radius: 0rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), \n                      0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          min-height: 60px;\n          overflow: hidden;\n          box-sizing: border-box; /* Includes padding in width */\n        }\n\n        .poppins-font {\n          font-family: 'Poppins', sans-serif;\n          color: #00FF00;\n          font-size: 3rem;\n          white-space: nowrap; /* Keeps text on a single line */\n          text-shadow: 2px 2px 6px #000; /* Fixed syntax */\n          margin: 0; /* Remove default h1 margin */\n        }\n\n        @media (max-width: 640px) {\n          .poppins-font {\n            font-size: 1.5rem;\n          }\n        }\n      "}),(0,Rb.jsx)("h1",{className:"poppins-font",children:"Test Page"})]}),YT=()=>{const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)(""),[i,a]=(0,t.useState)(0),[o,l]=(0,t.useState)("");return(0,Rb.jsxs)("div",{children:[(0,Rb.jsx)("h2",{children:"Firebase Upload Test"}),(0,Rb.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(!t)return;n(t),r(URL.createObjectURL(t)),a(0),l("");var s,i;const o=jb((s=_b,i="testUploads/".concat(Date.now(),"_").concat(t.name),gb(s=on(s),i)),t);o.on("state_changed",e=>a(e.bytesTransferred/e.totalBytes*100),e=>console.error("Upload failed:",e),async()=>{const e=await function(e){return pb(e=on(e))}(o.snapshot.ref);l(e),console.log("Upload success! URL:",e)})}}),s&&(0,Rb.jsx)("img",{src:s,alt:"preview",style:{width:200}}),i>0&&(0,Rb.jsxs)("p",{children:["Progress: ",Math.round(i),"%"]}),o&&(0,Rb.jsxs)("p",{children:["Download URL: ",(0,Rb.jsx)("a",{href:o,children:o})]})]})};function $T(){const[e,n]=(0,t.useState)(""),s=async e=>{try{let t={};"market"===e?t={orderCreated:xf(),type:"market",marketSpecific:{Carrier:"",trackingNumber:""},sellerInfo:{sellerId:"WGuHMRLO3GckbNVLFdf3VbnJaZi1",sellerMarkedCompleted:!1,sellerDispute:!1},buyerInfo:{buyerId:"qC6szmLNPdYFiPPYBFASOeCm4Hv2",buyerMarkedCompleted:!1,buyerDispute:!1},postData:{postId:"0",title:"Hammaka Hitch Stand Combo",description:"Upgrade your outdoor relaxation setup with the Hammaka Hitch Stand Combo \u2013 the ultimate solution for effortless comfort anywhere! This versatile combo includes a durable hitch-mounted stand and a premium hammock, providing a secure and portable lounging experience. Crafted with high-quality materials, the stand supports your hammock safely while being easy to assemble and transport. Perfect for camping, tailgating, backyard lounging, or road trips, the Hammaka Hitch Stand Combo delivers unmatched convenience and relaxation. Lightweight yet sturdy, it\u2019s designed to fit most vehicles with a standard hitch receiver, giving you the freedom to unwind wherever you go.",images:["https://m.media-amazon.com/images/I/61TDUwjqKCL._UF894,1000_QL80_.jpg","https://res.cloudinary.com/dmjvngk3o/image/upload/v1756576955/dzd5x758ezczi6m9f7om.jpg"],price:"$375.99",condition:"new",shippingTime:"2-4 days"},deliveryInfo:{deliveryName:"Michael Brown",deliveryStreetAddress:"126 Marylane Drive",deliveryCity:"Houston",deliveryState:"TX",deliveryZipCode:"77024"},paymentInfo:{paymentmethod:"Card",lastfour:"4538",paymentSuccessful:!0}}:"offer"===e?t={orderCreated:xf(),type:"offer",sellerInfo:{sellerId:"WGuHMRLO3GckbNVLFdf3VbnJaZi1",sellerMarkedCompleted:!1,sellerDispute:!1},buyerInfo:{buyerId:"qC6szmLNPdYFiPPYBFASOeCm4Hv2",buyerMarkedCompleted:!1,buyerDispute:!1},postData:{postId:"U2drlp1CDkPorUVh5555",title:"I can do the task required today",description:"I'm making an offer to do this task for a good price. Message me if you want more information.",images:["https://mobilemechanicnearmehouston.com/wp-content/uploads/2021/01/dasdasdasda.jpg","https://nebula.wsimg.com/43a8c9ca85ed1d08afcbe1acf5418686?AccessKeyId=38B566A353184F8DD19F&disposition=0&alloworigin=1"],price:"$25"},paymentInfo:{paymentmethod:"Card",lastfour:"5468",paymentSuccessful:!0}}:"directory"===e&&(t={orderCreated:xf(),type:"directory",sellerInfo:{sellerId:"WGuHMRLO3GckbNVLFdf3VbnJaZi1",sellerMarkedCompleted:!1,sellerDispute:!1},buyerInfo:{buyerId:"qC6szmLNPdYFiPPYBFASOeCm4Hv2",buyerMarkedCompleted:!1,buyerDispute:!1},postData:{postId:"2",title:"Frame & Body Repair Service",description:"Restore your vehicle to its original condition with our expert Frame & Body Repair Service. Whether it\u2019s a minor dent, a major collision, or structural damage, our certified technicians use state-of-the-art equipment and proven techniques to ensure your car looks and drives like new. From precision frame alignment to flawless paint matching, we handle every repair with attention to detail and quality craftsmanship.",images:["https://www.libertycollision.center/wp-content/uploads/IMG_8757-1-rotated.jpg"],price:"$550.00",serviceLocation:"Customer Address"},deliveryInfo:{deliveryName:"Matthew Gomez",deliveryStreetAddress:"1548 Willowbrook Drive",deliveryCity:"Dallas",deliveryState:"TX",deliveryZipCode:"75001"},paymentInfo:{paymentmethod:"Card",lastfour:"5476",paymentSuccessful:!0}}),await pf(Xp(Cb,"Orders"),t),n("\u2705 ".concat(e," order created successfully!"))}catch(t){console.error("Error creating dummy order:",t),n("\u274c Failed to create order. Check console.")}};return(0,Rb.jsxs)("div",{className:"dummy-seeder",children:[(0,Rb.jsx)("h2",{children:"Create Dummy Orders"}),(0,Rb.jsxs)("div",{className:"button-group",children:[(0,Rb.jsx)("button",{onClick:()=>s("market"),children:"Add Market Order"}),(0,Rb.jsx)("button",{onClick:()=>s("offer"),children:"Add Offer Order"}),(0,Rb.jsx)("button",{onClick:()=>s("directory"),children:"Add Directory Order"})]}),e&&(0,Rb.jsx)("p",{className:"status-message",children:e})]})}const XT=()=>(0,Rb.jsxs)("div",{className:"content-page",children:[(0,Rb.jsx)(QT,{}),(0,Rb.jsx)(YT,{}),(0,Rb.jsx)($T,{}),(0,Rb.jsx)(NT,{})]}),JT={container:{position:"relative",color:"#fff",padding:"20px 40px",fontFamily:"'Arial', sans-serif",backgroundImage:'url("https://www.milesweb.in/blog/wp-content/uploads/2015/06/ecommerce-stores-hosted-vs-licensed-shopping-cart-solutions-min-1.jpg")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",overflow:"hidden"},leftSide:{maxWidth:"50%"},title:{fontSize:"48px",fontWeight:"900",margin:0,letterSpacing:"2px",textAlign:"left",textShadow:"2px 2px 6px #000"},greenHighlight:{color:"#00FF00",textShadow:"1px 1px 0 #000"},subtitle:{marginTop:"8px",fontWeight:"600",fontSize:"18px",letterSpacing:"1.5px",textAlign:"left",textShadow:"2px 2px 6px #000"},rightSide:{position:"absolute",top:"20px",right:"40px",opacity:.8},bottomBar:{marginTop:"94px",display:"flex",alignItems:"center",gap:"15px"},locationButton:{border:"1px solid #00FF00",background:"black",color:"#00FF00",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},select:{border:"1px solid #00FF00",background:"black",color:"#fff",fontWeight:"600",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},searchInput:{flexGrow:1,padding:"8px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:"#111",color:"#fff"}},ZT=()=>(0,Rb.jsxs)("div",{style:c(c({},JT.container),{},{height:"260px",minHeight:void 0}),children:[(0,Rb.jsxs)("div",{style:JT.leftSide,children:[(0,Rb.jsx)("h1",{style:JT.title,children:(0,Rb.jsx)("span",{style:JT.greenHighlight,children:"Checkout"})}),(0,Rb.jsx)("p",{style:JT.subtitle,children:"Finalize delivery and payment method."})]}),(0,Rb.jsx)("div",{style:JT.rightSide,children:(0,Rb.jsx)("img",{src:"".concat("/Vrumies","/request-icon.png"),alt:"ShoppingCart Icon",width:"70",height:"70",style:{filter:"drop-shadow(0 0 3px #39FF14)"}})}),(0,Rb.jsxs)("div",{style:JT.bottomBar,children:[(0,Rb.jsxs)("button",{style:JT.locationButton,children:[(0,Rb.jsx)("span",{role:"img","aria-label":"location",children:"\ud83d\udccd"})," Location of Post"]}),(0,Rb.jsxs)("select",{style:JT.select,children:[(0,Rb.jsx)("option",{children:"Filter Options \u25bc"}),(0,Rb.jsx)("option",{children:"Option 1"}),(0,Rb.jsx)("option",{children:"Option 2"})]}),(0,Rb.jsxs)("select",{style:JT.select,children:[(0,Rb.jsx)("option",{children:"Sort By Best Match \u25bc"}),(0,Rb.jsx)("option",{children:"Newest"}),(0,Rb.jsx)("option",{children:"Oldest"})]}),(0,Rb.jsx)("input",{type:"search",placeholder:"Type your search here...",style:JT.searchInput})]})]}),eI=DE("pk_test_XXXX"),tI=(0,t.forwardRef)(()=>{const e=(0,xE.useStripe)(),n=(0,xE.useElements)(),{currentUser:s}=pC(),[r,i]=(0,t.useState)({fullName:"",email:"",address:"",city:"",state:"",zip:"",billingFullName:"",billingAddress:"",billingCity:"",billingState:"",billingZip:"",useBillingAsShipping:!1}),[a,o]=(0,t.useState)(""),[l,u]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!s)return;const e=mf(Xp(Cb,"Users",s.uid,"cart"),e=>{const t=e.docs.map(e=>c({id:e.id},e.data()));u(t)});return()=>e()},[s]),(0,t.useEffect)(()=>{r.useBillingAsShipping&&i(e=>c(c({},e),{},{fullName:e.billingFullName,address:e.billingAddress,city:e.billingCity,state:e.billingState,zip:e.billingZip}))},[r.billingFullName,r.billingAddress,r.billingCity,r.billingState,r.billingZip,r.useBillingAsShipping]);const d=e=>{const{name:t,value:n}=e.target;i(e=>c(c({},e),{},{[t]:n}))},h=l.reduce((e,t)=>{return e+(n=t.price,Number(n.toString().replace("$",""))||0);var n},0),p=.15*h,m=h+p;return(0,Rb.jsxs)("div",{className:"cb-checkout-body",children:[(0,Rb.jsx)("h3",{className:"cb-checkout-title",children:"Checkout"}),(0,Rb.jsxs)("form",{className:"cb-checkout-form",onSubmit:t=>{t.preventDefault(),(async()=>{if(!e||!n)return void o("Stripe is not loaded yet.");const t=n.getElement(xE.CardElement),s={name:r.billingFullName,email:r.email,address:{line1:r.billingAddress,city:r.billingCity,state:r.billingState,postal_code:r.billingZip}},{error:i,paymentMethod:a}=await e.createPaymentMethod({type:"card",card:t,billing_details:s});i?o("Error: ".concat(i.message)):(o("Success! Payment method created."),console.log(a))})()},children:[(0,Rb.jsxs)("div",{className:"cb-section",children:[(0,Rb.jsx)("h4",{className:"cb-section-title",children:"Delivery Information"}),(0,Rb.jsxs)("label",{className:"cb-toggle-label",children:[(0,Rb.jsx)("span",{children:"Optional - Use only if seller needs an address."}),(0,Rb.jsxs)("div",{className:"cb-toggle",children:[(0,Rb.jsx)("input",{type:"checkbox",checked:r.useBillingAsShipping,onChange:e=>{const t=e.target.checked;i(e=>c(c({},e),{},{useBillingAsShipping:t,fullName:t?e.billingFullName:"",email:t?e.email:"",address:t?e.billingAddress:"",city:t?e.billingCity:"",state:t?e.billingState:"",zip:t?e.billingZip:""}))}}),(0,Rb.jsx)("span",{className:"cb-slider"})]})]}),r.useBillingAsShipping&&(0,Rb.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Rb.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",value:r.fullName,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",value:r.email,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"address",placeholder:"Street Address",value:r.address,onChange:d,required:!0}),(0,Rb.jsxs)("div",{className:"cb-two-col",children:[(0,Rb.jsx)("input",{type:"text",name:"city",placeholder:"City",value:r.city,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"state",placeholder:"State",value:r.state,onChange:d,required:!0})]}),(0,Rb.jsx)("input",{type:"text",name:"zip",placeholder:"ZIP Code",value:r.zip,onChange:d,required:!0})]})]}),(0,Rb.jsxs)("div",{className:"cb-section",children:[(0,Rb.jsx)("h4",{className:"cb-section-title",children:"Billing Information"}),(0,Rb.jsxs)("div",{className:"cb-fields-with-line",children:[(0,Rb.jsx)("input",{type:"text",name:"billingFullName",placeholder:"Billing Full Name",value:r.billingFullName,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"billingAddress",placeholder:"Billing Street Address",value:r.billingAddress,onChange:d,required:!0}),(0,Rb.jsxs)("div",{className:"cb-two-col",children:[(0,Rb.jsx)("input",{type:"text",name:"billingCity",placeholder:"Billing City",value:r.billingCity,onChange:d,required:!0}),(0,Rb.jsx)("input",{type:"text",name:"billingState",placeholder:"Billing State",value:r.billingState,onChange:d,required:!0})]}),(0,Rb.jsx)("input",{type:"text",name:"billingZip",placeholder:"Billing ZIP",value:r.billingZip,onChange:d,required:!0})]})]}),(0,Rb.jsxs)("div",{className:"cb-section",children:[(0,Rb.jsx)("h4",{className:"cb-section-title",children:"Payment Information"}),(0,Rb.jsx)("div",{className:"cb-card-element cb-card-light",children:(0,Rb.jsx)(xE.CardElement,{options:{style:sI}})})]}),(0,Rb.jsxs)("div",{className:"cb-section cb-order-summary",children:[(0,Rb.jsxs)("div",{className:"cb-row",children:[(0,Rb.jsx)("span",{children:"Subtotal:"}),(0,Rb.jsxs)("span",{children:["$",h.toFixed(2)]})]}),(0,Rb.jsxs)("div",{className:"cb-row",children:[(0,Rb.jsx)("span",{children:"Taxes & Fees:"}),(0,Rb.jsxs)("span",{children:["$",p.toFixed(2)]})]}),(0,Rb.jsx)("hr",{}),(0,Rb.jsxs)("div",{className:"cb-row cb-total",children:[(0,Rb.jsx)("span",{children:"Total:"}),(0,Rb.jsxs)("span",{children:["$",m.toFixed(2)]})]})]}),(0,Rb.jsx)("button",{type:"submit",className:"cb-submit-btn",disabled:!e,children:"Pay Now"})]}),a&&(0,Rb.jsx)("p",{style:{marginTop:"15px",color:a.startsWith("Error")?"#ff6b6b":"#00AA00"},children:a})]})});function nI(){return(0,Rb.jsx)(xE.Elements,{stripe:eI,children:(0,Rb.jsx)(tI,{})})}const sI={style:{base:{color:"#000000",iconColor:"#000000",backgroundColor:"#ffffff",fontFamily:"Arial, sans-serif",fontSize:"16px",lineHeight:"24px","::placeholder":{color:"#555"},caretColor:"#000000","::selection":{color:"#fff",backgroundColor:"#000"},":-webkit-autofill":{color:"#000000"}},invalid:{color:"#ff0000",iconColor:"#ff0000"}}},rI=()=>(0,Rb.jsxs)("div",{className:"content-page",children:[(0,Rb.jsx)(ZT,{}),(0,Rb.jsx)("div",{className:"co-checkout-main",children:(0,Rb.jsx)(nI,{})})]}),iI=e=>{let{children:t}=e;return(0,Rb.jsxs)(Rb.Fragment,{children:[(0,Rb.jsx)(gS,{}),t]})},aI=()=>(0,Rb.jsxs)(Oe,{children:[(0,Rb.jsx)(Re,{path:"/",element:(0,Rb.jsx)(Pe,{to:"/signin",replace:!0})}),(0,Rb.jsx)(Re,{path:"/signin",element:(0,Rb.jsx)(mE,{})}),(0,Rb.jsx)(Re,{path:"/videos",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(VS,{})})}),(0,Rb.jsx)(Re,{path:"/blogs",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(qC,{})})}),(0,Rb.jsx)(Re,{path:"/vehicles",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(GC,{})})}),(0,Rb.jsx)(Re,{path:"/request",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(HS,{})})}),(0,Rb.jsx)(Re,{path:"/market",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(QS,{})})}),(0,Rb.jsx)(Re,{path:"/marketpost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(qE,{})})}),(0,Rb.jsx)(Re,{path:"/events",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(JS,{})})}),(0,Rb.jsx)(Re,{path:"/eventpost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(eT,{})})}),(0,Rb.jsx)(Re,{path:"/directorypost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(rT,{})})}),(0,Rb.jsx)(Re,{path:"/offerpost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(cT,{})})}),(0,Rb.jsx)(Re,{path:"/trucks",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(aC,{})})}),(0,Rb.jsx)(Re,{path:"/truckpost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(RT,{})})}),(0,Rb.jsx)(Re,{path:"/loads",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(uC,{})})}),(0,Rb.jsx)(Re,{path:"/loadpost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(MT,{})})}),(0,Rb.jsx)(Re,{path:"/blogpost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(pT,{})})}),(0,Rb.jsx)(Re,{path:"/requestpost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(ST,{})})}),(0,Rb.jsx)(Re,{path:"/vehiclepost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(TT,{})})}),(0,Rb.jsx)(Re,{path:"/directory",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(nC,{})})}),(0,Rb.jsx)(Re,{path:"/videopost/:id",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(yC,{})})}),(0,Rb.jsx)(Re,{path:"/orders",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(rE,{})})}),(0,Rb.jsx)(Re,{path:"/inbox",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(lE,{})})}),(0,Rb.jsx)(Re,{path:"/tokens",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(pE,{})})}),(0,Rb.jsx)(Re,{path:"/cart",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(FE,{})})}),(0,Rb.jsx)(Re,{path:"/settings",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(QE,{})})}),(0,Rb.jsx)(Re,{path:"/myprofile",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(t_,{})})}),(0,Rb.jsx)(Re,{path:"/myphotos",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(i_,{})})}),(0,Rb.jsx)(Re,{path:"/myreviews",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(c_,{})})}),(0,Rb.jsx)(Re,{path:"/viewprofile/:userId",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(g_,{})})}),(0,Rb.jsx)(Re,{path:"/viewphotos/:userId",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(x_,{})})}),(0,Rb.jsx)(Re,{path:"/viewreviews/:userId",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(k_,{})})}),(0,Rb.jsx)(Re,{path:"/seller",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)($_,{})})}),(0,Rb.jsx)(Re,{path:"/bookmarks",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(GT,{})})}),(0,Rb.jsx)(Re,{path:"/testpage",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(XT,{})})}),(0,Rb.jsx)(Re,{path:"/checkout",element:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(rI,{})})}),(0,Rb.jsx)(Re,{path:"/adminpanel",element:(0,Rb.jsx)(kS,{allowedEmail:"mitchellalvizures@gmail.com",children:(0,Rb.jsx)(iI,{children:(0,Rb.jsx)(UC,{})})})})]});const oI=function(){return(0,Rb.jsx)("div",{className:"App",children:(0,Rb.jsx)(mC,{children:(0,Rb.jsx)(ft,{children:(0,Rb.jsx)(aI,{})})})})},lI=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:s,getFCP:r,getLCP:i,getTTFB:a}=t;n(e),s(e),r(e),i(e),a(e)})};s.createRoot(document.getElementById("root")).render((0,Rb.jsx)(t.StrictMode,{children:(0,Rb.jsx)(oI,{})})),lI()})()})();
//# sourceMappingURL=main.5f8b695c.js.map